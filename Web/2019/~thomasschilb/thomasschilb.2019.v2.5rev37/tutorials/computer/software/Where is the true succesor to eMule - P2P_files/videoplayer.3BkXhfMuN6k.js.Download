(function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<r.length;o++)i(r[o]);return i})({1:[function(e,t,n){"use strict";var r={};r.encode=function(e){var t=[];for(var n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?(t.push(192|r>>6),t.push(128|63&r)):r<65536?(t.push(224|r>>12),t.push(128|63&r>>6),t.push(128|63&r)):(t.push(240|r>>18),t.push(128|63&r>>12),t.push(128|63&r>>6),t.push(128|63&r))}return t},r.decode=function(e){var t=[],n=0;while(n<e.length){var r=e[n++];r<128||(r<224?(r=(31&r)<<6,r|=63&e[n++]):r<240?(r=(15&r)<<12,r|=(63&e[n++])<<6,r|=63&e[n++]):(r=(7&r)<<18,r|=(63&e[n++])<<12,r|=(63&e[n++])<<6,r|=63&e[n++])),t.push(String.fromCharCode(r))}return t.join("")};var i={};(function(e){var t=function(n){var r=0,i=[],s=0|n.length/3;while(0<s--){var o=(n[r]<<16)+(n[r+1]<<8)+n[r+2];r+=3,i.push(e.charAt(63&o>>18)),i.push(e.charAt(63&o>>12)),i.push(e.charAt(63&o>>6)),i.push(e.charAt(63&o))}if(2==n.length-r){var o=(n[r]<<16)+(n[r+1]<<8);i.push(e.charAt(63&o>>18)),i.push(e.charAt(63&o>>12)),i.push(e.charAt(63&o>>6)),i.push("=")}else if(1==n.length-r){var o=n[r]<<16;i.push(e.charAt(63&o>>18)),i.push(e.charAt(63&o>>12)),i.push("==")}return i.join("")},n=function(){var t=[];for(var n=0;n<e.length;++n)t[e.charCodeAt(n)]=n;return t["=".charCodeAt(0)]=0,t}(),o=function(t){var r=0,i=[],s=0|t.length/4;while(0<s--){var o=(n[t.charCodeAt(r)]<<18)+(n[t.charCodeAt(r+1)]<<12)+(n[t.charCodeAt(r+2)]<<6)+n[t.charCodeAt(r+3)];i.push(255&o>>16),i.push(255&o>>8),i.push(255&o),r+=4}return i&&("="==t.charAt(r-2)?(i.pop(),i.pop()):"="==t.charAt(r-1)&&i.pop()),i},u={};u.encode=function(e){var t=[];for(var n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t},u.decode=function(e){for(var t=0;t<s.length;++t)a[t]=String.fromCharCode(a[t]);return a.join("")},i.decodeArray=function(e){var t=o(e);return new Uint8Array(t)},i.encodeASCII=function(e){var n=u.encode(e);return t(n)},i.decodeASCII=function(e){var t=o(e);return u.decode(t)},i.encode=function(e){var n=r.encode(e);return t(n)},i.decode=function(e){var t=o(e);return r.decode(t)}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),typeof n!="undefined"&&(n.decode=i.decode,n.decodeArray=i.decodeArray)},{}],2:[function(e,t,n){"use strict";(function(e){var t={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},n=function(n){var r=n;return t.hasOwnProperty(n)&&(r=t[n]),String.fromCharCode(r)},r=15,i=32,s={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},o={17:2,18:4,21:6,22:8,23:10,19:13,20:15},u={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},a={25:2,26:4,29:6,30:8,31:10,27:13,28:15},f=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],l={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(t){this.time=t},log:function(t,n){var r=this.verboseFilter[t];this.verboseLevel>=r&&console.log(this.time+" ["+t+"] "+n)}},c=function(t){var n=[];for(var r=0;r<t.length;r++)n.push(t[r].toString(16));return n},h=function(t,n,r,i,s){this.foreground=t||"white",this.underline=n||!1,this.italics=r||!1,this.background=i||"black",this.flash=s||!1};h.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(t){var n=["foreground","underline","italics","background","flash"];for(var r=0;r<n.length;r++){var i=n[r];t.hasOwnProperty(i)&&(this[i]=t[i])}},isDefault:function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},equals:function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},copy:function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},toString:function w(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var p=function(t,n,r,i,s,o){this.uchar=t||" ",this.penState=new h(n,r,i,s,o)};p.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(t,n){this.uchar=t,this.penState.copy(n)},setPenState:function(t){this.penState.copy(t)},equals:function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},copy:function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},isEmpty:function(){return this.uchar===" "&&this.penState.isDefault()}};var d=function(){this.chars=[];for(var t=0;t<i;t++)this.chars.push(new p);this.pos=0,this.currPenState=new h};d.prototype={equals:function(t){var n=!0;for(var r=0;r<i;r++)if(!this.chars[r].equals(t.chars[r])){n=!1;break}return n},copy:function(t){for(var n=0;n<i;n++)this.chars[n].copy(t.chars[n])},isEmpty:function(){var t=!0;for(var n=0;n<i;n++)if(!this.chars[n].isEmpty()){t=!1;break}return t},setCursor:function(t){this.pos!==t&&(this.pos=t),this.pos<0?(l.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>i&&(l.log("ERROR","Too large cursor position "+this.pos),this.pos=i)},moveCursor:function(t){var n=this.pos+t;if(t>1)for(var r=this.pos+1;r<n+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(n)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(t){t>=144&&this.backSpace();var r=n(t);if(this.pos>=i){l.log("ERROR","Cannot insert "+t.toString(16)+" ("+r+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(r,this.currPenState),this.moveCursor(1)},clearFromPos:function(t){var n;for(n=t;n<i;n++)this.chars[n].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){var t=[],n=!0;for(var r=0;r<i;r++){var s=this.chars[r].uchar;s!==" "&&(n=!1),t.push(s)}return n?"":t.join("")},setPenStyles:function(t){this.currPenState.setStyles(t);var n=this.chars[this.pos];n.setPenState(this.currPenState)}};var v=function(){this.rows=[];for(var t=0;t<r;t++)this.rows.push(new d);this.currRow=r-1,this.nrRollUpRows=null,this.reset()};v.prototype={reset:function(){for(var t=0;t<r;t++)this.rows[t].clear();this.currRow=r-1},equals:function(t){var n=!0;for(var i=0;i<r;i++)if(!this.rows[i].equals(t.rows[i])){n=!1;break}return n},copy:function(t){for(var n=0;n<r;n++)this.rows[n].copy(t.rows[n])},isEmpty:function(){var t=!0;for(var n=0;n<r;n++)if(!this.rows[n].isEmpty()){t=!1;break}return t},backSpace:function(){var t=this.rows[this.currRow];t.backSpace()},clearToEndOfRow:function(){var t=this.rows[this.currRow];t.clearToEndOfRow()},insertChar:function(t){var n=this.rows[this.currRow];n.insertChar(t)},setPen:function(t){var n=this.rows[this.currRow];n.setPenStyles(t)},moveCursor:function(t){var n=this.rows[this.currRow];n.moveCursor(t)},setCursor:function(t){l.log("INFO","setCursor: "+t);var n=this.rows[this.currRow];n.setCursor(t)},setPAC:function(t){l.log("INFO","pacData = "+JSON.stringify(t));var n=t.row-1;this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.currRow=n;var r=this.rows[this.currRow];if(t.indent!==null){var i=t.indent,s=Math.max(i-1,0);r.setCursor(t.indent),t.color=r.chars[s].penState.foreground}var o={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(o)},setBkgData:function(t){l.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},setRollUpRows:function(t){this.nrRollUpRows=t},rollUp:function(){if(this.nrRollUpRows===null){l.log("DEBUG","roll_up but nrRollUpRows not set yet");return}l.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(t,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),l.log("INFO","Rolling up")},getDisplayText:function(t){t=t||!1;var n=[],i="",s=-1;for(var o=0;o<r;o++){var u=this.rows[o].getTextString();u&&(s=o+1,t?n.push("Row "+s+': "'+u+'"'):n.push(u.trim()))}return n.length>0&&(t?i="["+n.join(" | ")+"]":i=n.join("\n")),i},getTextAndFormat:function(){return this.rows}};var m=function(t,n){this.chNr=t,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new v,this.nonDisplayedMemory=new v,this.lastOutputScreen=new v,this.currRollUpRow=this.displayedMemory.rows[r-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};m.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[r-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(t){this.outputFilter=t},setPAC:function(t){this.writeScreen.setPAC(t)},setBkgData:function(t){this.writeScreen.setBkgData(t)},setMode:function(t){if(t===this.mode)return;this.mode=t,l.log("INFO","MODE="+t),this.mode=="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t},insertChars:function(t){for(var n=0;n<t.length;n++)this.writeScreen.insertChar(t[n]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";l.log("INFO",r+": "+this.writeScreen.getDisplayText(!0));if(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")l.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate()},cc_RCL:function(){l.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){l.log("INFO","BS - BackSpace");if(this.mode==="MODE_TEXT")return;this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate()},cc_AOF:function(){return},cc_AON:function(){return},cc_DER:function(){l.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(t){l.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},cc_FON:function(){l.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){l.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){l.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){l.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){l.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){l.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){l.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){l.log("INFO","EOC - End Of Caption");if(this.mode==="MODE_POP-ON"){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,l.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(t){l.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},cc_MIDROW:function(t){var n={flash:!1};n.underline=t%2===1,n.italics=t>=46;if(!n.italics){var r=Math.floor(t/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];n.foreground=i[r]}else n.foreground="white";l.log("INFO","MIDROW: "+JSON.stringify(n)),this.writeScreen.setPen(n)},outputDataUpdate:function(){var t=l.time;if(t===null)return;this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(t,this.displayedMemory),this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=t:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:t),this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))}};var g=function(t,n,r){this.field=t||1,this.outputs=[n,r],this.channels=[new m(1,n),new m(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,"char":0,cmd:0,other:0}};g.prototype={getHandler:function(t){return this.channels[t].getHandler()},setHandler:function(t,n){this.channels[t].setHandler(n)},addData:function(t,n){var r,i,s,o=!1;this.lastTime=t,l.setTime(t);for(var u=0;u<n.length;u+=2){i=n[u]&127,s=n[u+1]&127;if(i===0&&s===0){this.dataCounters.padding+=2;continue}l.log("DATA","["+c([n[u],n[u+1]])+"] -> ("+c([i,s])+")"),r=this.parseCmd(i,s),r||(r=this.parseMidrow(i,s)),r||(r=this.parsePAC(i,s)),r||(r=this.parseBackgroundAttributes(i,s));if(!r){o=this.parseChars(i,s);if(o)if(this.currChNr&&this.currChNr>=0){var a=this.channels[this.currChNr-1];a.insertChars(o)}else l.log("WARNING","No channel found yet. TEXT-MODE?")}r?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,l.log("WARNING","Couldn't parse cleaned data "+c([i,s])+" orig: "+c([n[u],n[u+1]])))}},parseCmd:function(t,n){var r=null,i=(t===20||t===28)&&32<=n&&n<=47,s=(t===23||t===31)&&33<=n&&n<=35;if(!i&&!s)return!1;if(t===this.lastCmdA&&n===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,l.log("DEBUG","Repeated command ("+c([t,n])+") is dropped"),!0;t===20||t===23?r=1:r=2;var o=this.channels[r-1];return t===20||t===28?n===32?o.cc_RCL():n===33?o.cc_BS():n===34?o.cc_AOF():n===35?o.cc_AON():n===36?o.cc_DER():n===37?o.cc_RU(2):n===38?o.cc_RU(3):n===39?o.cc_RU(4):n===40?o.cc_FON():n===41?o.cc_RDC():n===42?o.cc_TR():n===43?o.cc_RTD():n===44?o.cc_EDM():n===45?o.cc_CR():n===46?o.cc_ENM():n===47&&o.cc_EOC():o.cc_TO(n-32),this.lastCmdA=t,this.lastCmdB=n,this.currChNr=r,!0},parseMidrow:function(t,n){var r=null;if((t===17||t===25)&&32<=n&&n<=47){t===17?r=1:r=2;if(r!==this.currChNr)return l.log("ERROR","Mismatch channel in midrow parsing"),!1;var i=this.channels[r-1];return i.cc_MIDROW(n),l.log("DEBUG","MIDROW ("+c([t,n])+")"),!0}return!1},parsePAC:function(t,n){var r=null,i=null,f=(17<=t&&t<=23||25<=t&&t<=31)&&64<=n&&n<=127,l=(t===16||t===24)&&64<=n&&n<=95;if(!f&&!l)return!1;if(t===this.lastCmdA&&n===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;r=t<=23?1:2,64<=n&&n<=95?i=r===1?s[t]:u[t]:i=r===1?o[t]:a[t];var c=this.interpretPAC(i,n),h=this.channels[r-1];return h.setPAC(c),this.lastCmdA=t,this.lastCmdB=n,this.currChNr=r,!0},interpretPAC:function(t,n){var r=n,i={color:null,italics:!1,indent:null,underline:!1,row:t};return n>95?r=n-96:r=n-64,i.underline=(r&1)===1,r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((r-16)/2)*4,i},parseChars:function(t,r){var i=null,s=null,o=null,u=null;t>=25?(i=2,o=t-8):(i=1,o=t);if(17<=o&&o<=19){var a=r;o===17?a=r+80:o===18?a=r+112:a=r+144,l.log("INFO","Special char '"+n(a)+"' in channel "+i),s=[a]}else 32<=t&&t<=127&&(s=r===0?[t]:[t,r]);if(s){var f=c(s);l.log("DEBUG","Char codes =  "+f.join(",")),this.lastCmdA=null,this.lastCmdB=null}return s},parseBackgroundAttributes:function(t,n){var r,i,s,o,u=(t===16||t===24)&&32<=n&&n<=47,a=(t===23||t===31)&&45<=n&&n<=47;return!u&&!a?!1:(r={},t===16||t===24?(i=Math.floor((n-32)/2),r.background=f[i],n%2===1&&(r.background=r.background+"_semi")):n===45?r.background="transparent":(r.foreground="black",n===47&&(r.underline=!0)),s=t<24?1:2,o=this.channels[s-1],o.setBkgData(r),this.lastCmdA=null,this.lastCmdB=null,!0)},reset:function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(t){for(var n=0;n<this.channels.length;n++)this.channels[n]&&this.channels[n].cueSplitAtTime(t)}};var y=function(t,n,r){var i=0,s=n,o=0,u=[],a=function(t,n,r,i){if(t!==4||n<8)return null;var s=r.getUint8(i),o=r.getUint16(i+1),u=r.getUint32(i+3),a=r.getUint8(i+7);return s==181&&o==49&&u==1195456820&&a==3};while(s<n+r){i=t.getUint32(s),o=t.getUint8(s+4)&31;if(o===6){var f=s+5,l=-1;while(f<s+4+i-1){l=0;var c=255;while(c===255)c=t.getUint8(f),l+=c,f++;var h=0;c=255;while(c===255)c=t.getUint8(f),h+=c,f++;a(l,h,t,f)&&u.push([f,h]),f+=h}}s+=i+4}return u},b=function(t,n){var r=n[0],i=[[],[]];r+=8;var s=t.getUint8(r)&31;r+=2;for(var o=0;o<s;o++){var u=t.getUint8(r),a=u&4,f=u&3;r++;var l=t.getUint8(r);r++;var c=t.getUint8(r);r++,a&&(l&127)+(c&127)!==0&&(f===0?(i[0].push(l),i[0].push(c)):f===1&&(i[1].push(l),i[1].push(c)))}return i};e.logger=l,e.PenState=h,e.CaptionScreen=v,e.Cea608Parser=g,e.findCea608Nalus=y,e.extractCea608DataFromRange=b})(typeof n=="undefined"?undefined.cea608parser={}:n)},{}],3:[function(e,t,n){"use strict";function r(e){var t,n,r;t=[];for(r=0,n=e.length;r<n;r+=1)e[r].isRoot?t.push("root"):t.push(e[r].name);var i=function(t,n){var r,i,s;if(t===null||n===null)return;for(r in t)t.hasOwnProperty(r)&&(n.hasOwnProperty(r)||(n[r]=t[r]))},s=function(t,n,r){var s,o,u,a,f;if(t===null||t.length===0)return;for(s=0,o=t.length;s<o;s+=1)u=t[s],n.hasOwnProperty(u.name)&&(r.hasOwnProperty(u.name)?u.merge&&(a=n[u.name],f=r[u.name],typeof a=="object"&&typeof f=="object"?i(a,f):u.mergeFunction!=null?r[u.name]=u.mergeFunction(a,f):r[u.name]=a+f):r[u.name]=n[u.name])},o=function a(e,t){var n=e,r,i,o,u,f,l,c,h;if(n.children===null||n.children.length===0)return;for(r=0,i=n.children.length;r<i;r+=1){l=n.children[r];if(t.hasOwnProperty(l.name))if(l.isArray){f=t[l.name+"_asArray"];for(o=0,u=f.length;o<u;o+=1)c=f[o],s(n.properties,t,c),a(l,c)}else c=t[l.name],s(n.properties,t,c),a(l,c)}},u=function f(n){var r,i,s,u,a,l,c;if(n===null)return n;if(typeof n!="object")return n;for(r=0,i=t.length;r<i;r+=1)t[r]==="root"&&(a=e[r],l=n,o(a,l));for(u in n)if(n.hasOwnProperty(u)&&u!="__children"){s=t.indexOf(u);if(s!==-1){a=e[s];if(a.isArray){c=n[u+"_asArray"];for(r=0,i=c.length;r<i;r+=1)l=c[r],o(a,l)}else l=n[u],o(a,l)}f(n[u])}return n};return{run:u}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r,t.exports=n["default"]},{}],4:[function(e,t,n){"use strict";function r(e){function n(){e.escapeMode===undefined&&(e.escapeMode=!0),e.attributePrefix===undefined&&(e.attributePrefix="_"),e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",e.enableToStringFunc===undefined&&(e.enableToStringFunc=!0),e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],e.skipEmptyTextNodesForObj===undefined&&(e.skipEmptyTextNodesForObj=!0),e.stripWhitespaces===undefined&&(e.stripWhitespaces=!0),e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],e.useDoubleQuotes===undefined&&(e.useDoubleQuotes=!1),e.xmlElementsFilter=e.xmlElementsFilter||[],e.jsonPropertiesFilter=e.jsonPropertiesFilter||[],e.keepCData===undefined&&(e.keepCData=!1),e.ignoreRoot===undefined&&(e.ignoreRoot=!1)}function i(){}function s(e){var t=e.localName;t==null&&(t=e.baseName);if(t==null||t=="")t=e.nodeName;return t}function o(e){return e.prefix}function u(e){return typeof e=="string"?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function a(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&amp;/g,"&")}function f(e,t,n,r){var i=0;for(;i<e.length;i++){var s=e[i];if(typeof s=="string"){if(s==r)break}else if(s instanceof RegExp){if(s.test(r))break}else if(typeof s=="function"&&s(t,n,r))break}return i!=e.length}function l(t,n,r){switch(e.arrayAccessForm){case"property":t[n]instanceof Array?t[n+"_asArray"]=t[n]:t[n+"_asArray"]=[t[n]]}!(t[n]instanceof Array)&&e.arrayAccessFormPaths.length>0&&f(e.arrayAccessFormPaths,t,n,r)&&(t[n]=[t[n]])}function c(e){var t=e.split(/[-T:+Z]/g),n=new Date(t[0],t[1]-1,t[2]),r=t[5].split(".");n.setHours(t[3],t[4],r[0]),r.length>1&&n.setMilliseconds(r[1]);if(t[6]&&t[7]){var i=t[6]*60+Number(t[7]),s=/\d\d-\d\d:\d\d$/.test(e)?"-":"+";i=0+(s=="-"?-1*i:i),n.setMinutes(n.getMinutes()-i-n.getTimezoneOffset())}else e.indexOf("Z",e.length-1)!==-1&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())));return n}function h(t,n,r){if(e.datetimeAccessFormPaths.length>0){var i=r.split(".#")[0];return f(e.datetimeAccessFormPaths,t,n,i)?c(t):t}return t}function p(t,n,i,s){return n==r.ELEMENT_NODE&&e.xmlElementsFilter.length>0?f(e.xmlElementsFilter,t,i,s):!0}function d(t,n){if(t.nodeType==r.DOCUMENT_NODE){var i=new Object,u=t.childNodes;for(var a=0;a<u.length;a++){var f=u[a];if(f.nodeType==r.ELEMENT_NODE)if(e.ignoreRoot)i=d(f);else{i={};var c=s(f);i[c]=d(f)}}return i}if(t.nodeType==r.ELEMENT_NODE){var i=new Object;i.__cnt=0;var v=[],u=t.childNodes;for(var a=0;a<u.length;a++){var f=u[a],c=s(f);if(f.nodeType!=r.COMMENT_NODE){var m=n+"."+c;if(p(i,f.nodeType,c,m)){i.__cnt++;if(i[c]==null){var g=d(f,m);if(c!="#text"||/[^\s]/.test(g)){var y={};y[c]=g,v.push(y)}i[c]=g,l(i,c,m)}else{i[c]!=null&&(i[c]instanceof Array||(i[c]=[i[c]],l(i,c,m)));var g=d(f,m);if(c!="#text"||/[^\s]/.test(g)){var y={};y[c]=g,v.push(y)}i[c][i[c].length]=g}}}}i.__children=v;var b=s(t);for(var w=0;w<t.attributes.length;w++){var E=t.attributes[w];i.__cnt++;var S=E.value;for(var x=0,T=e.matchers.length;x<T;x++){var N=e.matchers[x];N.test(E,b)&&(S=N.converter(E.value))}i[e.attributePrefix+E.name]=S}var C=o(t);return C!=null&&C!=""&&(i.__cnt++,i.__prefix=C),i["#text"]!=null&&(i.__text=i["#text"],i.__text instanceof Array&&(i.__text=i.__text.join("\n")),e.stripWhitespaces&&(i.__text=i.__text.trim()),delete i["#text"],e.arrayAccessForm=="property"&&delete i["#text_asArray"],i.__text=h(i.__text,c,n+"."+c)),i["#cdata-section"]!=null&&(i.__cdata=i["#cdata-section"],delete i["#cdata-section"],e.arrayAccessForm=="property"&&delete i["#cdata-section_asArray"]),i.__cnt==0&&e.emptyNodeForm=="text"?i="":i.__cnt==1&&i.__text!=null?i=i.__text:i.__cnt==1&&i.__cdata!=null&&!e.keepCData?i=i.__cdata:i.__cnt>1&&i.__text!=null&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&i.__text==""||i.__text.trim()=="")&&delete i.__text,delete i.__cnt,e.enableToStringFunc&&(i.__text!=null||i.__cdata!=null)&&(i.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}),i}if(t.nodeType==r.TEXT_NODE||t.nodeType==r.CDATA_SECTION_NODE)return t.nodeValue}function v(t,n,r,i){var s="<"+(t!=null&&t.__prefix!=null?t.__prefix+":":"")+n;if(r!=null)for(var o=0;o<r.length;o++){var a=r[o],f=t[a];e.escapeMode&&(f=u(f)),s+=" "+a.substr(e.attributePrefix.length)+"=",e.useDoubleQuotes?s+='"'+f+'"':s+="'"+f+"'"}return i?s+="/>":s+=">",s}function m(e,t){return"</"+(e.__prefix!=null?e.__prefix+":":"")+t+">"}function g(e,t){return e.indexOf(t,e.length-t.length)!==-1}function y(t,n){return e.arrayAccessForm=="property"&&g(n.toString(),"_asArray")||n.toString().indexOf(e.attributePrefix)==0||n.toString().indexOf("__")==0||t[n]instanceof Function?!0:!1}function b(e){var t=0;if(e instanceof Object)for(var n in e){if(y(e,n))continue;t++}return t}function w(t,n,r){return e.jsonPropertiesFilter.length==0||r==""||f(e.jsonPropertiesFilter,t,n,r)}function E(t){var n=[];if(t instanceof Object)for(var r in t)r.toString().indexOf("__")==-1&&r.toString().indexOf(e.attributePrefix)==0&&n.push(r);return n}function S(t){var n="";return t.__cdata!=null&&(n+="<![CDATA["+t.__cdata+"]]>"),t.__text!=null&&(e.escapeMode?n+=u(t.__text):n+=t.__text),n}function x(t){var n="";return t instanceof Object?n+=S(t):t!=null&&(e.escapeMode?n+=u(t):n+=t),n}function T(e,t){return e===""?t:e+"."+t}function N(e,t,n,r){var i="";if(e.length==0)i+=v(e,t,n,!0);else for(var s=0;s<e.length;s++)i+=v(e[s],t,E(e[s]),!1),i+=C(e[s],T(r,t)),i+=m(e[s],t);return i}function C(e,t){var n="",r=b(e);if(r>0)for(var i in e){if(y(e,i)||t!=""&&!w(e,i,T(t,i)))continue;var s=e[i],o=E(s);if(s==null||s==undefined)n+=v(s,i,o,!0);else if(s instanceof Object)if(s instanceof Array)n+=N(s,i,o,t);else if(s instanceof Date)n+=v(s,i,o,!1),n+=s.toISOString(),n+=m(s,i);else{var u=b(s);u>0||s.__text!=null||s.__cdata!=null?(n+=v(s,i,o,!1),n+=C(s,T(t,i)),n+=m(s,i)):n+=v(s,i,o,!0)}else n+=v(s,i,o,!1),n+=x(s),n+=m(s,i)}return n+=x(e),n}var t="1.2.0";e=e||{},n(),i();var r={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(e){var t=window.ActiveXObject||"ActiveXObject"in window;if(e===undefined)return null;var n;if(window.DOMParser){var r=new window.DOMParser,i=null;if(!t)try{i=r.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(s){i=null}try{n=r.parseFromString(e,"text/xml"),i!=null&&n.getElementsByTagNameNS(i,"parsererror").length>0&&(n=null)}catch(s){n=null}}else e.indexOf("<?")==0&&(e=e.substr(e.indexOf("?>")+2)),n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e);return n},this.asArray=function(e){return e===undefined||e==null?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():typeof e=="number"?(new Date(e)).toISOString():null},this.asDateTime=function(e){return typeof e=="string"?c(e):e},this.xml2json=function(e){return d(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return t!=null?this.xml2json(t):null},this.json2xml_str=function(e){return C(e,"")},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r,t.exports=n["default"]},{}],5:[function(e,t,n){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(52),s=r(i),o=e(104),u=r(o),a=e(73),f=r(a),l=e(54),c=r(l),h=e(11),p=typeof window!="undefined"&&window||t,d=p.dashjs;d||(d=p.dashjs={}),d.MediaPlayer=s["default"],d.Protection=u["default"],d.MetricsReporting=f["default"],d.MediaPlayerFactory=c["default"],d.Version=(0,h.getVersionString)(),n["default"]=d,n.MediaPlayer=s["default"],n.Protection=u["default"],n.MetricsReporting=f["default"],n.MediaPlayerFactory=c["default"]}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{104:104,11:11,52:52,54:54,73:73}],6:[function(e,t,n){var r={};r.parseBuffer=function(e){return(new i(e)).parse()},r.addBoxProcessor=function(e,t){if(typeof e!="string"||typeof t!="function")return;s.prototype._boxProcessors[e]=t},r.createFile=function(){return new i},r.createBox=function(e,t,n){var r=s.create(e);return t&&t.append(r,n),r},r.createFullBox=function(e,t,n){var i=r.createBox(e,t,n);return i.version=0,i.flags=0,i},r.Utils={},r.Utils.dataViewToString=function(e,t){var n=t||"utf-8";if(typeof TextDecoder!="undefined")return(new TextDecoder(n)).decode(e);var r=[],i=0;if(n==="utf-8")while(i<e.byteLength){var s=e.getUint8(i++);s<128||(s<224?(s=(s&31)<<6,s|=e.getUint8(i++)&63):s<240?(s=(s&15)<<12,s|=(e.getUint8(i++)&63)<<6,s|=e.getUint8(i++)&63):(s=(s&7)<<18,s|=(e.getUint8(i++)&63)<<12,s|=(e.getUint8(i++)&63)<<6,s|=e.getUint8(i++)&63)),r.push(String.fromCharCode(s))}else while(i<e.byteLength)r.push(String.fromCharCode(e.getUint8(i++)));return r.join("")},r.Utils.utf8ToByteArray=function(e){var t,n;if(typeof TextEncoder!="undefined")t=(new TextEncoder).encode(e);else{t=[];for(n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?(t.push(192|r>>6),t.push(128|63&r)):r<65536?(t.push(224|r>>12),t.push(128|63&r>>6),t.push(128|63&r)):(t.push(240|r>>18),t.push(128|63&r>>12),t.push(128|63&r>>6),t.push(128|63&r))}}return t},r.Utils.appendBox=function(e,t,n){t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e;if(n===-1)return;if(n===undefined||n===null){e.boxes.push(t);return}var r=-1,i;if(typeof n=="number")r=n;else{if(typeof n=="string")i=n;else{if(typeof n!="object"||!n.type){e.boxes.push(t);return}i=n.type}for(var s=0;s<e.boxes.length;s++)if(i===e.boxes[s].type){r=s+1;break}}e.boxes.splice(r,0,t)},typeof n!="undefined"&&(n.parseBuffer=r.parseBuffer,n.addBoxProcessor=r.addBoxProcessor,n.createFile=r.createFile,n.createBox=r.createBox,n.createFullBox=r.createFullBox,n.Utils=r.Utils),r.Cursor=function(e){this.offset=typeof e=="undefined"?0:e};var i=function(e){this._cursor=new r.Cursor,this.boxes=[],e&&(this._raw=new DataView(e))};i.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},i.prototype.fetchAll=function(e,t){var n=[];return i._sweep.call(this,e,n,t),n},i.prototype.parse=function(){this._cursor.offset=0,this.boxes=[];while(this._cursor.offset<this._raw.byteLength){var e=s.parse(this);if(typeof e.type=="undefined")break;this.boxes.push(e)}return this},i._sweep=function(e,t,n){this.type&&this.type==e&&t.push(this);for(var r in this.boxes){if(t.length&&n)return;i._sweep.call(this.boxes[r],e,t,n)}},i.prototype.write=function(){var e=0,t;for(t=0;t<this.boxes.length;t++)e+=this.boxes[t].getLength(!1);var n=new Uint8Array(e);this._rawo=new DataView(n.buffer),this.bytes=n,this._cursor.offset=0;for(t=0;t<this.boxes.length;t++)this.boxes[t].write();return n.buffer},i.prototype.append=function(e,t){r.Utils.appendBox(this,e,t)};var s=function(){this._cursor=new r.Cursor};s.parse=function(e){var t=new s;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},s.create=function(e){var t=new s;return t.type=e,t.boxes=[],t},s.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],s.prototype._boxProcessors={},s.prototype._procField=function(e,t,n){this._parsing?this[e]=this._readField(t,n):this._writeField(t,n,this[e])},s.prototype._procFieldArray=function(e,t,n,r){var i;if(this._parsing){this[e]=[];for(i=0;i<t;i++)this[e][i]=this._readField(n,r)}else for(i=0;i<this[e].length;i++)this._writeField(n,r,this[e][i])},s.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},s.prototype._procEntries=function(e,t,n){var r;if(this._parsing){this[e]=[];for(r=0;r<t;r++)this[e].push({}),n.call(this,this[e][r])}else for(r=0;r<t;r++)n.call(this,this[e][r])},s.prototype._procSubEntries=function(e,t,n,r){var i;if(this._parsing){e[t]=[];for(i=0;i<n;i++)e[t].push({}),r.call(this,e[t][i])}else for(i=0;i<n;i++)r.call(this,e[t][i])},s.prototype._procEntryField=function(e,t,n,r){this._parsing?e[t]=this._readField(n,r):this._writeField(n,r,e[t])},s.prototype._procSubBoxes=function(e,t){var n;if(this._parsing){this[e]=[];for(n=0;n<t;n++)this[e].push(s.parse(this))}else for(n=0;n<t;n++)this._rawo?this[e][n].write():this.size+=this[e][n].getLength()},s.prototype._readField=function(e,t){switch(e){case"uint":return this._readUint(t);case"int":return this._readInt(t);case"template":return this._readTemplate(t);case"string":return t===-1?this._readTerminatedString():this._readString(t);case"data":return this._readData(t);case"utf8":return this._readUTF8String();default:return-1}},s.prototype._readInt=function(e){var t=null,n=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:t=this._raw.getInt8(n);break;case 16:t=this._raw.getInt16(n);break;case 32:t=this._raw.getInt32(n);break;case 64:var r=this._raw.getInt32(n),i=this._raw.getInt32(n+4);t=r*Math.pow(2,32)+i}return this._cursor.offset+=e>>3,t},s.prototype._readUint=function(e){var t=null,n=this._cursor.offset-this._raw.byteOffset,r,i;switch(e){case 8:t=this._raw.getUint8(n);break;case 16:t=
this._raw.getUint16(n);break;case 24:r=this._raw.getUint16(n),i=this._raw.getUint8(n+2),t=(r<<8)+i;break;case 32:t=this._raw.getUint32(n);break;case 64:r=this._raw.getUint32(n),i=this._raw.getUint32(n+4),t=r*Math.pow(2,32)+i}return this._cursor.offset+=e>>3,t},s.prototype._readString=function(e){var t="";for(var n=0;n<e;n++){var r=this._readUint(8);t+=String.fromCharCode(r)}return t},s.prototype._readTemplate=function(e){var t=this._readUint(e/2),n=this._readUint(e/2);return t+n/Math.pow(2,e/2)},s.prototype._readTerminatedString=function(){var e="";while(this._cursor.offset-this._offset<this._raw.byteLength){var t=this._readUint(8);if(t===0)break;e+=String.fromCharCode(t)}return e},s.prototype._readData=function(e){var t=e>0?e:this._raw.byteLength-(this._cursor.offset-this._offset),n;return this._cursor.offset===this._raw.buffer.byteLength?n=new DataView(new ArrayBuffer(0)):n=new DataView(this._raw.buffer,this._cursor.offset,t),this._cursor.offset+=t,n},s.prototype._readUTF8String=function(){var e=this._readData();return r.Utils.dataViewToString(e)},s.prototype._parseBox=function(){this._parsing=!0,this._cursor.offset=this._offset;if(this._offset+8>this._raw.buffer.byteLength){this._root._incomplete=!0;return}this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8);switch(this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1?this._parseContainerBox():this._data=this._readData())},s.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},s.prototype._parseContainerBox=function(){this.boxes=[];while(this._cursor.offset-this._raw.byteOffset<this._raw.byteLength)this.boxes.push(s.parse(this))},s.prototype.append=function(e,t){r.Utils.appendBox(this,e,t)},s.prototype.getLength=function(){this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this);if(this._boxContainers.indexOf(this.type)!==-1)for(var e=0;e<this.boxes.length;e++)this.size+=this.boxes[e].getLength();return this._data&&this._writeData(this._data),this.size},s.prototype.write=function(){this._parsing=!1,this._cursor.offset=this._parent._cursor.offset;switch(this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this);if(this._boxContainers.indexOf(this.type)!==-1)for(var e=0;e<this.boxes.length;e++)this.boxes[e].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},s.prototype._writeInt=function(e,t){if(this._rawo){var n=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setInt8(n,t);break;case 16:this._rawo.setInt16(n,t);break;case 32:this._rawo.setInt32(n,t);break;case 64:var r=Math.floor(t/Math.pow(2,32)),i=t-r*Math.pow(2,32);this._rawo.setUint32(n,r),this._rawo.setUint32(n+4,i)}this._cursor.offset+=e>>3}else this.size+=e>>3},s.prototype._writeUint=function(e,t){if(this._rawo){var n=this._cursor.offset-this._rawo.byteOffset,r,i;switch(e){case 8:this._rawo.setUint8(n,t);break;case 16:this._rawo.setUint16(n,t);break;case 24:r=(t&16776960)>>8,i=t&255,this._rawo.setUint16(n,r),this._rawo.setUint8(n+2,i);break;case 32:this._rawo.setUint32(n,t);break;case 64:r=Math.floor(t/Math.pow(2,32)),i=t-r*Math.pow(2,32),this._rawo.setUint32(n,r),this._rawo.setUint32(n+4,i)}this._cursor.offset+=e>>3}else this.size+=e>>3},s.prototype._writeString=function(e,t){for(var n=0;n<e;n++)this._writeUint(8,t.charCodeAt(n))},s.prototype._writeTerminatedString=function(e){if(e.length===0)return;for(var t=0;t<e.length;t++)this._writeUint(8,e.charCodeAt(t));this._writeUint(8,0)},s.prototype._writeTemplate=function(e,t){var n=Math.floor(t),r=(t-n)*Math.pow(2,e/2);this._writeUint(e/2,n),this._writeUint(e/2,r)},s.prototype._writeData=function(e){e instanceof Array&&(e=new DataView(Uint8Array.from(e).buffer)),e instanceof Uint8Array&&(e=new DataView(e.buffer));if(this._rawo){var t=this._cursor.offset-this._rawo.byteOffset;for(var n=0;n<e.byteLength;n++)this._rawo.setUint8(t+n,e.getUint8(n));this._cursor.offset+=e.byteLength}else this.size+=e.byteLength},s.prototype._writeUTF8String=function(e){var t=r.Utils.utf8ToByteArray(e);if(this._rawo){var n=new DataView(this._rawo.buffer,this._cursor.offset,t.length);for(var i=0;i<t.length;i++)n.setUint8(i,t[i])}else this.size+=t.length},s.prototype._writeField=function(e,t,n){switch(e){case"uint":this._writeUint(t,n);break;case"int":this._writeInt(t,n);break;case"template":this._writeTemplate(t,n);break;case"string":t==-1?this._writeTerminatedString(n):this._writeString(t,n);break;case"data":this._writeData(n);break;case"utf8":this._writeUTF8String(n);break;default:}},s.prototype._boxProcessors.avc1=s.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},s.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},s.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(e){this._procEntryField(e,"segment_duration","uint",this.version===1?64:32),this._procEntryField(e,"media_time","int",this.version===1?64:32),this._procEntryField(e,"media_rate_integer","int",16),this._procEntryField(e,"media_rate_fraction","int",16)})},s.prototype._boxProcessors.emsg=function(){this._procFullBox(),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("message_data","data",-1)},s.prototype._boxProcessors.free=s.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},s.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},s.prototype._boxProcessors.ftyp=s.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var e=-1;this._parsing&&(e=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",e,"string",4)},s.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},s.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},s.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),!this._parsing&&typeof this.language=="string"&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode((this.language>>10&31)+96,(this.language>>5&31)+96,(this.language&31)+96)),this._procField("pre_defined","uint",16)},s.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",this.version==1?64:32)},s.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},s.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},s.prototype._boxProcessors.mp4a=s.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},s.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},s.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},s.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},s.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),this.flags&1&&this._procField("scheme_uri","string",-1)},s.prototype._boxProcessors.sdtp=function(){this._procFullBox();var e=-1;this._parsing&&(e=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",e,"uint",8)},s.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",this.version==1?64:32),this._procField("first_offset","uint",this.version==1?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(e){this._parsing||(e.reference=(e.reference_type&1)<<31,e.reference|=e.referenced_size&2147483647,e.sap=(e.starts_with_SAP&1)<<31,e.sap|=(e.SAP_type&3)<<28,e.sap|=e.SAP_delta_time&268435455),this._procEntryField(e,"reference","uint",32),this._procEntryField(e,"subsegment_duration","uint",32),this._procEntryField(e,"sap","uint",32),this._parsing&&(e.reference_type=e.reference>>31&1,e.referenced_size=e.reference&2147483647,e.starts_with_SAP=e.sap>>31&1,e.SAP_type=e.sap>>28&7,e.SAP_delta_time=e.sap&268435455)})},s.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},s.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(e){this._procEntryField(e,"ranges_count","uint",32),this._procSubEntries(e,"ranges",e.ranges_count,function(e){this._procEntryField(e,"level","uint",8),this._procEntryField(e,"range_size","uint",24)})})},s.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},s.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(e){this._procEntryField(e,"sample_delta","uint",32),this._procEntryField(e,"subsample_count","uint",16),this._procSubEntries(e,"subsamples",e.subsample_count,function(e){this._procEntryField(e,"subsample_size","uint",this.version===1?32:16),this._procEntryField(e,"subsample_priority","uint",8),this._procEntryField(e,"discardable","uint",8),this._procEntryField(e,"codec_specific_parameters","uint",32)})})},s.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},s.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",this.version==1?64:32)},s.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),this.flags&1&&this._procField("base_data_offset","uint",64),this.flags&2&&this._procField("sample_description_offset","uint",32),this.flags&8&&this._procField("default_sample_duration","uint",32),this.flags&16&&this._procField("default_sample_size","uint",32),this.flags&32&&this._procField("default_sample_flags","uint",32)},s.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(this.length_size_of_traf_num&48)<<4,this.reserved|=(this.length_size_of_trun_num&12)<<2,this.reserved|=this.length_size_of_sample_num&3),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(this.reserved&48)>>4,this.length_size_of_trun_num=(this.reserved&12)>>2,this.length_size_of_sample_num=this.reserved&3),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(e){this._procEntryField(e,"time","uint",this.version===1?64:32),this._procEntryField(e,"moof_offset","uint",this.version===1?64:32),this._procEntryField(e,"traf_number","uint",(this.length_size_of_traf_num+1)*8),this._procEntryField(e,"trun_number","uint",(this.length_size_of_trun_num+1)*8),this._procEntryField(e,"sample_number","uint",(this.length_size_of_sample_num+1)*8)})},s.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},s.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},s.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),this.flags&1&&this._procField("data_offset","int",32),this.flags&4&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(e){this.flags&256&&this._procEntryField(e,"sample_duration","uint",32),this.flags&512&&this._procEntryField(e,"sample_size","uint",32),this.flags&1024&&this._procEntryField(e,"sample_flags","uint",32),this.flags&2048&&this._procEntryField(e,"sample_composition_time_offset",this.version===1?"int":"uint",32)})},s.prototype._boxProcessors["url "]=s.prototype._boxProcessors["urn "]=function(){this._procFullBox(),this.type==="urn "&&this._procField("name","string",-1),this._procField("location","string",-1)},s.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},s.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},s.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},s.prototype._boxProcessors.vtte=function(){}},{}],7:[function(e,t,n){var r=n.decimalAdjust=function(e,t,n){return typeof n=="undefined"||+n===0?Math[e](t):(t=+t,n=+n,isNaN(t)||typeof n!="number"||n%1!==0?NaN:(t=t.toString().split("e"),t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]+n:n))))};t.exports={round10:function(e,t){return r("round",e,t)},floor10:function(e,t){return r("floor",e,t)},ceil10:function(e,t){return r("ceil",e,t)}},t.exports.polyfill=function(){Math.round10||(Math.round10=t.exports.round10),Math.floor10||(Math.floor10=t.exports.floor10),Math.ceil10||(Math.ceil10=t.exports.ceil10)}},{}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function l(){function a(){r=!0,i=!0,o=(new Date).getTime()}function f(e){i=e}function l(e){r=e}function c(){return r}function h(){var e="",n=null;i&&(n=(new Date).getTime(),e+="["+(n-o)+"]"),e.length>0&&(e+=" "),Array.apply(null,arguments).forEach(function(t){e+=t+" "}),r&&console.log(e),t.trigger(u["default"].LOG,{message:e})}var e=this.context,t=(0,s["default"])(e).getInstance(),n=undefined,r=undefined,i=undefined,o=undefined;return n={log:h,setLogTimestampVisible:f,setLogToBrowserConsole:l,getLogToBrowserConsole:c},a(),n}Object.defineProperty(n,"__esModule",{value:!0});var i=e(9),s=r(i),o=e(13),u=r(o),a=e(10),f=r(a);l.__dashjs_factory_name="Debug",n["default"]=f["default"].getSingletonFactory(l),t.exports=n["default"]},{10:10,13:13,9:9}],9:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){function t(t,n,r){var s=arguments.length<=3||arguments[3]===undefined?o:arguments[3];if(!t)throw new Error("event type cannot be null or undefined");if(!n||typeof n!="function")throw new Error("listener must be a function: "+n);if(i(t,n,r)>=0)return;e[t]=e[t]||[];var u={callback:n,scope:r,priority:s},a=e[t].some(function(n,r){if(n&&s>n.priority)return e[t].splice(r,0,u),!0});a||e[t].push(u)}function n(t,n,r){if(!t||!n||!e[t])return;var s=i(t,n,r);if(s<0)return;e[t][s]=null}function r(t,n){if(!t||!e[t])return;n=n||{};if(n.hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");n.type=t,e[t]=e[t].filter(function(e){return e}),e[t].forEach(function(e){return e.callback.call(e.scope,n)})}function i(t,n,r){var i=-1;return e[t]?(e[t].some(function(e,t){if(e&&e.callback===n&&(!r||r===e.scope))return i=t,!0}),i):i}function s(){e={}}var e={},u={on:t,off:n,trigger:r,reset:s};return u}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=0,u=5e3;a.__dashjs_factory_name="EventBus";var f=s["default"].getSingletonFactory(a);f.EVENT_PRIORITY_LOW=o,f.EVENT_PRIORITY_HIGH=u,n["default"]=f,t.exports=n["default"]},{10:10}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function r(e,t,n,r){var i=f(r);!i[e]&&t&&(i[e]={instance:t,override:n})}function i(e,t){for(var r in n){var i=n[r];if(i.context===e&&i.name===t)return i.instance}return null}function s(e,t,r){for(var i in n){var s=n[i];if(s.context===e&&s.name===t){n[i].instance=r;return}}n.push({name:t,context:e,instance:r})}function o(e){return function(t){return t===undefined&&(t={}),{create:function(){return a(e.__dashjs_factory_name,e.apply({context:t},arguments),t,arguments)}}}}function u(e){return function(t){var r=undefined;return t===undefined&&(t={}),{getInstance:function(){return r||(r=i(t,e.__dashjs_factory_name)),r||(r=a(e.__dashjs_factory_name,e.apply({context:t},arguments),t,arguments),n.push({name:e.__dashjs_factory_name,context:t,instance:r})),r}}}}function a(t,n,r,i){var s=f(r),o=s[t];if(o){var u=o.instance;if(!o.override)return u.apply({context:r,factory:e},i);u=u.apply({context:r,factory:e,parent:n},i);for(var a in u)n.hasOwnProperty(a)&&(n[a]=u[a])}return n}function f(e){var n=undefined;return t.forEach(function(t){t===e&&(n=t)}),n||(n=t.push(e)),n}var e=undefined,t=[],n=[];return e={extend:r,getSingletonInstance:i,setSingletonInstance:s,getSingletonFactory:u,getClassFactory:o},e}();n["default"]=r,t.exports=n["default"]},{}],11:[function(e,t,n){"use strict";function i(){return r}Object.defineProperty(n,"__esModule",{value:!0}),n.getVersionString=i;var r="2.5.0"},{}],12:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,n,r){var i=!0;e:while(i){var s=t,o=n,u=r;i=!1,s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,o);if(a===undefined){var f=Object.getPrototypeOf(s);if(f===null)return undefined;t=f,n=o,r=u,i=!0,a=f=undefined;continue e}if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(u)}},u=e(14),a=i(u),f=function(e){function t(){s(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_REQUESTED="initRequested",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATED="representationUpdated",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_APPEND_COMPLETED="sourceBufferAppendCompleted",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TIMED_TEXT_REQUESTED="timedTextRequested",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.VIDEO_CHUNK_RECEIVED="videoChunkReceived",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady"}return o(t,e),t}(a["default"]);n["default"]=f,t.exports=n["default"]},{14:14}],13:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,n,r){var i=!0;e:while(i){var s=t,o=n,u=r;i=!1,s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,o);if(a===undefined){var f=Object.getPrototypeOf(s);if(f===null)return undefined;t=f,n=o,r=u,i=!0,a=f=undefined;continue e}if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(u)}},u=e(12),a=i(u),f=function(e){function t(){s(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),t}(a["default"]),l=new f;n["default"]=l,t.exports=n["default"]},{12:12}],14:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(){i(this,e)}return r(e,[{key:"extend",value:function(t,n){if(!t)return;var r=n?n.override:!1,i=n?n.publicOnly:!1;for(var s in t){if(!t.hasOwnProperty(s)||this[s]&&!r)continue;if(i&&t[s].indexOf("public_")===-1)continue;this[s]=t[s]}}}]),e}();n["default"]=s,t.exports=n["default"]},{}],15:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function E(){function i(e){if(!e)return;e.dashManifestModel&&(t=e.dashManifestModel)}function s(){n=[],r={}}function u(e,t){return t.getRepresentationForQuality(e.quality)}function f(e){return!r||!e||!r[e.streamInfo.id]?null:r[e.streamInfo.id][e.index]}function c(e){var t=n.length;for(var r=0;r<t;r++){var i=n[r];if(e.id===i.id)return i}return null}function p(e,n){var r=new o["default"],i=n.adaptation.period.mpd.manifest.Period_asArray[n.adaptation.period.index].AdaptationSet_asArray[n.adaptation.index],s=t.getRepresentationFor(n.index,i);return r.id=n.id,r.quality=n.index,r.bandwidth=t.getBandwidth(s),r.DVRWindow=n.segmentAvailabilityRange,r.fragmentDuration=n.segmentDuration||(n.segments&&n.segments.length>0?n.segments[0].duration:NaN),r.MSETimeOffset=n.MSETimeOffset,r.useCalculatedLiveEdgeTime=n.useCalculatedLiveEdgeTime,r.mediaInfo=v(e,n.adaptation),r}function v(e,n){var r=new a["default"],i=n.period.mpd.manifest.Period_asArray[n.period.index].AdaptationSet_asArray[n.index],s;return r.id=n.id,r.index=n.index,r.type=n.type,r.streamInfo=g(e,n.period),r.representationCount=t.getRepresentationCount(i),r.lang=t.getLanguageForAdaptation(i),s=t.getViewpointForAdaptation(i),r.viewpoint=s?s.value:undefined,r.accessibility=t.getAccessibilityForAdaptation(i).map(function(e){var t=e.value,n=t;return e.schemeIdUri&&e.schemeIdUri.search("cea-608")>=0&&typeof y["default"]!="undefined"&&(t?n="cea-608:"+t:n="cea-608",r.embeddedCaptions=!0),n}),r.audioChannelConfiguration=t.getAudioChannelConfigurationForAdaptation(i).map(function(e){return e.value}),r.roles=t.getRolesForAdaptation(i).map(function(e){return e.value}),r.codec=t.getCodec(i),r.mimeType=t.getMimeType(i),r.contentProtection=t.getContentProtectionData(i),r.bitrateList=t.getBitrateListForAdaptation(i),r.contentProtection&&r.contentProtection.forEach(function(e){e.KID=t.getKID(e)}),r.isText=t.getIsTextTrack(r.mimeType),r}function m(e,t,n){e.id=t,e.index=100+parseInt(t.substring(2,3)),e.type="embeddedText",e.codec="cea-608-in-SEI",e.isText=!0,e.isEmbedded=!0,e.lang=t+" "+n,e.roles=["caption"]}function g(e,n){var r=new l["default"],i=1;return r.id=n.id,r.index=n.index,r.start=n.start,r.duration=n.duration,r.manifestInfo=b(e,n.mpd),r.isLast=e.Period_asArray.length===1||Math.abs(r.start+r.duration-r.manifestInfo.duration)<i,r.isFirst=e.Period_asArray.length===1||t.getRegularPeriods(e,t.getMpd(e))[0].id===n.id,r}function b(e,n){var r=new h["default"];return r.DVRWindowSize=n.timeShiftBufferDepth,r.loadedTime=n.manifest.loadedTime,r.availableFrom=n.availabilityStartTime,r.minBufferTime=n.manifest.minBufferTime,r.maxFragmentDuration=n.maxSegmentDuration,r.duration=t.getDuration(e),r.isDynamic=t.getIsDynamic(e),r}function E(e,n,i){var s=t.getAdaptationForType(e,n.index,i,n);if(!s)return null;var o=c(n),u=o.id,a=t.getIndexForAdaptation(s,e,n.index);return r[u]=r[u]||t.getAdaptationsForPeriod(e,o),v(e,r[u][a])}function S(e,n,i){var s=c(n),o=s.id,u=t.getAdaptationsForType(e,n.index,i!=="embeddedText"?i:"video"),a=[],f,l,h,p,d,g;if(!u)return a;r[o]=r[o]||t.getAdaptationsForPeriod(e,s);for(p=0,g=u.length;p<g;p++){f=u[p],h=t.getIndexForAdaptation(f,e,n.index),l=v(e,r[o][h]);if(i==="embeddedText"){var y=l.accessibility.length;for(d=0;d<y;d++){if(!l)continue;var b=l.accessibility[d];if(b.indexOf("cea-608:")===0){var w=b.substring(8),E=w.split(";");if(E[0].substring(0,2)==="CC")for(d=0;d<E.length;d++)l||(l=v.call(this,e,r[o][h])),m(l,E[d].substring(0,3),E[d].substring(4)),a.push(l),l=null;else for(d=0;d<E.length;d++)l||(l=v.call(this,e,r[o][h])),m(l,"CC"+(d+1),E[d]),a.push(l),l=null}else b.indexOf("cea-608")===0&&(m(l,"CC1","eng"),a.push(l),l=null)}}l&&i!=="embeddedText"&&a.push(l)}return a}function x(e){if(!e)return null;var i=[],s=t.getMpd(e);n=t.getRegularPeriods(e,s),r={};for(var o=0,u=n.length;o<u;o++)i.push(g(e,n[o]));return i}function T(e){var n=t.getMpd(e);return b(e,n)}function N(e,t){var n=e.getRepresentationController().getRepresentationForQuality(t);return e.getIndexHandler().getInitRequest(n)}function C(e,t){var n=u(t,e.getRepresentationController());return e.getIndexHandler().getNextSegmentRequest(n)}function k(e,t,n,r){var i=u(t,e.getRepresentationController());return e.getIndexHandler().getSegmentRequestForTime(i,n,r)}function L(e,t,n){var r=u(t,e.getRepresentationController());return e.getIndexHandler().generateSegmentRequestForTime(r,n)}function A(e){return e.getIndexHandler().getCurrentTime()}function O(e,t){return e.getIndexHandler().setCurrentTime(t)}function M(e,n){var r=c(n.getStreamInfo()),i=n.getMediaInfo(),s=f(i),o=n.getType(),u,a;u=i.id,a=u?t.getAdaptationForId(u,e,r.index):t.getAdaptationForIndex(i.index,e,r.index),n.getRepresentationController().updateData(a,s,o)}function _(e,t,n){var r=t.getRepresentationForQuality(n);return r?p(e,r):null}function D(e,t){var n=t.getCurrentRepresentation();return n?p(e,n):null}function P(e,t,n){var r=new d["default"],i=e.scheme_id_uri,s=e.value,o=e.timescale,u=e.presentation_time_delta,a=e.event_duration,f=e.id,l=e.message_data,c=n*o+u;return t[i]?(r.eventStream=t[i],r.eventStream.value=s,r.eventStream.timescale=o,r.duration=a,r.id=f,r.presentationTime=c,r.messageData=l,r.presentationTimeDelta=u,r):null}function H(e,n,r){var i=[];return n instanceof l["default"]?i=t.getEventsForPeriod(e,c(n)):n instanceof a["default"]?i=t.getEventStreamForAdaptationSet(e,f(n)):n instanceof o["default"]&&(i=t.getEventStreamForRepresentation(e,u(n,r.getRepresentationController()))),i}function B(){n=[],r={}}var e=undefined,t=undefined,n=undefined,r=undefined;return e={initialize:s,convertDataToTrack:p,convertDataToMedia:v,convertDataToStream:g,getDataForTrack:u,getDataForMedia:f,getDataForStream:c,getStreamsInfo:x,getManifestInfo:T,getMediaInfoForType:E,getAllMediaInfoForType:S,getCurrentRepresentationInfo:D,getRepresentationInfoForQuality:_,updateData:M,getInitRequest:N,getNextFragmentRequest:C,getFragmentRequestForTime:k,generateFragmentRequestForTime:L,getIndexHandlerTime:A,setIndexHandlerTime:O,getEventsFor:H,getEvent:P,setConfig:i,reset:B,metricsList:w},e}Object.defineProperty(n,"__esModule",{value:!0});var s=e(175),o=i(s),u=e(170),a=i(u),f=e(172),l=i(f),c=e(169),h=i(c),p=e(42),d=i(p),v=e(10),m=i(v),g=e(2),y=i(g),b=e(20),w=r(b);E.__dashjs_factory_name="DashAdapter",n["default"]=m["default"].getSingletonFactory(E),t.exports=n["default"]},{10:10,169:169,170:170,172:172,175:175,2:2,20:20,42:42}],16:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function N(e){function O(){g=-1,C=0,k=NaN,r.on(l["default"].INITIALIZATION_LOADED
,Z,v),r.on(l["default"].SEGMENTS_LOADED,et,v)}function M(n){L=n,N=L.getType(),S=L.isDynamic(),A=(0,x["default"])(t).create(e,S)}function _(){return L}function D(e){C=e}function P(){return C}function H(){return g}function B(){return k}function j(){A=null,C=0,k=NaN,b=NaN,g=-1,S=null,N=null,L=null,r.off(l["default"].INITIALIZATION_LOADED,Z,v),r.off(l["default"].SEGMENTS_LOADED,et,v)}function F(e){return e?e.split("$$").join("$"):e}function I(e,t){if(t===null||e===null||e.indexOf("$RepresentationID$")===-1)return e;var n=t.toString();return e.split("$RepresentationID$").join(n)}function q(e,t,n){var r=d.resolve(n.path),s,o;return!r||t===r.url||!i.isRelative(t)?s=t:(s=r.url,o=r.serviceLocation,t&&(s=i.resolve(t,s))),i.isRelative(s)?!1:(e.url=s,e.serviceLocation=o,!0)}function R(e,t){var n=new s["default"],r=e.adaptation.period,i=r.start;n.mediaType=t,n.type=a.HTTPRequest.INIT_SEGMENT_TYPE,n.range=e.range,n.availabilityStartTime=f.calcAvailabilityStartTimeFromPresentationTime(i,r.mpd,S),n.availabilityEndTime=f.calcAvailabilityEndTimeFromPresentationTime(i+r.duration,r.mpd,S),n.quality=e.index,n.mediaInfo=L.getMediaInfo(),n.representationId=e.id;if(q(n,e.initialization,e))return n}function U(e){if(!e)return null;var t=R(e,N);return t}function z(e){var t=!1;if(!S&&g===e.availableSegmentsNumber)t=!0;else{var r=(0,E.getSegmentByIndex)(g,e);if(r){var i=r.presentationStartTime-e.adaptation.period.start,s=e.adaptation.period.duration;n(e.segmentInfoType+": "+i+" / "+s),t=e.segmentInfoType==="SegmentTimeline"&&S?!1:i>=s}}return t}function W(e){return A.getSegments(e,b,g,X)}function X(e,t){e.segments=t,t&&t.length>0&&(k=isNaN(k)?t[0].presentationStartTime:Math.min(t[0].presentationStartTime,k));if(S&&isNaN(f.getExpectedLiveEdge())){var n=t[t.length-1],r=n.presentationStartTime,i=p.getMetricsFor("stream");f.setExpectedLiveEdge(r),p.updateManifestUpdateInfo(c.getCurrentManifestUpdate(i),{presentationStartTime:r})}}function V(e){if(!e)throw new u["default"]("no representation");return e.segments=null,W(e),e}function $(e,t){var n=w["default"].hasInitialization(e),i=w["default"].hasSegments(e),s;!e.segmentDuration&&!e.segments&&V(e),e.segmentAvailabilityRange=null,e.segmentAvailabilityRange=f.calcSegmentAvailabilityRange(e,S);if(e.segmentAvailabilityRange.end<e.segmentAvailabilityRange.start&&!e.useCalculatedLiveEdgeTime){s=new u["default"](T,"no segments are available yet",{availabilityDelay:e.segmentAvailabilityRange.start-e.segmentAvailabilityRange.end}),r.trigger(l["default"].REPRESENTATION_UPDATED,{sender:this,representation:e,error:s});return}t||(g=-1),e.segmentDuration&&V(e),n||o.loadInitialization(e),i||o.loadSegments(e,N,e.indexRange),n&&i&&r.trigger(l["default"].REPRESENTATION_UPDATED,{sender:this,representation:e})}function J(e,t,n){var r=t.segments,i=r?r.length:null,s=-1,o,u,a,f,l;if(r&&i>0)for(l=0;l<i;l++){u=r[l],a=u.presentationStartTime,f=u.duration,o=n===undefined||n===null?f/2:n;if(e+o>=a&&e-o<a+f){s=u.availabilityIdx;break}}return s}function K(e){if(e===null||e===undefined)return null;var t=new s["default"],n=e.representation,r=n.adaptation.period.mpd.manifest.Period_asArray[n.adaptation.period.index].AdaptationSet_asArray[n.adaptation.index].Representation_asArray[n.index].bandwidth,i=e.media;i=(0,E.replaceTokenForTemplate)(i,"Number",e.replacementNumber),i=(0,E.replaceTokenForTemplate)(i,"Time",e.replacementTime),i=(0,E.replaceTokenForTemplate)(i,"Bandwidth",r),i=I(i,n.id),i=F(i),t.mediaType=N,t.type=a.HTTPRequest.MEDIA_SEGMENT_TYPE,t.range=e.mediaRange,t.startTime=e.presentationStartTime,t.duration=e.duration,t.timescale=n.timescale,t.availabilityStartTime=e.availabilityStartTime,t.availabilityEndTime=e.availabilityEndTime,t.wallStartTime=e.wallStartTime,t.quality=n.index,t.index=e.availabilityIdx,t.mediaInfo=L.getMediaInfo(),t.adaptationIndex=n.adaptation.index;if(q(t,i,n))return t}function Q(e,t,r){var i,o,u,a=g,f=r?r.keepIdx:!1,l=r?r.timeThreshold:null,c=r&&r.ignoreIsFinished?!0:!1;return e?(b!==t&&(b=t,n("Getting the request for "+N+" time : "+t)),W(e),g=J(t,e,l),g<0&&(W(e),g=J(t,e,l)),g>0&&n("Index for "+N+" time "+t+" is "+g),u=c?!1:z(e),u?(i=new s["default"],i.action=s["default"].ACTION_COMPLETE,i.index=g,i.mediaType=N,i.mediaInfo=L.getMediaInfo(),n("Signal complete.",i)):(o=(0,E.getSegmentByIndex)(g,e),i=K(o)),f&&a>=0&&(g=e.segmentInfoType==="SegmentTimeline"&&S?g:a),i):null}function G(e,t){var n=(e.segmentAvailabilityRange.end-e.segmentAvailabilityRange.start)/2;return e.segments=null,e.segmentAvailabilityRange={start:t-n,end:t+n},Q(e,t,{keepIdx:!1,ignoreIsFinished:!0})}function Y(e){var t,r,i;return!e||g===-1?null:(b=null,g++,n("Getting the next request at index: "+g),i=z(e),i?(t=new s["default"],t.action=s["default"].ACTION_COMPLETE,t.index=g,t.mediaType=N,t.mediaInfo=L.getMediaInfo(),n("Signal complete.")):(W(e),r=(0,E.getSegmentByIndex)(g,e),t=K(r),!r&&S&&g--),t)}function Z(e){var t=e.representation;if(!t.segments)return;r.trigger(l["default"].REPRESENTATION_UPDATED,{sender:this,representation:t})}function et(e){if(e.error||N!==e.mediaType)return;var t=e.segments,n=e.representation,i=[],s=0,o,u,a,c;for(o=0,u=t.length;o<u;o++)a=t[o],c=(0,E.getTimeBasedSegment)(f,S,n,a.startTime,a.duration,a.timescale,a.media,a.mediaRange,s),i.push(c),c=null,s++;n.segmentAvailabilityRange={start:i[0].presentationStartTime,end:i[u-1].presentationStartTime},n.availableSegmentsNumber=u,X(n,i);if(!w["default"].hasInitialization(n))return;r.trigger(l["default"].REPRESENTATION_UPDATED,{sender:this,representation:n})}var t=this.context,n=(0,m["default"])(t).getInstance().log,r=(0,h["default"])(t).getInstance(),i=(0,y["default"])(t).getInstance(),o=e.segmentBaseLoader,f=e.timelineConverter,c=e.dashMetrics,p=e.metricsModel,d=e.baseURLController,v=undefined,g=undefined,b=undefined,S=undefined,N=undefined,C=undefined,k=undefined,L=undefined,A=undefined;return v={initialize:M,getStreamProcessor:_,getInitRequest:U,getSegmentRequestForTime:Q,getNextSegmentRequest:Y,generateSegmentRequestForTime:G,updateRepresentation:$,setCurrentTime:D,getCurrentTime:P,getCurrentIndex:H,getEarliestTime:B,reset:j},O(),v}Object.defineProperty(n,"__esModule",{value:!0});var i=e(166),s=r(i),o=e(165),u=r(o),a=e(182),f=e(13),l=r(f),c=e(9),h=r(c),p=e(10),d=r(p),v=e(8),m=r(v),g=e(159),y=r(g),b=e(46),w=r(b),E=e(36),S=e(35),x=r(S),T=1;N.__dashjs_factory_name="DashHandler";var C=d["default"].getClassFactory(N);C.SEGMENTS_UNAVAILABLE_ERROR_CODE=T,n["default"]=C,t.exports=n["default"]},{10:10,13:13,159:159,165:165,166:166,182:182,35:35,36:36,46:46,8:8,9:9}],17:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function v(){function r(e,t){var r,i=n.getValue(),s=i.Period_asArray[t];return r=C(s,e),r===null?null:r.bandwidth}function i(e,t){var r,i=n.getValue(),s=i.Period_asArray[t];return r=N(s,e),r}function o(e,t){var r,i=n.getValue(),s=i.Period_asArray[t];return r=L(s,e),r}function a(e){return g(e,p.TRACK_SWITCH)}function l(e){return g(e,p.BUFFER_LEVEL)}function c(e){var t=l(e);return t?(0,d.round10)(t.level/1e3,-3):0}function h(e){return e.RequestsQueue}function v(e){if(e===null)return null;var t=e.HttpList,n=null,r,i;if(t===null||t.length<=0)return null;r=t.length,i=r-1;while(i>=0){if(t[i].responsecode){n=t[i];break}i--}return n}function m(e){return e===null?[]:e.HttpList?e.HttpList:[]}function g(e,t){if(e===null)return null;var n=e[t];if(n===null)return null;var r=n.length;return r<=0?null:n[r-1]}function y(e){return g(e,p.DROPPED_FRAMES)}function b(e){return g(e,p.SCHEDULING_INFO)}function w(e){return g(e,p.MANIFEST_UPDATE)}function E(e){return g(e,p.DVR_INFO)}function S(e,t){var n={},r,i,o;if(e===null)return null;r=m(e);for(o=r.length-1;o>=0;o--){i=r[o];if(i.type===s.HTTPRequest.MPD_TYPE){n=T(i._responseHeaders);break}}return n[t]===undefined?null:n[t]}function x(e,t){if(e===null)return null;var n=v(e),r;return n===null||n._responseHeaders===null?null:(r=T(n._responseHeaders),r[t]===undefined?null:r[t])}function T(e){var t={};if(!e)return t;var n=e.trim().split("\r\n");for(var r=0,i=n.length;r<i;r++){var s=n[r],o=s.indexOf(": ");o>0&&(t[s.substring(0,o)]=s.substring(o+2))}return t}function N(e,t){var n=C(e,t,!0);return n!==null?n:-1}function C(e,t,n){var r,i,s,o,u,a;if(e){i=e.AdaptationSet_asArray;for(u=0;u<i.length;u+=1){r=i[u],o=r.Representation_asArray;for(a=0;a<o.length;a+=1){s=o[a];if(t===s.id)return n?a:s}}}return null}function k(e,n){return(0,f["default"])(t).getInstance().getIsTypeOf(e,n)}function L(e,t){var n,r,i,s;if(!e||!t)return-1;r=e.AdaptationSet_asArray;for(s=0;s<r.length;s+=1){n=r[s],i=n.Representation_asArray;if(k(n,t))return i.length}return-1}var e=undefined,t=this.context,n=(0,u["default"])(t).getInstance();return e={getBandwidthForRepresentation:r,getIndexForRepresentation:i,getMaxIndexForBufferType:o,getCurrentRepresentationSwitch:a,getLatestBufferLevelVO:l,getCurrentBufferLevel:c,getCurrentHttpRequest:v,getHttpRequests:m,getCurrentDroppedFrames:y,getCurrentSchedulingInfo:b,getCurrentDVRInfo:E,getCurrentManifestUpdate:w,getLatestFragmentRequestHeaderValueByID:x,getLatestMPDRequestHeaderValueByID:S,getRequestsQueue:h},e}Object.defineProperty(n,"__esModule",{value:!0});var s=e(182),o=e(98),u=i(o),a=e(22),f=i(a),l=e(10),c=i(l),h=e(20),p=r(h),d=e(7);v.__dashjs_factory_name="DashMetrics",n["default"]=c["default"].getSingletonFactory(v),t.exports=n["default"]},{10:10,182:182,20:20,22:22,7:7,98:98}],18:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function k(){function m(){i=(0,c["default"])(e).getInstance(),o=(0,g["default"])(e).getInstance(),a=(0,s["default"])(e).getInstance(),h=(0,C["default"])(e).create({errHandler:i,metricsModel:l,requestModifier:a})}function y(e){e.baseURLController&&(d=e.baseURLController),e.metricsModel&&(l=e.metricsModel)}function b(e,r){var i=null,s=null,u=d.resolve(e.path),a=r||{init:!0,url:u?u.url:undefined,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500};t("Start searching for initialization.");var f=L(a),l=function(r){a.bytesLoaded=a.range.end,s=o.parse(r),i=k(s),i?(e.range=i,n.trigger(p["default"].INITIALIZATION_LOADED,{representation:e})):(a.range.end=a.bytesLoaded+a.bytesToLoad,b(e,a))},c=function(){n.trigger(p["default"].INITIALIZATION_LOADED,{representation:e})};h.load({request:f,success:l,error:c}),t("Perform init search: "+a.url)}function w(e,n,r,i,s){if(r&&(r.start===undefined||r.end===undefined)){var u=r?r.toString().split("-"):null;r=u?{start:parseFloat(u[0]),end:parseFloat(u[1])}:null}s=s?s:A;var a=null,f=null,l=!!r,c=d.resolve(e.path),p={init:!1,url:c?c.url:undefined,range:l?r:{start:0,end:1500},searching:!l,bytesLoaded:i?i.bytesLoaded:0,bytesToLoad:1500},v=L(p),m=function(i){var u=p.bytesToLoad,l=i.byteLength;p.bytesLoaded=p.range.end-p.range.start,a=o.parse(i),f=a.getBox("sidx");if(!f||!f.isComplete){if(f)p.range.start=f.offset||p.range.start,p.range.end=p.range.start+(f.size||u);else{if(l<p.bytesLoaded){s(null,e,n);return}var c=a.getLastBox();c&&c.size?(p.range.start=c.offset+c.size,p.range.end=p.range.start+u):p.range.end+=u}w(e,n,p.range,p,s)}else{var h=f.references,d,v;h!==null&&h!==undefined&&h.length>0&&(d=h[0].reference_type===1);if(d){t("Initiate multiple SIDX load."),p.range.end=p.range.start+f.size;var m,g,y,b,E,S=[],x=0,T=(f.offset||p.range.start)+f.size,C=function(r){r?(S=S.concat(r),x++,x>=g&&s(S,e,n)):s(null,e,n)};for(m=0,g=h.length;m<g;m++)y=T,b=T+h[m].referenced_size-1,T+=h[m].referenced_size,E={start:y,end:b},w(e,null,E,p,C)}else t("Parsing segments from SIDX."),v=N(f,p),s(v,e,n)}},g=function(){s(null,e,n)};h.load({request:v,success:m,error:g}),t("Perform SIDX load: "+p.url)}function x(){h.abort(),h=null,i=null,o=null,a=null}function N(e,t){var n=e.references,r=n.length,i=e.timescale,s=e.earliest_presentation_time,o=t.range.start+e.offset+e.first_offset+e.size,a=[],f,l,c,h;for(var p=0;p<r;p++)c=n[p].subsegment_duration,h=n[p].referenced_size,f=new u["default"],f.duration=c,f.startTime=s,f.timescale=i,l=o+h-1,f.mediaRange=o+"-"+l,a.push(f),s+=c,o+=h;return a}function k(e){var n=e.getBox("ftyp"),r=e.getBox("moov"),i=null,s,o;return t("Searching for initialization."),r&&r.isComplete&&(s=n?n.offset:r.offset,o=r.offset+r.size-1,i=s+"-"+o,t("Found the initialization.  Range: "+i)),i}function L(e){if(!e.url)return;var t=new T["default"];return t.type=e.init?S.HTTPRequest.INIT_SEGMENT_TYPE:S.HTTPRequest.MEDIA_SEGMENT_TYPE,t.url=e.url,t.range=e.range.start+"-"+e.range.end,t}function A(e,t,r){e?n.trigger(p["default"].SEGMENTS_LOADED,{segments:e,representation:t,mediaType:r}):n.trigger(p["default"].SEGMENTS_LOADED,{segments:null,representation:t,mediaType:r,error:new f["default"](null,"error loading segments",null)})}var e=this.context,t=(0,E["default"])(e).getInstance().log,n=(0,v["default"])(e).getInstance(),r=undefined,i=undefined,o=undefined,a=undefined,l=undefined,h=undefined,d=undefined;return r={setConfig:y,initialize:m,loadInitialization:b,loadSegments:w,reset:x},r}Object.defineProperty(n,"__esModule",{value:!0});var i=e(157),s=r(i),o=e(47),u=r(o),a=e(165),f=r(a),l=e(152),c=r(l),h=e(13),p=r(h),d=e(9),v=r(d),m=e(147),g=r(m),y=e(10),b=r(y),w=e(8),E=r(w),S=e(182),x=e(166),T=r(x),N=e(57),C=r(N);k.__dashjs_factory_name="SegmentBaseLoader",n["default"]=b["default"].getSingletonFactory(k),t.exports=n["default"]},{10:10,13:13,147:147,152:152,157:157,165:165,166:166,182:182,47:47,57:57,8:8,9:9}],19:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function N(){function d(){i={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"},CueBlockNumber:{tag:21368}}}}},Void:{tag:236,required:!0}}}function m(){o=(0,v["default"])(e).getInstance(),a=(0,g["default"])(e).getInstance(),c=(0,T["default"])(e).create({errHandler:o,metricsModel:l,requestModifier:a})}function y(e){if(!e.baseURLController||!e.metricsModel)throw new Error("Missing config parameter(s)");h=e.baseURLController,l=e.metricsModel}function E(t){var n=[],r=undefined,s=undefined,o=undefined,u=(0,f["default"])(e).create({data:t}),a=undefined;u.consumeTag(i.Segment.Cues),s=u.getMatroskaCodedNum();while(u.moreData()&&u.consumeTagAndSize(i.Segment.Cues.CuePoint,!0)){r={},r.CueTime=u.parseTag(i.Segment.Cues.CuePoint.CueTime),r.CueTracks=[];while(u.moreData()&&u.consumeTagAndSize(i.Segment.Cues.CuePoint.CueTrackPositions,!0)){o={},o.Track=u.parseTag(i.Segment.Cues.CuePoint.CueTrackPositions.CueTrack);if(o.Track===0)throw new Error("Cue track cannot be 0");o.ClusterPosition=u.parseTag(i.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),u.getPos()+4>s||!u.consumeTag(i.Segment.Cues.CuePoint.CueTrackPositions.CueBlockNumber,!0)?r.CueTracks.push(o):(a=u.getMatroskaCodedNum(),o.BlockNumber=u.getMatroskaUint(a),r.CueTracks.push(o))}if(r.CueTracks.length===0)throw new Error("Mandatory cuetrack not found");n.push(r)}if(n.length===0)throw new Error("mandatory cuepoint not found");return n}function x(e,n,r,i){var s=undefined,o=undefined,u=undefined,a=undefined,f=undefined,l=undefined,c=undefined,h=undefined;o=E(e),u=[];for(f=0,l=o.length;f<l;f+=1)a=new b["default"],s=0,f<o.length-1?s=o[f+1].CueTime-o[f].CueTime:s=i-o[f].CueTime,a.duration=s,a.startTime=o[f].CueTime,a.timescale=1e3,c=o[f].CueTracks[0].ClusterPosition+n,f<o.length-1?h=o[f+1].CueTracks[0].ClusterPosition+n-1:h=r-1,a.mediaRange=c+"-"+h,u.push(a);return t("Parsed cues: "+u.length+" cues."),u}function N(n,r,s,o){var u=(0,f["default"])(e).create({data:n}),a=undefined,l=undefined,h=s.split("-"),p=null,d={url:r,range:{start:parseFloat(h[0]),end:parseFloat(h[1])},request:p},v=undefined,m=undefined;t("Parse EBML header: "+d.url),u.skipOverElement(i.EBML),u.consumeTag(i.Segment),v=u.getMatroskaCodedNum(),v+=u.getPos(),m=u.getPos();while(u.moreData()&&!u.consumeTagAndSize(i.Segment.Info,!0))if(!(u.skipOverElement(i.Segment.SeekHead,!0)||u.skipOverElement(i.Segment.Tracks,!0)||u.skipOverElement(i.Segment.Cues,!0)||u.skipOverElement(i.Void,!0)))throw new Error("no valid top level element found");while(a===undefined){var g=u.getMatroskaCodedNum(!0),y=u.getMatroskaCodedNum();switch(g){case i.Segment.Info.Duration.tag:a=u[i.Segment.Info.Duration.parse](y);break;default:u.setPos(u.getPos()+y)}}p=A(d);var b=function(t){l=x(t,m,v,a),o(l)},w=function(){t("Download Error: Cues "+d.url),o(null)};c.load({request:p,success:b,error:w}),t("Perform cues load: "+d.url+" bytes="+d.range.start+"-"+d.range.end)}function C(e,r){var i=null,o=h.resolve(e.path),u=o?o.url:undefined,a=e.range.split("-"),f=r||{range:{start:parseFloat(a[0]),end:parseFloat(a[1])},request:i,url:u,init:!0};t("Start loading initialization."),i=A(f);var l=function(){n.trigger(s["default"].INITIALIZATION_LOADED,{representation:e})},p=function(){n.trigger(s["default"].INITIALIZATION_LOADED,{representation:e})};c.load({request:i,success:l,error:p}),t("Perform init load: "+f.url)}function k(e,n,r,i){var s=null,o=h.resolve(e.path),u=o?o.url:undefined,a=8192,f={bytesLoaded:0,bytesToLoad:a,range:{start:0,end:a},request:s,url:u,init:!1};i=i?i:L,s=A(f),t("Parsing ebml header");var l=function(s){N(s,u,r,function(t){i(t,e,n)})},p=function(){i(null,e,n)};c.load({request:s,success:l,error:p})}function L(e,t,r){e?n.trigger(s["default"].SEGMENTS_LOADED,{segments:e,representation:t,mediaType:r}):n.trigger(s["default"].SEGMENTS_LOADED,{segments:null,representation:t,mediaType:r,error:new Error(null,"error loading segments",null)})}function A(e){var t=new S["default"];return t.type=e.init?w.HTTPRequest.INIT_SEGMENT_TYPE:w.HTTPRequest.MEDIA_SEGMENT_TYPE,t.url=e.url,t.range=e.range.start+"-"+e.range.end,t}function O(){o=null,a=null,t=null}var e=this.context,t=(0,p["default"])(e).getInstance().log,n=(0,u["default"])(e).getInstance(),r=undefined,i=undefined,o=undefined,a=undefined,l=undefined,c=undefined,h=undefined;return r={setConfig:y,initialize:m,loadInitialization:C,loadSegments:k,reset:O},d(),r}Object.defineProperty(n,"__esModule",{value:!0});var i=e(13),s=r(i),o=e(9),u=r(o),a=e(151),f=r(a),l=e(10),c=r(l),h=e(8),p=r(h),d=e(152),v=r(d),m=e(157),g=r(m),y=e(47),b=r(y),w=e(182),E=e(166),S=r(E),x=e(57),T=r(x);N.__dashjs_factory_name="WebmSegmentBaseLoader",n["default"]=c["default"].getSingletonFactory(N),t.exports=n["default"]},{10:10,13:13,151:151,152:152,157:157,166:166,182:182,47:47,57:57,8:8,9:9}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="TcpList";n.TCP_CONNECTION=r;var i="HttpList";n.HTTP_REQUEST=i;var s="RepSwitchList";n.TRACK_SWITCH=s;var o="BufferLevel";n.BUFFER_LEVEL=o;var u="BufferState";n.BUFFER_STATE=u;var a="DVRInfo";n.DVR_INFO=a;var f="DroppedFrames";n.DROPPED_FRAMES=f;var l="SchedulingInfo";n.SCHEDULING_INFO=l;var c="RequestsQueue";n.REQUESTS_QUEUE=c;var h="ManifestUpdate";n.MANIFEST_UPDATE=h;var p="ManifestUpdatePeriodInfo";n.MANIFEST_UPDATE_STREAM_INFO=p;var d="ManifestUpdateRepresentationInfo";n.MANIFEST_UPDATE_TRACK_INFO=d;var v="PlayList";n.PLAY_LIST=v;var m="DVBErrors";n.DVB_ERRORS=m},{}],21:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function _(){function _(){i=null,o=-1,a=!0,l=[],m=(0,c["default"])(t).getInstance(),w=(0,p["default"])(t).getInstance(),S=(0,v["default"])(t).getInstance(),T=(0,g["default"])(t).getInstance(),C=(0,b["default"])(t).getInstance(),L=(0,f["default"])(t).getInstance(),A=(0,s["default"])(t).getInstance(),O=(0,u["default"])(t).getInstance(),n.on(N["default"].QUALITY_CHANGE_REQUESTED,et,r),n.on(N["default"].REPRESENTATION_UPDATED,G,r),n.on(N["default"].WALLCLOCK_TIME_UPDATED,Y,r),n.on(N["default"].BUFFER_LEVEL_UPDATED,Z,r)}function D(e){e.abrController&&(m=e.abrController)}function P(e){d=e,y=d.getIndexHandler()}function H(){return d}function B(){return i}function j(){return o}function F(){return a}function I(){return h}function q(){n.off(N["default"].QUALITY_CHANGE_REQUESTED,et,r),n.off(N["default"].REPRESENTATION_UPDATED,G,r),n.off(N["default"].WALLCLOCK_TIME_UPDATED,Y,r),n.off(N["default"].BUFFER_LEVEL_UPDATED,Z,r),i=null,o=-1,a=!0,l=[],m=null,w=null,S=null,T=null,C=null,L=null,A=null,O=null}function R(e,t,r){var s,o,u=null,f=d.getStreamInfo(),c=m.getTopQualityIndexFor(r,f.id);a=!0,n.trigger(N["default"].DATA_UPDATE_STARTED,{sender:this}),l=$(t),i===null&&r!=="fragmentedText"?(o=m.getAverageThroughput(r),u=o||m.getInitialBitrateFor(r,f),s=m.getQualityForBitrate(d.getMediaInfo(),u)):s=m.getQualityFor(r,f),s>c&&(s=c),h=W(s),i=e;if(r!=="video"&&r!=="audio"&&r!=="fragmentedText"){a=!1,n.trigger(N["default"].DATA_UPDATE_COMPLETED,{sender:this,data:i,currentRepresentation:h});return}for(var p=0;p<l.length;p++)y.updateRepresentation(l[p],!0)}function U(){var e=new Date,t=I(),n=w.getTime()*1e3;T.addRepresentationSwitch(t.adaptation.type,e,n,t.id)}function z(){var e=L.calcSegmentAvailabilityRange(h,d.isDynamic());T.addDVRInfo(d.getType(),w.getTime(),d.getStreamInfo().manifestInfo,e)}function W(e){return l[e]}function X(e){return l.indexOf(e)}function V(){for(var e=0,t=l.length;e<t;e++){var n=l[e].segmentInfoType;if(l[e].segmentAvailabilityRange===null||!M["default"].hasInitialization(l[e])||(n==="SegmentBase"||n==="BaseURL")&&!l[e].segments)return!1}return!0}function $(e){var t,n=S.getValue();return o=A.getIndexForAdaptation(i,n,e.period.index),t=A.getRepresentationsForAdaptation(n,e),t}function J(e){var t;for(var n=0,r=l.length;n<r;n++)t=l[n],t.segmentAvailabilityRange=L.calcSegmentAvailabilityRange(t,e)}function K(){l.forEach(function(e){e.segmentAvailabilityRange=null})}function Q(e){var t=e,i=function(){if(F())return;a=!0,n.trigger(N["default"].DATA_UPDATE_STARTED,{sender:r}),K();for(var t=0;t<l.length;t++)y.updateRepresentation(l[t],!0)};a=!1,n.trigger(k["default"].AST_IN_FUTURE,{delay:t}),setTimeout(i,t)}function G(t){if(t.sender.getStreamProcessor()!==d||!F())return;var r=t.representation,s=T.getMetricsFor("stream"),o=T.getMetricsFor(I().adaptation.type),u=O.getCurrentManifestUpdate(s),f=!1,l=0,c,p,v;if(r.adaptation.period.mpd.manifest.type==="dynamic"){var g=r.segmentAvailabilityRange.end-r.segmentAvailabilityRange.start,y=w.computeLiveDelay(h.segmentDuration,d.getStreamInfo().manifestInfo.DVRWindowSize);l=(y-g)*1e3}if(l>0){z(),Q(l),p=new E["default"](e,"Segments update failed",null),n.trigger(N["default"].DATA_UPDATE_COMPLETED,{sender:this,data:i,currentRepresentation:h,error:p});return}if(u){for(var b=0;b<u.trackInfo.length;b++){c=u.trackInfo[b];if(c.index===r.index&&c.mediaType===d.getType()){f=!0;break}}f||T.addManifestUpdateRepresentationInfo(u,r.id,r.index,r.adaptation.period.index,d.getType(),r.presentationTimeOffset,r.startNumber,r.segmentInfoType)}V()&&(a=!1,m.setPlaybackQuality(d.getType(),d.getStreamInfo(),X(h)),T.updateManifestUpdateInfo(u,{latency:h.segmentAvailabilityRange.end-w.getTime()}),v=O.getCurrentRepresentationSwitch(o),v||U(),n.trigger(N["default"].DATA_UPDATE_COMPLETED,{sender:this,data:i,currentRepresentation:h}))}function Y(e){e.isDynamic&&J(e.isDynamic)}function Z(e){if(e.sender.getStreamProcessor()!==d)return;z()}function et(e){if(e.mediaType!==d.getType()||d.getStreamInfo().id!==e.streamInfo.id)return;e.oldQuality!==e.newQuality&&(h=W(e.newQuality),C.setSavedBitrateSettings(e.mediaType,h.bandwidth),U())}var e=1,t=this.context,n=(0,x["default"])(t).getInstance(),r=undefined,i=undefined,o=undefined,a=undefined,l=undefined,h=undefined,d=undefined,m=undefined,y=undefined,w=undefined,S=undefined,T=undefined,C=undefined,L=undefined,A=undefined,O=undefined;return r={initialize:P,setConfig:D,getData:B,getDataIndex:j,isUpdating:F,updateData:R,getStreamProcessor:H,getCurrentRepresentation:I,getRepresentationForQuality:W,reset:q},_(),r}Object.defineProperty(n,"__esModule",{value:!0});var i=e(22),s=r(i),o=e(17),u=r(o),a=e(38),f=r(a),l=e(59),c=r(l),h=e(67),p=r(h),d=e(98),v=r(d),m=e(100),g=r(m),y=e(150),b=r(y),w=e(165),E=r(w),S=e(9),x=r(S),T=e(13),N=r(T),C=e(53),k=r(C),L=e(10),A=r(L),O=e(46),M=r(O);_.__dashjs_factory_name="RepresentationController",n["default"]=A["default"].getClassFactory(_),t.exports=n["default"]},{10:10,100:100,13:13,150:150,165:165,17:17,22:22,38:38,46:46,53:53,59:59,67:67,9:9,98:98}],22:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function O(){function a(e,t){var n,r,i,s=!1,o=!1,u=e.ContentComponent_asArray,a=t!=="text"?new RegExp(t):new RegExp("(vtt|ttml)");if(e.Representation_asArray.length>0&&e.Representation_asArray[0].hasOwnProperty("codecs")){var f=e.Representation_asArray[0].codecs;if(f.search("stpp")===0||f.search("wvtt")===0)return t==="fragmentedText"}if(u){if(u.length>1)return t==="muxed";u[0]&&u[0].contentType===t&&(s=!0,o=!0)}e.hasOwnProperty("mimeType")&&(s=a.test(e.mimeType),o=!0);if(!o){n=0,r=e.Representation_asArray.length;while(!o&&n<r)i=e.Representation_asArray[n],i.hasOwnProperty("mimeType")&&(s=a.test(i.mimeType),o=!0),n++}return s}function l(e){return a(e,"audio")}function h(e){return a(e,"video")}function d(e){return a(e,"fragmentedText")}function m(e){return a(e,"text")}function y(e){return a(e,"muxed")}function w(e){return e==="text/vtt"||e==="application/ttml+xml"}function S(e){var t="";return e.hasOwnProperty("lang")&&(t=e.lang.replace(/[^A-Za-z0-9-]/g,"")),t}function T(e){return e.hasOwnProperty("Viewpoint")?e.Viewpoint:null}function C(e){return e.hasOwnProperty("Role_asArray")?e.Role_asArray:[]}function L(e){return e.hasOwnProperty("Accessibility_asArray")?e.Accessibility_asArray:[]}function A(e){return e.hasOwnProperty("AudioChannelConfiguration_asArray")?e.AudioChannelConfiguration_asArray:[]}function O(e){return C(e).filter(function(e){return e.value==="main"})[0]}function M(){return function(e,t){return e.bandwidth-t.bandwidth}}function _(e){return e.Representation_asArray!==undefined&&e.Representation_asArray!==null&&e.Representation_asArray.sort(M()),e}function D(e,t,n){var r=t.Period_asArray[n].AdaptationSet_asArray,i,s;for(i=0,s=r.length;i<s;i++)if(r[i].hasOwnProperty("id")&&r[i].id===e)return r[i];return null}function P(e,t,n){var r=t.Period_asArray[n].AdaptationSet_asArray;return r[e]}function H(e,t,n){var r=t.Period_asArray[n].AdaptationSet_asArray,i,s;for(i=0,s=r.length;i<s;i++)if(r[i]===e)return i;return-1}function B(e,t,n){var r=e.Period_asArray[t].AdaptationSet_asArray,i,s,o=[];for(i=0,s=r.length;i<s;i++)a(r[i],n)&&o.push(_(r[i]));return o}function j(e,t,n,s){var o=B(e,t,n);if(!o||o.length===0)return null;if(o.length>1&&s){var u=r.getCurrentTrackFor(n,s),a=i.getAllMediaInfoForType(e,s,n);for(var f=0,l=o.length;f<l;f++){if(u&&r.isTracksEqual(u,a[f]))return o[f];if(O(o[f]))return o[f]}}return o[0]}function F(e){var t=e.Representation_asArray[0];return t.mimeType+';codecs="'+t.codecs+'"'}function I(e){return e.Representation_asArray[0].mimeType}function q(e){return!e||!e.hasOwnProperty("cenc:default_KID")?null:e["cenc:default_KID"]}function R(e){return!e||!e.hasOwnProperty("ContentProtection_asArray")||e.ContentProtection_asArray.length===0?null:e.ContentProtection_asArray}function U(e){var t=!1;return e.hasOwnProperty("type")&&(t=e.type==="dynamic"),t}function z(e){var t=U(e),n,r;return n=!isNaN(e.timeShiftBufferDepth),r=t&&n,r}function W(e,t){var n=!1;return e.profiles&&e.profiles.length>0&&(n=e.profiles.indexOf(t)!==-1),n}function X(e){return W(e,"urn:mpeg:dash:profile:isoff-on-demand:2011")}function V(e){return W(e,"urn:dvb:dash:profile:dvb-dash:2014")}function $(e){var t;return e.hasOwnProperty("mediaPresentationDuration")?t=e.mediaPresentationDuration:t=Number.MAX_VALUE,t}function J(e){return e.bandwidth}function K(e){var t=arguments.length<=1||arguments[1]===undefined?0:arguments[1],n=NaN;return e.hasOwnProperty("minimumUpdatePeriod")&&(n=e.minimumUpdatePeriod),isNaN(n)?n:Math.max(n-t,1)}function Q(e){return e.Representation_asArray.length}function G(e){if(!e||!e.Representation_asArray||!e.Representation_asArray.length)return null;var t=_(e),n=t.Representation_asArray,r=n.length,i=[];for(var s=0;s<r;s++)i.push({bandwidth:n[s].bandwidth,width:n[s].width||0,height:n[s].height||0});return i}function Y(e,t){return t.Representation_asArray[e]}function Z(e,t){var r=_(e.Period_asArray[t.period.index].AdaptationSet_asArray[t.index]),i=[],o,u,a,f,l;for(var c=0;c<r.Representation_asArray.length;c++){f=r.Representation_asArray[c],o=new s["default"],o.index=c,o.adaptation=t,f.hasOwnProperty("id")&&(o.id=f.id),f.hasOwnProperty("codecs")&&(o.codecs=f.codecs),f.hasOwnProperty("codecPrivateData")&&(o.codecPrivateData=f.codecPrivateData),f.hasOwnProperty("bandwidth")&&(o.bandwidth=f.bandwidth),f.hasOwnProperty("width")&&(o.width=f.width),f.hasOwnProperty("height")&&(o.height=f.height),f.hasOwnProperty("maxPlayoutRate")&&(o.maxPlayoutRate=f.maxPlayoutRate);if(f.hasOwnProperty("SegmentBase"))a=f.SegmentBase,o.segmentInfoType="SegmentBase";else if(f.hasOwnProperty("SegmentList")){a=f.SegmentList;if(a.hasOwnProperty("SegmentTimeline")){o.segmentInfoType="SegmentTimeline",l=a.SegmentTimeline.S_asArray[a.SegmentTimeline.S_asArray.length-1];if(!l.hasOwnProperty("r")||l.r>=0)o.useCalculatedLiveEdgeTime=!0}else o.segmentInfoType="SegmentList",o.useCalculatedLiveEdgeTime=!0}else if(f.hasOwnProperty("SegmentTemplate")){a=f.SegmentTemplate;if(a.hasOwnProperty("SegmentTimeline")){o.segmentInfoType="SegmentTimeline",l=a.SegmentTimeline.S_asArray[a.SegmentTimeline.S_asArray.length-1];if(!l.hasOwnProperty("r")||l.r>=0)o.useCalculatedLiveEdgeTime=!0}else o.segmentInfoType="SegmentTemplate";a.hasOwnProperty("initialization")&&(o.initialization=a.initialization.split("$Bandwidth$").join(f.bandwidth).split("$RepresentationID$").join(f.id))}else o.segmentInfoType="BaseURL";a&&(a.hasOwnProperty("Initialization")?(u=a.Initialization,u.hasOwnProperty("sourceURL")?o.initialization=u.sourceURL:u.hasOwnProperty("range")&&(o.range=u.range)):f.hasOwnProperty("mimeType")&&w(f.mimeType)&&(o.range=0),a.hasOwnProperty("timescale")&&(o.timescale=a.timescale),a.hasOwnProperty("duration")&&(o.segmentDuration=a.duration/o.timescale),a.hasOwnProperty("startNumber")&&(o.startNumber=a.startNumber),a.hasOwnProperty("indexRange")&&(o.indexRange=a.indexRange),a.hasOwnProperty("presentationTimeOffset")&&(o.presentationTimeOffset=a.presentationTimeOffset/o.timescale)),o.MSETimeOffset=n.calcMSETimeOffset(o),o.path=[t.period.index,t.index,c],i.push(o)}return i}function et(e,t){var n=e.Period_asArray[t.index],r=[],i,s;for(var o=0;o<n.AdaptationSet_asArray.length;o++)s=n.AdaptationSet_asArray[o],i=new u["default"],s.hasOwnProperty("id")&&(i.id=s.id),i.index=o,i.period=t,y(s)?i.type="muxed":l(s)?i.type="audio":h(s)?i.type="video":d(s)?i.type="fragmentedText":i.type="text",r.push(i);return r}function tt(e,t){var n=U(e),r=[],i=null,s=null,o=null,u=null,a,l;for(l=0,a=e.Period_asArray.length;l<a;l++)s=e.Period_asArray[l],s.hasOwnProperty("start")?(u=new f["default"],u.start=s.start):i!==null&&s.hasOwnProperty("duration")&&o!==null?(u=new f["default"],u.start=o.start+o.duration,u.duration=s.duration):l===0&&!n&&(u=new f["default"],u.start=0),o!==null&&isNaN(o.duration)&&(o.duration=u.start-o.start),u!==null&&(u.id=nt(s,l)),u!==null&&s.hasOwnProperty("duration")&&(u.duration=s.duration),u!==null&&(u.index=l,u.mpd=t,r.push(u),i=s,o=u),s=null,u=null;return r.length===0?r:(o!==null&&isNaN(o.duration)&&(o.duration=it(e,o)-o.start),r)}function nt(e,t){if(!e)throw new Error("Period cannot be null or undefined");var n=f["default"].DEFAULT_ID+"_"+t;return e.hasOwnProperty("id")&&e.id!=="__proto__"&&(n=e.id),n}function rt(e){var t=new c["default"];return t.manifest=e,e.hasOwnProperty("availabilityStartTime")?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):t.availabilityStartTime=new Date(e.loadedTime.getTime()),e.hasOwnProperty("availabilityEndTime")&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty("minimumUpdatePeriod")&&(t.minimumUpdatePeriod=e.minimumUpdatePeriod),e.hasOwnProperty("mediaPresentationDuration")&&(t.mediaPresentationDuration=e.mediaPresentationDuration),e.hasOwnProperty("suggestedPresentationDelay")&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty("timeShiftBufferDepth")&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty("maxSegmentDuration")&&(t.maxSegmentDuration=e.maxSegmentDuration),t}function it(e,t){var n=U(e),r=undefined
;if(e.mediaPresentationDuration)r=e.mediaPresentationDuration;else if(t.duration)r=t.duration;else{if(!n)throw new Error("Must have @mediaPresentationDuratio on MPD or an explicit @duration on the last period.");r=Number.POSITIVE_INFINITY}return r}function st(e,t){var n=e.Period_asArray,r=n[t.index].EventStream_asArray,i=[];if(r)for(var s=0;s<r.length;s++){var o=new N["default"];o.period=t,o.timescale=1;if(!r[s].hasOwnProperty("schemeIdUri"))throw new Error("Invalid EventStream. SchemeIdUri has to be set");o.schemeIdUri=r[s].schemeIdUri,r[s].hasOwnProperty("timescale")&&(o.timescale=r[s].timescale),r[s].hasOwnProperty("value")&&(o.value=r[s].value);for(var u=0;u<r[s].Event_asArray.length;u++){var a=new E["default"];a.presentationTime=0,a.eventStream=o,r[s].Event_asArray[u].hasOwnProperty("presentationTime")&&(a.presentationTime=r[s].Event_asArray[u].presentationTime),r[s].Event_asArray[u].hasOwnProperty("duration")&&(a.duration=r[s].Event_asArray[u].duration),r[s].Event_asArray[u].hasOwnProperty("id")&&(a.id=r[s].Event_asArray[u].id),i.push(a)}}return i}function ot(e,t){var n=[];if(!e)return n;for(var r=0;r<e.length;r++){var i=new N["default"];i.timescale=1,i.representation=t;if(!e[r].hasOwnProperty("schemeIdUri"))throw new Error("Invalid EventStream. SchemeIdUri has to be set");i.schemeIdUri=e[r].schemeIdUri,e[r].hasOwnProperty("timescale")&&(i.timescale=e[r].timescale),e[r].hasOwnProperty("value")&&(i.value=e[r].value),n.push(i)}return n}function ut(e,t){if(!t||!e)return[];var n=e.Period_asArray[t.period.index].AdaptationSet_asArray[t.index].InbandEventStream_asArray;return ot(n,null)}function at(e,t){var n=e.Period_asArray[t.adaptation.period.index].AdaptationSet_asArray[t.adaptation.index].Representation_asArray[t.index].InbandEventStream_asArray;return ot(n,t)}function ft(e){var t=U(e),n=e.hasOwnProperty("availabilityStartTime"),r=e.UTCTiming_asArray,i=[];return(t||n)&&r&&r.forEach(function(e){var t=new p["default"];if(!e.hasOwnProperty("schemeIdUri"))return;t.schemeIdUri=e.schemeIdUri;if(!e.hasOwnProperty("value"))return;t.value=e.value.toString(),i.push(t)}),i}function lt(e){var t=[],n=e.BaseURL_asArray||[e.baseUri],r=!1;return n.some(function(n){if(n){var i=new x["default"],s=n.__text||n;return o.isRelative(s)&&(r=!0,e.baseUri&&(s=e.baseUri+s)),i.url=s,n.hasOwnProperty("serviceLocation")&&n.serviceLocation.length?i.serviceLocation=n.serviceLocation:i.serviceLocation=s,n.hasOwnProperty("dvb:priority")&&(i.dvb_priority=n["dvb:priority"]),n.hasOwnProperty("dvb:weight")&&(i.dvb_weight=n["dvb:weight"]),t.push(i),r}}),t}function ct(e){return e.hasOwnProperty("Location")&&(e.Location=e.Location_asArray[0]),e.Location}var e=undefined,t=this.context,n=(0,v["default"])(t).getInstance(),r=(0,g["default"])(t).getInstance(),i=(0,b["default"])(t).getInstance(),o=(0,k["default"])(t).getInstance();return e={getIsTypeOf:a,getIsAudio:l,getIsVideo:h,getIsText:m,getIsMuxed:y,getIsTextTrack:w,getIsFragmentedText:d,getIsMain:O,getLanguageForAdaptation:S,getViewpointForAdaptation:T,getRolesForAdaptation:C,getAccessibilityForAdaptation:L,getAudioChannelConfigurationForAdaptation:A,processAdaptation:_,getAdaptationForIndex:P,getIndexForAdaptation:H,getAdaptationForId:D,getAdaptationsForType:B,getAdaptationForType:j,getCodec:F,getMimeType:I,getKID:q,getContentProtectionData:R,getIsDynamic:U,getIsDVR:z,getIsOnDemand:X,getIsDVB:V,getDuration:$,getBandwidth:J,getManifestUpdatePeriod:K,getRepresentationCount:Q,getBitrateListForAdaptation:G,getRepresentationFor:Y,getRepresentationsForAdaptation:Z,getAdaptationsForPeriod:et,getRegularPeriods:tt,getMpd:rt,getEventsForPeriod:st,getEventStreams:ot,getEventStreamForAdaptationSet:ut,getEventStreamForRepresentation:at,getUTCTimingSources:ft,getBaseURLsFromElement:lt,getRepresentationSortFunction:M,getLocation:ct},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(46),s=r(i),o=e(40),u=r(o),a=e(45),f=r(a),l=e(44),c=r(l),h=e(48),p=r(h),d=e(38),v=r(d),m=e(65),g=r(m),y=e(15),b=r(y),w=e(42),E=r(w),S=e(41),x=r(S),T=e(43),N=r(T),C=e(159),k=r(C),L=e(10),A=r(L);O.__dashjs_factory_name="DashManifestModel",n["default"]=A["default"].getSingletonFactory(O),t.exports=n["default"]},{10:10,15:15,159:159,38:38,40:40,41:41,42:42,43:43,44:44,45:45,46:46,48:48,65:65}],23:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function C(){function a(){i=[new g["default"],new b["default"],new E["default"],new v["default"]],o=new p["default"]({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:i}),u=new c["default"]([new x["default"],new N["default"]])}function l(e,r){var s;try{var a=window.performance.now();s=o.xml_str2json(e);if(!s)throw new Error("parser error");var f=window.performance.now();u.run(s);var l=window.performance.now();r.setMatchers(i),r.setIron(u),t("Parsing complete: ( xml2json: "+(f-a).toPrecision(3)+"ms, objectiron: "+(l-f).toPrecision(3)+"ms, total: "+((l-a)/1e3).toPrecision(3)+"s)")}catch(c){return n.manifestError("parsing the manifest failed","parse",e,c),null}return s}var e=this.context,t=(0,f["default"])(e).getInstance().log,n=(0,s["default"])(e).getInstance(),r=undefined,i=undefined,o=undefined,u=undefined;return r={parse:l},a(),r}Object.defineProperty(n,"__esModule",{value:!0});var i=e(152),s=r(i),o=e(10),u=r(o),a=e(8),f=r(a),l=e(3),c=r(l),h=e(4),p=r(h),d=e(32),v=r(d),m=e(30),g=r(m),y=e(29),b=r(y),w=e(31),E=r(w),S=e(26),x=r(S),T=e(27),N=r(T);C.__dashjs_factory_name="DashParser",n["default"]=u["default"].getClassFactory(C),t.exports=n["default"]},{10:10,152:152,26:26,27:27,29:29,3:3,30:30,31:31,32:32,4:4,8:8}],24:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n){i(this,e);var r=function(t){return t&&t.length&&t.charAt(0)===t.charAt(0).toUpperCase()};this._name=t,this._merge=n!==undefined?n:r(t)}return r(e,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),e}();n["default"]=s,t.exports=n["default"]},{}],25:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(24),u=i(o),a=function(){function e(t,n,r,i,o){var a=this;s(this,e),this._name=t||"",this._properties=[],this._children=r||[],this._isRoot=i||!1,this._isArray=o||!0,Array.isArray(n)&&n.forEach(function(e){a._properties.push(new u["default"](e))})}return r(e,[{key:"name",get:function(){return this._name}},{key:"isRoot",get:function(){return this._isRoot}},{key:"isArray",get:function(){return this._isArray}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),e}();n["default"]=a,t.exports=n["default"]},{24:24}],26:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,n,r){var i=!0;e:while(i){var s=t,o=n,u=r;i=!1,s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,o);if(a===undefined){var f=Object.getPrototypeOf(s);if(f===null)return undefined;t=f,n=o,r=u,i=!0,a=f=undefined;continue e}if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(u)}},u=e(25),a=i(u),f=function(e){function t(){s(this,t);var e=["profiles","width","height","sar","frameRate","audioSamplingRate","mimeType","segmentProfiles","codecs","maximumSAPPeriod","startWithSAP","maxPlayoutRate","codingDependency","scanType","FramePacking","AudioChannelConfiguration","ContentProtection","EssentialProperty","SupplementalProperty","InbandEventStream"];r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"AdaptationSet",e,[new a["default"]("Representation",e,[new a["default"]("SubRepresentation",e)])])}return o(t,e),t}(a["default"]);n["default"]=f,t.exports=n["default"]},{25:25}],27:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,n,r){var i=!0;e:while(i){var s=t,o=n,u=r;i=!1,s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,o);if(a===undefined){var f=Object.getPrototypeOf(s);if(f===null)return undefined;t=f,n=o,r=u,i=!0,a=f=undefined;continue e}if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(u)}},u=e(25),a=i(u),f=function(e){function t(){s(this,t);var e=["SegmentBase","SegmentTemplate","SegmentList"];r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"Period",e,[new a["default"]("AdaptationSet",e,[new a["default"]("Representation",e)])])}return o(t,e),t}(a["default"]);n["default"]=f,t.exports=n["default"]},{25:25}],28:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n){i(this,e),this._test=t,this._converter=n}return r(e,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),e}();n["default"]=s,t.exports=n["default"]},{}],29:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,n,r){var i=!0;e:while(i){var s=t,o=n,u=r;i=!1,s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,o);if(a===undefined){var f=Object.getPrototypeOf(s);if(f===null)return undefined;t=f,n=o,r=u,i=!0,a=f=undefined;continue e}if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(u)}},u=e(28),a=i(u),f=60,l=60,c=1e3,h=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,p=function(e){function t(){s(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){return h.test(e.value)},function(e){var t=h.exec(e),n=undefined;n=Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),t[6]&&parseInt(t[6],10)||0,t[7]&&parseFloat(t[7])*c||0);if(t[9]&&t[10]){var r=parseInt(t[9],10)*l+parseInt(t[10],10);n+=(t[8]==="+"?-1:1)*r*f*c}return new Date(n)})}return o(t,e),t}(a["default"]);n["default"]=p,t.exports=n["default"]},{28:28}],30:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,n,r){var i=!0;e:while(i){var s=t,o=n,u=r;i=!1,s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,o);if(a===undefined){var f=Object.getPrototypeOf(s);if(f===null)return undefined;t=f,n=o,r=u,i=!0,a=f=undefined;continue e}if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(u)}},u=e(28),a=i(u),f=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,l=31536e3,c=2592e3,h=86400,p=3600,d=60,v=function(e){function t(){s(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){var t=["minBufferTime","mediaPresentationDuration","minimumUpdatePeriod","timeShiftBufferDepth","maxSegmentDuration","maxSubsegmentDuration","suggestedPresentationDelay","start","starttime","duration"],n=t.length;for(var r=0;r<n;r++)if(e.nodeName===t[r])return f.test(e.value);return!1},function(e){var t=f.exec(e),n=parseFloat(t[2]||0)*l+parseFloat(t[4]||0)*c+parseFloat(t[6]||0)*h+parseFloat(t[8]||0)*p+parseFloat(t[10]||0)*d+parseFloat(t[12]||0);return t[1]!==undefined&&(n=-n),n})}return o(t,e),t}(a["default"]);n["default"]=v,t.exports=n["default"]},{28:28}],31:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,n,r){var i=!0;e:while(i){var s=t,o=n,u=r;i=!1,s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,o);if(a===undefined){var f=Object.getPrototypeOf(s);if(f===null)return undefined;t=f,n=o,r=u,i=!0,a=f=undefined;continue e}if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(u)}},u=e(28),a=i(u),f=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,l=function(e){function t(){s(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){return f.test(e.value)},function(e){return parseFloat(e)})}return o(t,e),t}(a["default"]);n["default"]=l,t.exports=n["default"]},{28:28}],32:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,n,r){var i=!0;e:while(i){var s=t,o=n,u=r;i=!1,s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,o);if(a===undefined){var f=Object.getPrototypeOf(s);if(f===null)return undefined;t=f,n=o,r=u,i=!0,a=f=undefined;continue e}if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(u)}},u=e(28),a=i(u),f=function(e){function t(){s(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e,t){var n={MPD:["id","profiles"],Period:["id"],BaseURL:["serviceLocation","byteRange"],SegmentBase:["indexRange"],Initialization:["range"],RepresentationIndex:["range"],SegmentList:["indexRange"],BitstreamSwitching:["range"],SegmentURL:["mediaRange","indexRange"],SegmentTemplate:["indexRange","media","index","initialization","bitstreamSwitching"],AssetIdentifier:["value","id"],EventStream:["value"],AdaptationSet:["profiles","mimeType","segmentProfiles","codecs","contentType"],FramePacking:["value","id"],AudioChannelConfiguration:["value","id"],ContentProtection:["value","id"],EssentialProperty:["value","id"],SupplementalProperty:["value","id"],InbandEventStream:["value","id"],Accessibility:["value","id"],Role:["value","id"],Rating:["value","id"],Viewpoint:["value","id"],ContentComponent:["contentType"],Representation:["id","dependencyId","mediaStreamStructureId"],Subset:["id"],Metrics:["metrics"],Reporting:["value","id"]};if(n.hasOwnProperty(t)){var r=n[t];return r!==undefined?r.indexOf(e.name)>=0:!1}return!1},function(e){return String(e)})}return o(t,e),t}(a["default"]);n["default"]=f,t.exports=n["default"]},{28:28}],33:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){function n(e){if(!e)return;e.boxParser&&(t=e.boxParser)}function r(e){var n=t.parse(e),r=n.getBox("tfhd"),i=n.getBox("tfdt"),s=n.getBox("trun"),o=n.getBox("moof"),u=n.getBox("mfhd"),a=n.getBox("subs"),f,l,c,h,p,d,v,m,g,y,b,w;b=u.sequence_number,c=s.sample_count,p=i.baseMediaDecodeTime,y=(r.base_data_offset||0)+(s.data_offset||0),d=[];var E=-1,S=-1;for(m=0;m<c;m++){v=s.samples[m],f=v.sample_duration!==undefined?v.sample_duration:r.default_sample_duration,h=v.sample_size!==undefined?v.sample_size:r.default_sample_size,l=v.sample_composition_time_offset!==undefined?v.sample_composition_time_offset:0;var x={dts:p,cts:p+l,duration:f,offset:o.offset+y,size:h,subSizes:[h]};if(a){E<a.entry_count&&m>S&&(E++,S+=a.entries[E].sample_delta);if(m==S){x.subSizes=[];var T=a.entries[E];for(g=0;g<T.subsample_count;g++)x.subSizes.push(T.subsamples[g].subsample_size)}}d.push(x),y+=h,p+=f}return w=p-i.baseMediaDecodeTime,{sampleList:d,sequenceNumber:b,totalDuration:w}}function i(e){var n=t.parse(e),r=n.getBox("mdhd");return r?r.timescale:NaN}var e=undefined,t=undefined;return e={getSamplesInfo:r,getMediaTimescaleFromMoov:i,setConfig:n},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="FragmentedTextBoxParser",n["default"]=s["default"].getSingletonFactory(o),t.exports=n["default"]},{10:10}],34:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){function i(e,r,i,s){var u=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,a=u.SegmentURL_asArray.length,f=[],l,c,h,p,d,v,m;m=e.startNumber,p=(0,o.decideSegmentListRangeForTemplate)(n,t,e,r,i,s),d=Math.max(p.start,0),v=Math.min(p.end,u.SegmentURL_asArray.length-1);for(l=d;l<=v;l++)h=u.SegmentURL_asArray[l],c=(0,o.getIndexBasedSegment)(n,t,e,l),c.replacementTime=(m+l-1)*e.segmentDuration,c.media=h.media?h.media:"",c.mediaRange=h.mediaRange,c.index=h.index,c.indexRange=h.indexRange,f.push(c),c=null;return e.availableSegmentsNumber=a,f}var n=e.timelineConverter,r=undefined;return r={getSegments:i},r}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(36);u.__dashjs_factory_name="ListSegmentsGetter";var a=s["default"].getClassFactory(u);n["default"]=a,t.exports=n["default"]},{10:10,36:36}],35:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function h(e,t){function a(){i=(0,u["default"])(n).create(e,t),s=(0,f["default"])(n).create(e,t),o=(0,c["default"])(n).create(e,t)}function l(e,t,n,r,u){var a,f=e.segmentInfoType;return f==="SegmentBase"||f==="BaseURL"||!h(e,n)?a=e.segments:(f==="SegmentTimeline"?a=i.getSegments(e,t,n,u):f==="SegmentTemplate"?a=s.getSegments(e,t,n,u):f==="SegmentList"&&(a=o.getSegments(e,t,n,u)),r&&r(e,a)),a}function h(e,t){var n=e.segments,r=!1,i,s;return!n||n.length===0?r=!0:(s=n[0].availabilityIdx,i=n[n.length-1].availabilityIdx,r=t<s||t>i),r}var n=this.context,r=undefined,i=undefined,s=undefined,o=undefined;return r={getSegments:l},a(),r}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(39),u=r(o),a=e(37),f=r(a),l=e(34),c=r(l);h.__dashjs_factory_name="SegmentsGetter";var p=s["default"].getClassFactory(h);n["default"]=p,t.exports=n["default"]},{10:10,34:34,37:37,39:39}],36:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){while(e.length<t)e="0"+e;return e}function u(e,t){return e.representation.startNumber+t}function a(e,t,n){var r="%0",i,s,u,a,f,l,c=t.length,h=r.length;if(!e)return e;for(;;){i=e.indexOf("$"+t);if(i<0)return e;s=e.indexOf("$",i+c);if(s<0)return e;u=e.indexOf(r,i+c);if(u>i&&u<s){a=e.charAt(s-1),f=parseInt(e.substring(u+h,s-1),10);switch(a){case"d":case"i":case"u":l=o(n.toString(),f);break;case"x":l=o(n.toString(16),f);break;case"X":l=o(n.toString(16),f).toUpperCase();break;case"o":l=o(n.toString(8),f);break;default:return e}}else l=n;e=e.substring(0,i)+l+e.substring(s+1)}}function f(e,t,n,r){var i,o,a,f;return o=n.segmentDuration,isNaN(o)&&(o=n.adaptation.period.duration),a=n.adaptation.period.start+r*o,f=a+o,i=new s["default"],i.representation=n,i.duration=o,i.presentationStartTime=a,i.mediaStartTime=e.calcMediaTimeFromPresentationTime(i.presentationStartTime,n),i.availabilityStartTime=e.calcAvailabilityStartTimeFromPresentationTime(i.presentationStartTime,n.adaptation.period.mpd,t),i.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(f,n.adaptation.period.mpd,t),i.wallStartTime=e.calcWallTimeForSegment(i,t),i.replacementNumber=u(i,r),i.availabilityIdx=r,i}function l(e,t,n,r,i,o,f,l,c){var h=r/o,p=Math.min(i/o,n.adaptation.period.mpd.maxSegmentDuration),d,v,m;return d=e.calcPresentationTimeFromMediaTime(h,n),v=d+p,m=new s["default"],m.representation=n,m.duration=p,m.mediaStartTime=h,m.presentationStartTime=d,m.availabilityStartTime=n.adaptation.period.mpd.manifest.loadedTime,m.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(v,n.adaptation.period.mpd,t),m.wallStartTime=e.calcWallTimeForSegment(m,t),m.replacementTime=r,m.replacementNumber=u(m,c),f=a(f,"Number",m.replacementNumber),f=a(f,"Time",m.replacementTime),m.media=f,m.mediaRange=l,m.availabilityIdx=c,m}function c(e,t){if(!t||!t.segments)return null;var n=t.segments.length,r,i;if(e<n){r=t.segments[e];if(r&&r.availabilityIdx===e)return r}for(i=0;i<n;i++){r=t.segments[i];if(r&&r.availabilityIdx===e)return r}return null}function h(e,t,n,r,i){var s=2,o=i||10,u=0,a=Number.POSITIVE_INFINITY,f,l,c;return t&&!e.isTimeSyncCompleted()?(c={start:u,end:a},c):!t&&n||r<0?null:(f=Math.max(r-s,u),l=Math.min(r+o,a),c={start:f,end:l},c)}function p(e,t,n,r,i,s){var o=n.segmentDuration,u=n.adaptation.period.mpd.manifest.minBufferTime,a=n.segmentAvailabilityRange,f={start:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,a.start),end:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,a.end)},l=n.segments,h=2*o,p=s||Math.max(2*u,10*o),d=NaN,v=null,m,g,y;return f.start=Math.max(f.start,0),t&&!e.isTimeSyncCompleted()?(m=Math.floor(f.start/o),g=Math.floor(f.end/o),y={start:m,end:g},y):(l&&l.length>0?(v=c(i,n),v?d=e.calcPeriodRelativeTimeFromMpdRelativeTime(n,v.presentationStartTime):d=i>0?i*o:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,r)):d=i>0?i*o:t?f.end:f.start,m=Math.floor(Math.max(d-h,f.start)/o),g=Math.floor(Math.min(m+p/o,f.end/o)),y={start:m,end:g},y)}Object.defineProperty(n,"__esModule",{value:!0}),n.replaceTokenForTemplate=a,n.getIndexBasedSegment=f,n.getTimeBasedSegment=l,n.getSegmentByIndex=c,n.decideSegmentListRangeForTimeline=h,n.decideSegmentListRangeForTemplate=p;var i=e(47),s=r(i)},{47:47}],37:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){function i(e,r,i,s){var u=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate,a=e.segmentDuration,f=e.segmentAvailabilityRange,l=[],c=null,h=null,p,d,v,m,g;g=e.startNumber,isNaN(a)&&!t?p={start:g,end:g}:p=(0,o.decideSegmentListRangeForTemplate)(n,t,e,r,i,s),v=p.start,m=p.end;for(d=v;d<=m;d++)h=(0,o.getIndexBasedSegment)(n,t,e,d),h.replacementTime=(g+d-1)*e.segmentDuration,c=u.media,c=(0,o.replaceTokenForTemplate)(c,"Number",h.replacementNumber),c=(0,o.replaceTokenForTemplate)(c,"Time",h.replacementTime),h.media=c,l.push(h),h=null;return isNaN(a)?e.availableSegmentsNumber=1:e.availableSegmentsNumber=Math.ceil((f.end-f.start)/a),l}var n=e.timelineConverter,r=undefined;return r={getSegments:i},r}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(36);u.__dashjs_factory_name="TemplateSegmentsGetter";var a=s["default"].getClassFactory(u);n["default"]=a,t.exports=n["default"]},{10:10,36:36}],38:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function l(){function a(){r=0,i=!1,o=NaN,t.on(u["default"].TIME_SYNCHRONIZATION_COMPLETED,N,this)}function f(){return i}function l(e){i=e}function c(){return r}function h(e){r=e}function p(){return o}function d(e){o=e}function v(e,t,n,i){var s=NaN;return i?n&&t.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?s=new Date(t.availabilityStartTime.getTime()+(e+t.timeShiftBufferDepth)*1e3):s=t.availabilityEndTime:n?s=new Date(t.availabilityStartTime.getTime()+(e-r)*1e3):s=t.availabilityStartTime,s}function m(e,t,n){return v.call(this,e,t,n)}function g(e,t,n){return v.call(this,e,t,n,!0)}function y(e,t){return(e.getTime()-t.mpd.availabilityStartTime.getTime()+r*1e3)/1e3}function b(e,t){var n=t.adaptation.period.start,r=t.presentationTimeOffset;return e+(n-r)}function w(e,t){var n=t.adaptation.period.start,r=t.presentationTimeOffset;return e-n+r}function E(e,t){var n,r,i;return t&&(n=e.representation.adaptation.period.mpd.suggestedPresentationDelay,r=e.presentationStartTime+n,i=new Date(e.availabilityStartTime.getTime()+r*1e3)),i}function S(e,t){var n=e.adaptation.period,r={start:n.start,end:n.start+n.duration};if(!t)return r;if(!i&&e.segmentAvailabilityRange)return e.segmentAvailabilityRange;var s=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0),o=y(new Date,n),u=n.start+n.duration;return r.start=Math.max(o-n.mpd.timeShiftBufferDepth,n.start),r.end=o>=u&&o-s<u?u-s:o-s,r}function x(e,t){var n=e.adaptation.period.start;return t-n}function T(e,t){var n=e.adaptation.period.start;return t+n}function N(e){if(i)return;e.offset!==undefined&&(h(e.offset/1e3),i=!0)}function C(e){var t=e.presentationTimeOffset,n=e.adaptation.period.start;return n-t}function k(){t.off(u["default"].TIME_SYNCHRONIZATION_COMPLETED,N,this),r=0,i=!1,o=NaN}var e=this.context,t=(0,s["default"])(e).getInstance(),n=undefined,r=undefined,i=undefined,o=undefined;return n={initialize:a,isTimeSyncCompleted:f,setTimeSyncCompleted:l,getClientTimeOffset:c,setClientTimeOffset:h,getExpectedLiveEdge:p,setExpectedLiveEdge:d,calcAvailabilityStartTimeFromPresentationTime:m,calcAvailabilityEndTimeFromPresentationTime:g,calcPresentationTimeFromWallTime:y,calcPresentationTimeFromMediaTime:b,calcPeriodRelativeTimeFromMpdRelativeTime:x,calcMpdRelativeTimeFromPeriodRelativeTime:T,calcMediaTimeFromPresentationTime:w,calcSegmentAvailabilityRange:S,calcWallTimeForSegment:E,calcMSETimeOffset:C,reset:k},n}Object.defineProperty(n,"__esModule",{value:!0});var i=e(9),s=r(i),o=e(13),u=r(o),a=e(10),f=r(a);l.__dashjs_factory_name="TimelineConverter",n["default"]=f["default"].getSingletonFactory(l),t.exports=n["default"]},{10:10,13:13,9:9}],39:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){function i(e,r,i,s){var u=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,a=u.SegmentTimeline,f=u.SegmentURL_asArray,l=e.availableSegmentsNumber>0,c=10,h=0,p=0,d=-1,v=[],m=!1,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M=function(i,s){var a=u.media,l=i.mediaRange;return f&&(a=f[s].media||"",l=f[s].mediaRange),(0,o.getTimeBasedSegment)(n,t,e,h,i.d,O,a,l,d)};O=e.timescale,g=a.S_asArray,N=(0,o.decideSegmentListRangeForTimeline)(n,t,r,i,s),N?(L=N.start,A=N.end):k=n.calcMediaTimeFromPresentationTime(r||0,e);for(b=0,w=g.length;b<w;b++){y=g[b],S=0,y.hasOwnProperty("r")&&(S=y.r),y.hasOwnProperty("t")&&(h=y.t,p=h/O);if(S<0){T=g[b+1];if(T&&T.hasOwnProperty("t"))x=T.t/O;else{var _=e.segmentAvailabilityRange?e.segmentAvailabilityRange.end:n.calcSegmentAvailabilityRange(e,t).end;x=n.calcMediaTimeFromPresentationTime(_,e),e.segmentDuration=y.d/O}S=Math.ceil((x-p)/(y.d/O))-1}if(C){if(l)break;d+=S+1;continue}for(E=0;E<=S;E++){d++;if(N){if(d>A){C=!0;if(l)break;continue}d>=L&&v.push(M(y,d))}else{if(v.length>c){C=!0;if(l)break;continue}m?v.push(M(y,d)):p>=k-y.d/O*1.5&&(m=!0,v.push(M(y,d)))}h+=y.d,p=h/O}}return l||(e.availableSegmentsNumber=d+1),v}var n=e.timelineConverter,r=undefined;return r={getSegments:i},r}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(36);u.__dashjs_factory_name="TimelineSegmentsGetter";var a=s["default"].getClassFactory(u);n["default"]=a,t.exports=n["default"]},{10:10,36:36}],40:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.period=null,this.index=-1,this.type=null};n["default"]=i,t.exports=n["default"]},{}],41:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=1,s=1,o=function u(e,t,n,o){r(this,u),this.url=e||"",this.serviceLocation=t||e||"",this.dvb_priority=n||i,this.dvb_weight=o||s};o.DEFAULT_DVB_PRIORITY=i,o.DEFAULT_DVB_WEIGHT=s,n["default"]=o,t.exports=n["default"]},{}],42:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN};n["default"]=i,t.exports=n["default"]},{}],43:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""};n["default"]=i,t.exports=n["default"]},{}],44:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN};n["default"]=i,t.exports=n["default"]},{}],45:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null};i.DEFAULT_ID="defaultId",n["default"]=i,t.exports=n["default"]},{}],46:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(){i(this,e),this.id=null,this.index=-1,this.adaptation=
null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.maxPlayoutRate=NaN}return r(e,null,[{key:"hasInitialization",value:function(t){return t.initialization!==null||(t.segmentInfoType!=="BaseURL"||t.segmentInfoType!=="SegmentBase")&&t.range!==null}},{key:"hasSegments",value:function(t){return t.segmentInfoType!=="BaseURL"&&t.segmentInfoType!=="SegmentBase"&&!t.indexRange}}]),e}();n["default"]=s,t.exports=n["default"]},{}],47:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null};n["default"]=i,t.exports=n["default"]},{}],48:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.schemeIdUri="",this.value=""};n["default"]=i,t.exports=n["default"]},{}],49:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function b(e){function o(){i=(0,s["default"])(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier})}function a(e){var t=function(r){n.trigger(p["default"].CHECK_FOR_EXISTENCE_COMPLETED,{request:e,exists:r})};if(e){var r=new u["default"](e.url);i.load({request:r,success:function(){t(!0)},error:function(){t(!1)}})}else t(!1)}function l(e){var t=function(i,s){n.trigger(p["default"].LOADING_COMPLETED,{request:e,response:i||null,error:s||null,sender:r})};e?i.load({request:e,progress:function(){n.trigger(p["default"].LOADING_PROGRESS,{request:e})},success:function(n){t(n)},error:function(n,r,i){t(undefined,new f["default"](m,i,r))}}):t(undefined,new f["default"](g,y))}function h(){i&&i.abort()}function d(){i&&(i.abort(),i=null)}var t=this.context,n=(0,c["default"])(t).getInstance(),r=undefined,i=undefined;return r={checkForExistence:a,load:l,abort:h,reset:d},o(),r}Object.defineProperty(n,"__esModule",{value:!0});var i=e(57),s=r(i),o=e(167),u=r(o),a=e(165),f=r(a),l=e(9),c=r(l),h=e(13),p=r(h),d=e(10),v=r(d),m=1,g=2,y="request is null";b.__dashjs_factory_name="FragmentLoader";var w=v["default"].getClassFactory(b);w.FRAGMENT_LOADER_ERROR_LOADING_FAILURE=m,w.FRAGMENT_LOADER_ERROR_NULL_REQUEST=g,n["default"]=w,t.exports=n["default"]},{10:10,13:13,165:165,167:167,57:57,9:9}],50:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function L(e){function g(){n.on(w["default"].XLINK_READY,b,o),a=(0,u["default"])(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier}),l=(0,s["default"])(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier}),h=null}function b(e){n.trigger(w["default"].INTERNAL_MANIFEST_LOADED,{manifest:e.manifest})}function E(e){var n=null;return e.indexOf("SmoothStreamingMedia")>-1?(d?(n=d.createMssParser(),d.registerEvents()):i.manifestError("manifest type unsupported","createParser"),n):e.indexOf("MPD")>-1?(0,T["default"])(t).create():n}function S(e){var t=new p["default"](e,m.HTTPRequest.MPD_TYPE);a.load({request:t,success:function(i,s,o){var u,a;o.responseURL&&o.responseURL!==e?(a=r.parseBaseUrl(o.responseURL),u=o.responseURL):(r.isRelative(e)&&(e=r.resolve(e,window.location.href)),a=r.parseBaseUrl(e)),h===null&&(h=E(i));if(h===null){n.trigger(w["default"].INTERNAL_MANIFEST_LOADED,{manifest:null,error:new v["default"](N,"Failed detecting manifest type: "+e)});return}var f=h.parse(i,l);f?(f.url=u||e,f.originalUrl||(f.originalUrl=f.url),f.baseUri=a,f.loadedTime=new Date,l.resolveManifestOnLoad(f)):n.trigger(w["default"].INTERNAL_MANIFEST_LOADED,{manifest:null,error:new v["default"](N,k)})},error:function(r,i,s){n.trigger(w["default"].INTERNAL_MANIFEST_LOADED,{manifest:null,error:new v["default"](C,"Failed loading manifest: "+e+", "+s)})}})}function x(){n.off(w["default"].XLINK_READY,b,o),l&&(l.reset(),l=null),a&&(a.abort(),a=null),d&&d.reset()}var t=this.context,n=(0,y["default"])(t).getInstance(),r=(0,f["default"])(t).getInstance(),i=(0,c["default"])(t).getInstance(),o=undefined,a=undefined,l=undefined,h=undefined,d=e.mssHandler;return o={load:S,reset:x},g(),o}Object.defineProperty(n,"__esModule",{value:!0});var i=e(72),s=r(i),o=e(57),u=r(o),a=e(159),f=r(a),l=e(152),c=r(l),h=e(173),p=r(h),d=e(165),v=r(d),m=e(182),g=e(9),y=r(g),b=e(13),w=r(b),E=e(10),S=r(E),x=e(23),T=r(x),N=1,C=2,k="parsing failed";L.__dashjs_factory_name="ManifestLoader";var A=S["default"].getClassFactory(L);A.MANIFEST_LOADER_ERROR_PARSING_FAILURE=N,A.MANIFEST_LOADER_ERROR_LOADING_FAILURE=C,n["default"]=A,t.exports=n["default"]},{10:10,13:13,152:152,159:159,165:165,173:173,182:182,23:23,57:57,72:72,9:9}],51:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function d(){function m(e){if(!e)return;e.manifestModel&&(h=e.manifestModel),e.dashManifestModel&&(d=e.dashManifestModel)}function g(t){l=t,i=NaN,o=null,f=!1,a=!0,v=(0,c["default"])(e).getInstance(),n.on(u["default"].STREAMS_COMPOSED,A,this),n.on(u["default"].PLAYBACK_STARTED,k,this),n.on(u["default"].PLAYBACK_PAUSED,L,this),n.on(u["default"].INTERNAL_MANIFEST_LOADED,C,this)}function y(e){T(e)}function b(){return l}function w(){n.off(u["default"].PLAYBACK_STARTED,k,this),n.off(u["default"].PLAYBACK_PAUSED,L,this),n.off(u["default"].STREAMS_COMPOSED,A,this),n.off(u["default"].INTERNAL_MANIFEST_LOADED,C,this),E(),a=!0,f=!1,i=NaN,v=null}function E(){o!==null&&(clearInterval(o),o=null)}function S(){E(),isNaN(i)||(t("Refresh manifest in "+i+" seconds."),o=setTimeout(N,i*1e3))}function x(){f=!0;var e=h.getValue(),t=e.url,n=d.getLocation(e);n&&(t=n),l.load(t)}function T(e){h.setValue(e);var r=new Date,s=(r.getTime()-e.loadedTime.getTime())/1e3;i=d.getManifestUpdatePeriod(e,s),n.trigger(u["default"].MANIFEST_UPDATED,{manifest:e}),t("Manifest has been refreshed at "+r+"["+r.getTime()/1e3+"] "),a||S()}function N(){if(a&&!v.getScheduleWhilePaused()||f)return;x()}function C(e){e.error||T(e.manifest)}function k(){a=!1,S()}function L(){a=!0,E()}function A(){f=!1}var e=this.context,t=(0,p["default"])(e).getInstance().log,n=(0,s["default"])(e).getInstance(),r=undefined,i=undefined,o=undefined,a=undefined,f=undefined,l=undefined,h=undefined,d=undefined,v=undefined;return r={initialize:g,setManifest:y,getManifestLoader:b,refreshManifest:x,setConfig:m,reset:w},r}Object.defineProperty(n,"__esModule",{value:!0});var i=e(9),s=r(i),o=e(13),u=r(o),a=e(10),f=r(a),l=e(99),c=r(l),h=e(8),p=r(h);d.__dashjs_factory_name="ManifestUpdater",n["default"]=f["default"].getSingletonFactory(d),t.exports=n["default"]},{10:10,13:13,8:8,9:9,99:99}],52:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function pt(){function nt(){y=!1,w=!1,S=!0,L=null,m=null,P=null,Z["default"].extend(tt["default"]),F=(0,D["default"])(i).getInstance()}function st(e,t,n){U=(0,b["default"])(i).getInstance(),q=(0,g["default"])(i).getInstance();if(!U.supportsMediaSource()){q.capabilityError("mediasource");return}if(y)return;y=!0,T=(0,j["default"])(i).getInstance(),V=(0,u["default"])(i).getInstance(),C=(0,c["default"])(i).getInstance(),C.initialize(),Q=(0,at["default"])(i).getInstance(),J=(0,lt["default"])(i).getInstance(),B=(0,H["default"])(i).getInstance(),B.setConfig({adapter:mr()}),jn(),Jt(n!==undefined?n:!0),e&&ur(e),t&&cr(t),l("[dash.js "+Dt()+"] "+"MediaPlayer has been initialized")}function ut(){return!!Y&&!!d}function ft(){if(!w)throw e;(!S||pt()&&w)&&V.play()}function ct(){if(!w)throw e;V.pause()}function pt(){if(!w)throw e;return V.isPaused()}function dt(){if(!w)throw e;return V.isSeeking()}function vt(){if(!w)throw e;return V.getIsDynamic()}function mt(e){if(!Y)throw t;or().muted=e}function gt(){if(!Y)throw t;return or().muted}function yt(e){if(!Y)throw t;or().volume=e}function bt(){if(!Y)throw t;return or().volume}function wt(e){var t=["video","audio","fragmentedText"];if(!e)return t.map(function(e){return mn(e).length>0?Yt().getCurrentBufferLevel(Zt(e)):Number.MAX_VALUE}).reduce(function(e,t){return Math.min(e,t)});if(t.indexOf(e)!==-1){var n=Yt().getCurrentBufferLevel(Zt(e));return n?n:NaN}return l("Warning  - getBufferLength requested for invalid type"),NaN}function Et(){var e=wr();return e?e.manifestInfo.DVRWindowSize:0}function St(e){var t=wr();if(!t)return 0;var n=t.range.start+e;return n>t.range.end&&(n=t.range.end),n}function xt(t){if(!w)throw e;var n=V.getIsDynamic()?St(t):t;V.seek(n)}function Tt(t){if(!w)throw e;var n=or().currentTime;if(t!==undefined)n=W.getTimeRelativeToStreamId(n,t);else if(V.getIsDynamic()){var r=wr();n=r===null?0:Nt()-(r.range.end-r.time)}return n}function Nt(){if(!w)throw e;var t=or().duration;if(V.getIsDynamic()){var n=wr(),r;if(!n)return 0;r=n.range.end-n.range.start,t=r<n.manifestInfo.DVRWindowSize?r:n.manifestInfo.DVRWindowSize}return t}function Ct(){if(!w)throw e;return Tt()<0?NaN:Er(Tt())}function kt(){if(!w)throw e;return Er(Nt())}function Lt(e,t,n){var r=arguments.length<=3||arguments[3]===undefined?!1:arguments[3],i=new Date(e*1e3),s=i.toLocaleDateString(t),o=i.toLocaleTimeString(t,{hour12:n});return r?o+" "+s:o}function At(e){e=Math.max(e,0);var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%3600%60);return(t===0?"":t<10?"0"+t.toString()+":":t.toString()+":")+(n<10?"0"+n.toString():n.toString())+":"+(r<10?"0"+r.toString():r.toString())}function Ot(e,t,n){rt["default"].extend(e,t,n,i)}function Mt(e,t,n){o.on(e,t,n)}function _t(e,t,n){o.off(e,t,n)}function Dt(){return(0,it.getVersionString)()}function Pt(){return a}function Ht(){if(!Y)throw t;return Y}function Bt(e){F.setLiveDelayFragmentCount(e)}function jt(e){F.setLiveDelay(e)}function Ft(){return F.getLiveDelay()}function It(e){F.setUseSuggestedPresentationDelay(e)}function qt(e,t){F.setLastBitrateCachingInfo(e,t)}function Rt(e,t){F.setLastMediaSettingsCachingInfo(e,t)}function Ut(e,t){T.setMaxAllowedBitrateFor(e,t)}function zt(e,t){T.setMinAllowedBitrateFor(e,t)}function Wt(e){return T.getMaxAllowedBitrateFor(e)}function Xt(e){return T.getMinAllowedBitrateFor(e)}function Vt(e,t){T.setMaxAllowedRepresentationRatioFor(e,t)}function $t(e){return T.getMaxAllowedRepresentationRatioFor(e)}function Jt(e){S=e}function Kt(){return S}function Qt(e){F.setScheduleWhilePaused(e)}function Gt(){return F.getScheduleWhilePaused()}function Yt(){return J}function Zt(e){return B.getReadOnlyMetricsFor(e)}function en(t){if(!w)throw e;return T.getQualityFor(t,W.getActiveStreamInfo())}function tn(t,n){if(!w)throw e;T.setPlaybackQuality(t,W.getActiveStreamInfo(),n)}function nn(){T.setElementSize(),T.setWindowResizeEventCalled(!0)}function rn(){return T.getLimitBitrateByPortal()}function sn(e){T.setLimitBitrateByPortal(e)}function on(){return T.getUsePixelRatioInLimitBitrateByPortal()}function un(e){T.setUsePixelRatioInLimitBitrateByPortal(e)}function an(t){if(!w)throw e;et===undefined&&(et=(0,k["default"])(i).getInstance());var n=or().textTracks,r=n.length;for(var s=0;s<r;s++){var o=n[s],u=t===s?"showing":"hidden";o.mode!==u&&(o.mode=u)}et.setTextTrack()}function fn(){var e=NaN;return et&&(e=et.getCurrentTrackIdx()),e}function ln(t){if(!w)throw e;var n=Sr();return n?n.getBitrateListFor(t):[]}function cn(e,t){T.setInitialBitrateFor(e,t)}function hn(t){if(!w)throw e;return T.getInitialBitrateFor(t)}function pn(e,t){T.setInitialRepresentationRatioFor(e,t)}function dn(e){return T.getInitialRepresentationRatioFor(e)}function vn(t){if(!w)throw e;return P.getStreamsInfo(t)}function mn(t){if(!w)throw e;var n=W.getActiveStreamInfo();return n?C.getTracksFor(t,n):[]}function gn(t,n,r){if(!w)throw e;return r=r||P.getStreamsInfo(n)[0],r?P.getAllMediaInfoForType(n,r,t):[]}function yn(t){if(!w)throw e;var n=W.getActiveStreamInfo();return n?C.getCurrentTrackFor(t,n):null}function bn(e,t){C.setInitialSettings(e,t)}function wn(e){return C.getInitialSettings(e)}function En(t){if(!w)throw e;C.setTrack(t)}function Sn(e){return C.getSwitchMode(e)}function xn(e,t){C.setSwitchMode(e,t)}function Tn(e){C.setSelectionModeForInitialTrack(e)}function Nn(){return C.getSelectionModeForInitialTrack()}function Cn(){return T.getAutoSwitchBitrateFor("video")||T.getAutoSwitchBitrateFor("audio")}function kn(e){T.setAutoSwitchBitrateFor("video",e),T.setAutoSwitchBitrateFor("audio",e)}function Ln(e){return T.getAutoSwitchBitrateFor(e)}function An(e,t){T.setAutoSwitchBitrateFor(e,t)}function On(e){F.setFastSwitchEnabled(e)}function Mn(){return F.getFastSwitchEnabled()}function _n(e){F.setBufferOccupancyABREnabled(e)}function Dn(e,t){var n=vr(),r=this,s=function a(e){e.error?t(null,e.error):t(e.manifest),o.off(Z["default"].INTERNAL_MANIFEST_LOADED,a,r),n.reset()};o.on(Z["default"].INTERNAL_MANIFEST_LOADED,s,r);var u=(0,A["default"])(i).getInstance();u.initialize(),n.load(u.parseURI(e))}function Pn(e,t){Hn(e,t);var n=new s["default"];n.schemeIdUri=e,n.value=t,F.getUTCTimingSources().push(n)}function Hn(e,t){var n=F.getUTCTimingSources();n.forEach(function(r,i){r.schemeIdUri===e&&r.value===t&&n.splice(i,1)})}function Bn(){F.setUTCTimingSources([])}function jn(){Pn(D["default"].DEFAULT_UTC_TIMING_SOURCE.scheme,D["default"].DEFAULT_UTC_TIMING_SOURCE.value)}function Fn(e){F.setUseManifestDateHeaderTimeSource(e)}function In(e){F.setBufferToKeep(e)}function qn(e){F.setBufferPruningInterval(e)}function Rn(e){F.setStableBufferTime(e)}function Un(e){F.setBufferTimeAtTopQuality(e)}function zn(e){F.setBufferTimeAtTopQualityLongForm(e)}function Wn(e){F.setLongFormContentDurationThreshold(e)}function Xn(e){F.setRichBufferThreshold(e)}function Vn(e){F.setBandwidthSafetyFactor(e)}function $n(){return F.getBandwidthSafetyFactor()}function Jn(e){F.setAbandonLoadTimeout(e)}function Kn(e){F.setFragmentRetryAttempts(e)}function Qn(e){F.setFragmentRetryInterval(e)}function Gn(e){Yn(undefined,e)}function Yn(e,t){F.setXHRWithCredentialsForType(e,t)}function Zn(e){return F.getXHRWithCredentialsForType(e)}function er(){return gr()}function tr(e){L=e}function nr(e){m=e}function rr(e){var t=(0,E["default"])(i).getInstance();t.setConfig({videoModel:Y}),t.initialize(),t.displayCConTop(e)}function ir(){return Y?Y.getVideoContainer():null}function sr(e){if(!Y)throw t;Y.setVideoContainer(e)}function or(){if(!Y)throw t;return Y.getElement()}function ur(e){if(!y)throw r;Y=null,e&&(Y=(0,z["default"])(i).getInstance(),Y.initialize(),Y.setElement(e),gr(),yr(),br()),pr()}function ar(){return Y?Y.getTTMLRenderingDiv():null}function fr(e){if(!Y)throw t;Y.setTTMLRenderingDiv(e)}function lr(){if(!d)throw n;return d}function cr(e){if(!y)throw r;if(typeof e=="string"){var t=(0,A["default"])(i).getInstance();t.initialize(),d=t.parseURI(e)}else d=e;pr()}function hr(){cr(null),ur(null),m=null,L=null}function pr(){w?(w=!1,P.reset(),W.reset(),V.reset(),T.reset(),C.reset(),et.reset(),W=null,O=null,ut()&&xr()):ut()&&xr()}function dr(){var e=(0,R["default"])(i).getInstance();e.initialize();var t=(0,x["default"])(i).getInstance();t.setConfig({dashManifestModel:Q}),C.initialize(),C.setConfig({errHandler:q}),W=(0,f["default"])(i).getInstance(),W.setConfig({capabilities:U,manifestLoader:vr(),manifestModel:(0,M["default"])(i).getInstance(),dashManifestModel:Q,protectionController:L,adapter:P,metricsModel:B,dashMetrics:J,liveEdgeFinder:(0,v["default"])(i).getInstance(),mediaSourceController:(0,X["default"])(i).getInstance(),timeSyncController:(0,I["default"])(i).getInstance(),baseURLController:(0,$["default"])(i).getInstance(),errHandler:q,timelineConverter:(0,ht["default"])(i).getInstance()}),W.initialize(S,m),T.setConfig({abrRulesCollection:e,streamController:W}),et=(0,k["default"])(i).getInstance(),et.setConfig({errHandler:q,dashManifestModel:Q,mediaController:C,streamController:W,videoModel:Y})}function vr(){return(0,p["default"])(i).create({errHandler:q,metricsModel:B,requestModifier:(0,N["default"])(i).getInstance(),mssHandler:_})}function mr(){return P=(0,ot["default"])(i).getInstance(),P.initialize(),P.setConfig({dashManifestModel:Q}),P}function gr(){if(L)return L;var e=dashjs.Protection;if(typeof e=="function"){var t=e(i).create();return Z["default"].extend(e.events),tt["default"].extend(e.events,{publicOnly:!0}),L=t.createProtectionSystem({log:l,videoModel:Y,capabilities:U,eventBus:o,adapter:P}),L}return null}function yr(){if(O)return O;var e=dashjs.MetricsReporting;if(typeof e=="function"){var t=e(i).create();return O=t.createMetricsReporting({log:l,eventBus:o,mediaElement:or(),dashManifestModel:Q,metricsModel:B}),O}return null}function br(){if(_)return _;var e=dashjs.MssHandler;return typeof e=="function"?(_=e(i).create({eventBus:o,mediaPlayerModel:F}),_):null}function wr(){var e=B.getReadOnlyMetricsFor("video")||B.getReadOnlyMetricsFor("audio");return J.getCurrentDVRInfo(e)}function Er(e){var t=wr(),n,r;return t?(n=t.manifestInfo.availableFrom.getTime()/1e3,r=e+(n+t.range.start),r):0}function Sr(){if(!w)throw e;var t=W.getActiveStreamInfo();return t?W.getStreamById(t.id):null}function xr(){w||(w=!0,l("Playback Initialized"),dr(),typeof d=="string"?W.load(d):W.loadWithManifest(d))}var e="You must first call play() to init playback before calling this method",t="You must first call attachView() to set the video element before calling this method",n="You must first call attachSource() with a valid source before calling this method",r="MediaPlayer not initialized!",i=this.context,o=(0,G["default"])(i).getInstance(),a=(0,K["default"])(i).getInstance(),l=a.log,h=undefined,d=undefined,m=undefined,y=undefined,w=undefined,S=undefined,T=undefined,C=undefined,L=undefined,O=undefined,_=undefined,P=undefined,B=undefined,F=undefined,q=undefined,U=undefined,W=undefined,V=undefined,J=undefined,Q=undefined,Y=undefined,et=undefined;return h={initialize:st,on:Mt,off:_t,extend:Ot,attachView:ur,attachSource:cr,isReady:ut,play:ft,isPaused:pt,pause:ct,isSeeking:dt,isDynamic:vt,seek:xt,setMute:mt,isMuted:gt,setVolume:yt,getVolume:bt,time:Tt,duration:Nt,timeAsUTC:Ct,durationAsUTC:kt,getActiveStream:Sr,getDVRWindowSize:Et,getDVRSeekOffset:St,convertToTimeCode:At,formatUTC:Lt,getVersion:Dt,getDebug:Pt,getBufferLength:wt,getVideoModel:Ht,getVideoContainer:ir,getTTMLRenderingDiv:ar,getVideoElement:or,getSource:lr,setLiveDelayFragmentCount:Bt,setLiveDelay:jt,getLiveDelay:Ft,useSuggestedPresentationDelay:It,enableLastBitrateCaching:qt,enableLastMediaSettingsCaching:Rt,setMaxAllowedBitrateFor:Ut,getMaxAllowedBitrateFor:Wt,setMinAllowedBitrateFor:zt,getMinAllowedBitrateFor:Xt,setMaxAllowedRepresentationRatioFor:Vt,getMaxAllowedRepresentationRatioFor:$t,setAutoPlay:Jt,getAutoPlay:Kt,setScheduleWhilePaused:Qt,getScheduleWhilePaused:Gt,getDashMetrics:Yt,getMetricsFor:Zt,getQualityFor:en,setQualityFor:tn,updatePortalSize:nn,getLimitBitrateByPortal:rn,setLimitBitrateByPortal:sn,getUsePixelRatioInLimitBitrateByPortal:on,setUsePixelRatioInLimitBitrateByPortal:un,setTextTrack:an,getBitrateInfoListFor:ln,setInitialBitrateFor:cn,getInitialBitrateFor:hn,setInitialRepresentationRatioFor:pn,getInitialRepresentationRatioFor:dn,getStreamsFromManifest:vn,getTracksFor:mn,getTracksForTypeFromManifest:gn,getCurrentTrackFor:yn,setInitialMediaSettingsFor:bn,getInitialMediaSettingsFor:wn,setCurrentTrack:En,getTrackSwitchModeFor:Sn,setTrackSwitchModeFor:xn,setSelectionModeForInitialTrack:Tn,getSelectionModeForInitialTrack:Nn,getAutoSwitchQuality:Cn,setAutoSwitchQuality:kn,setFastSwitchEnabled:On,getFastSwitchEnabled:Mn,getAutoSwitchQualityFor:Ln,setAutoSwitchQualityFor:An,enableBufferOccupancyABR:_n,setBandwidthSafetyFactor:Vn,getBandwidthSafetyFactor:$n,setAbandonLoadTimeout:Jn,retrieveManifest:Dn,addUTCTimingSource:Pn,removeUTCTimingSource:Hn,clearDefaultUTCTimingSources:Bn,restoreDefaultUTCTimingSources:jn,setBufferToKeep:In,setBufferPruningInterval:qn,setStableBufferTime:Rn,setBufferTimeAtTopQuality:Un,setFragmentLoaderRetryAttempts:Kn,setFragmentLoaderRetryInterval:Qn,setXHRWithCredentials:Gn,setXHRWithCredentialsForType:Yn,getXHRWithCredentialsForType:Zn,setBufferTimeAtTopQualityLongForm:zn,setLongFormContentDurationThreshold:Wn,setRichBufferThreshold:Xn,getProtectionController:er,attachProtectionController:tr,setProtectionData:nr,enableManifestDateHeaderTimeSource:Fn,displayCaptionsOnTop:rr,attachVideoContainer:sr,attachTTMLRenderingDiv:fr,getCurrentTextTrackIndex:fn,reset:hr},nt(),h}Object.defineProperty(n,"__esModule",{value:!0});var i=e(48),s=r(i),o=e(67),u=r(o),a=e(70),f=r(a),l=e(65),c=r(l),h=e(50),p=r(h),d=e(155),v=r(d),m=e(152),g=r(m),y=e(148),b=r(y),w=e(145),E=r(w),S=e(69),x=r(S),T=e(157),N=r(T),C=e(143),k=r(C),L=e(101),A=r(L),O=e(98),M=r(O),_=e(99),D=r(_),P=e(100),H=r(P),B=e(59),j=r(B),F=e(71),I=r(F),q=e(130),R=r(q),U=e(102),z=r(U),W=e(66),X=r(W),V=e(60),$=r(V),J=e(8),K=r(J),Q=e(9),G=r(Q),Y=e(13),Z=r(Y),et=e(53),tt=r(et),nt=e(10),rt=r(nt),it=e(11),st=e(15),ot=r(st),ut=e(22),at=r(ut),ft=e(17),lt=r(ft),ct=e(38),ht=r(ct);pt.__dashjs_factory_name="MediaPlayer";var dt=rt["default"].getClassFactory(pt);dt.events=tt["default"],n["default"]=dt,t.exports=n["default"]},{10:10,100:100,101:101,102:102,11:11,13:13,130:130,143:143,145:145,148:148,15:15,152:152,155:155,157:157,17:17,22:22,38:38,48:48,50:50,53:53,59:59,60:60,65:65,66:66,67:67,69:69,70:70,71:71,8:8,9:9,98:98,99:99}],53:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,n,r){var i=!0;e:while(i){var s=t,o=n,u=r;i=!1,s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,o);if(a===undefined){var f=Object.getPrototypeOf(s);if(f===null)return undefined;t=f,n=o,r=u,i=!0,a=f=undefined;continue e}if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(u)}},u=e(14),a=i(u),f=function(e){function t(){s(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astInFuture",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.STREAM_INITIALIZED="streamInitialized",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated"}return o(t,e),t}(a["default"]),l=new f;n["default"]=l,t.exports=n["default"]},{14:14}],54:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){function t(t,n,r){if(!t||t.nodeName!=="VIDEO")return null;if(t._dashjs_player)return t._dashjs_player;var i,o=t.id||t.name||"video element";n=n||[].slice.call(t.querySelectorAll("source")).filter(function(t){return t.type==e})[0];if(!n&&t.src)n=document.createElement("source"),n.src=t.src;else if(!n&&!t.src)return null;return r=r||{},i=(0,s["default"])(r).create(),i.initialize(t,n.src,t.autoplay),i.getDebug().log("Converted "+o+" to dash.js player and added content: "+n.src),t._dashjs_player=i,i}function n(n,i){var s=[];n=n||"[data-dashjs-player]",i=i||document;var o=i.querySelectorAll(n);for(var u=0;u<o.length;u++){var a=t(o[u],null);s.push(a)}var f=i.querySelectorAll('source[type="'+e+'"]');for(var u=0;u<f.length;u++){var l=r(f[u]),a=t(l,null);s.push(a)}return s}function r(e){var t=!0;e:while(t){var n=e;t=!1;if(n.nodeName.toLowerCase()==="video")return n;e=n.parentNode,t=!0;continue e}}var e="application/dash+xml";return{create:t,createAll:n}}function f(){window.removeEventListener("load",f),u.createAll()}function l(){window.dashjs&&(window.clearInterval(a),u.createAll())}Object.defineProperty(n,"__esModule",{value:!0});var i=e(52),s=r(i),u=o(),a=undefined,c=typeof window!="undefined"&&window&&window.dashjs&&window.dashjs.skipAutoCreate;!c&&typeof window!="undefined"&&window&&window.addEventListener&&(window.document.readyState==="complete"?window.dashjs?u.createAll():a=window.setInterval(l,500):window.addEventListener("load",f)),n["default"]=u,t.exports=n["default"]},{52:52}],55:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function q(e){function X(){S=[],T=!1,C=!1,L=null,O={},_=!1,P=!1,j=(0,s["default"])(n).getInstance(),F=(0,E["default"])(n).getInstance(),z=(0,v["default"])(n).getInstance(),q=(0,f["default"])(n).getInstance(),R=(0,p["default"])(n).create(),W=(0,I["default"])(n).getInstance(),i.on(D["default"].BUFFERING_COMPLETED,bt,w),i.on(D["default"].DATA_UPDATE_COMPLETED,wt,w)}function V(e,t){L=e,B=t,B&&(i.on(D["default"].KEY_ERROR,ut,w),i.on(D["default"].SERVER_CERTIFICATE_UPDATED,ut,w),i.on(D["default"].LICENSE_REQUEST_COMPLETE,ut,w),i.on(D["default"].KEY_SYSTEM_SELECTED,ut,w),i.on(D["default"].KEY_SESSION_CREATED,ut,w))}function $(e){T||(i.on(D["default"].CURRENT_TRACK_CHANGED,lt,w),vt(e),T=!0)}function J(){var e=S.length;for(var t=0;t<e;t++)S[t].reset();S=[],T=!1,C=!1,it(),i.off(D["default"].CURRENT_TRACK_CHANGED,lt,w)}function K(){F&&(F.pause(),F=null),R&&(R.reset(),R=null),J(),q=null,z=null,a=null,o=null,l=null,h=null,r=null,d=null,_=!1,P=!1,O={},i.off(D["default"].DATA_UPDATE_COMPLETED,wt,w),i.off(D["default"].BUFFERING_COMPLETED,bt,w),i.off(D["default"].KEY_ERROR,ut,w),i.off(D["default"].SERVER_CERTIFICATE_UPDATED,ut,w),i.off(D["default"].LICENSE_REQUEST_COMPLETE,ut,w),i.off(D["default"].KEY_SYSTEM_SELECTED,ut,w),i.off(D["default"].KEY_SESSION_CREATED,ut,w)}function Q(){return L.duration}function G(){return L.start}function Y(){return L.index}function Z(){return L.id}function et(){return L}function tt(e){return gt(e)!==null}function nt(e){var t=gt(e);return z.getBitrateList(t)}function rt(){U&&U.start()}function it(){U&&U.clear()}function st(){return T}function ot(){return P}function ut(e){e.error&&(d.mediaKeySessionError(e.error),r(e.error),K())}function at(e){return e.type==="text"?e.mimeType:e.type}function ft(e,t,i){var s=e.type,u,a;if(s==="muxed"&&e)return a="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",r(a),d.manifestError(a,"multiplexedrep",o.getValue()),!1;if(s==="text"||s==="fragmentedText"||s==="embeddedText")return!0;u=e.codec,r(s+" codec: "+u);if(!!e.contentProtection&&!h.supportsEncryptedMedia())d.capabilityError("encryptedmedia");else if(!h.supportsCodec((0,g["default"])(n).getInstance().getElement(),u))return a=s+"Codec ("+u+") is not supported.",d.manifestError(a,"codec",i),r(a),!1;return!0}function lt(e){if(e.newMediaInfo.streamInfo.id!==L.id)return;var t=Et(e.oldMediaInfo);if(!t)return;var n=F.getTime(),r=t.getBuffer(),i=e.newMediaInfo,s=o.getValue(),u=S.indexOf(t),a=t.getMediaSource();i.type!=="fragmentedText"?(t.reset(!0),pt(i,s,a,{buffer:r,replaceIdx:u,currentTime:n}),F.seek(F.getTime())):t.updateMediaInfo(s,i)}function ct(e){var t=e.split("/")[1];return"webm"===t.toLowerCase()}function ht(e){var t=ct(e.mimeType)?(0,k["default"])(n).getInstance():(0,N["default"])(n).getInstance();t.setConfig({baseURLController:y,metricsModel:(0,b["default"])(n).getInstance()}),t.initialize();var r=(0,x["default"])(n).create({segmentBaseLoader:t,timelineConverter:m,dashMetrics:(0,A["default"])(n).getInstance(),metricsModel:(0,b["default"])(n).getInstance(),baseURLController:y});return r}function pt(e,t,r,i){var s=(0,u["default"])(n).create({indexHandler:ht(e),timelineConverter:m,adapter:l,manifestModel:o}),a=l.getAllMediaInfoForType(t,L,e.type);s.initialize(at(e),R,r,w,U),z.updateTopQualityIndex(e),i?(s.setBuffer(i.buffer),s.getIndexHandler().setCurrentTime(i.currentTime),S[i.replaceIdx]=s):S.push(s);if(e.type==="text"||e.type==="fragmentedText"){var f;for(var c=0;c<a.length;c++)a[c].index===e.index&&(f=c),s.updateMediaInfo(t,a[c]);e.type==="fragmentedText"&&s.updateMediaInfo(t,a[f])}else s.updateMediaInfo(t,e)}function dt(e,t){var n=o.getValue(),i=l.getAllMediaInfoForType(n,L,e),s=null,u;if(!i||i.length===0){r("No "+e+" data.");return}for(var a=0,f=i.length;a<f;a++){s=i[a];if(e==="embeddedText")W.addEmbeddedTrack(s);else{if(!ft(s,t,n))continue;q.isMultiTrackSupportedByType(s.type)&&q.addTrack(s,L)}}if(e==="embeddedText"||q.getTracksFor(e,L).length===0)return;q.checkInitialMediaSettingsForType(e,L),u=q.getCurrentTrackFor(e,L),pt(u,n,t)}function vt(e){var t=o.getValue(),i;U=(0,c["default"])(n).getInstance(),U.initialize(),U.setConfig({manifestModel:o,manifestUpdater:a}),i=l.getEventsFor(t,L),U.addInlineEvents(i),_=!0,dt("video",e),dt("audio",e),dt("text",e),dt("fragmentedText",e),dt("embeddedText",e),dt("muxed",e),yt(),C=!0,_=!1;if(S.length===0){var s="No streams to play.";d.manifestError(s,"nostreams",t),r(s)}else j.initialize(m,S[0]),mt()}function mt(){var e=S.length,n=!!O.audio||!!O.video,r=n?new Error(t,"Data update failed",null):null,s=0;for(s;s<e;s++)if(S[s].isUpdating()||_)return;P=!0;if(!C)return;B&&B.initialize(o.getValue(),gt("audio"),gt("video")),i.trigger(D["default"].STREAM_INITIALIZED,{streamInfo:L,error:r})}function gt(e){var t=S.length,n=null;for(var r=0;r<t;r++){n=S[r];if(n.getType()===e)return n.getMediaInfo()}return null}function yt(){for(var e=0,t=S.length;e<t;e++)S[e].createBuffer()}function bt(e){if(e.streamInfo!==L)return;var t=St(),n=t.length,r=0;for(r;r<n;r++)if(!t[r].isBufferingCompleted())return;i.trigger(D["default"].STREAM_BUFFERING_COMPLETED,{streamInfo:L})}function wt(e){var t=e.sender.getStreamProcessor();if(t.getStreamInfo()!==L)return;O[t.getType()]=e.error,mt()}function Et(e){if(!e)return!1;var t=St();return t.filter(function(t){return t.getType()===e.type})[0]}function St(){var e=S.length,t=[],n=0,r,i;for(n;n<e;n++)i=S[n],r=i.getType(),(r==="audio"||r==="video"||r==="fragmentedText")&&t.push(i);return t}function xt(e){r("Manifest updated... updating data system wide.");var t=o.getValue();T=!1,_=!0,P=!1,L=e;if(U){var n=l.getEventsFor(t,L);U.addInlineEvents(n)}for(var i=0,s=S.length;i<s;i++){var u=S[i],a=l.getMediaInfoForType(t,L,u.getType());z.updateTopQualityIndex(a),u.updateMediaInfo(t,a)}_=!1,mt()}var t=1,n=this.context,r=(0,H["default"])(n).getInstance().log,i=(0,M["default"])(n).getInstance(),o=e.manifestModel,a=e.manifestUpdater,l=e.adapter,h=e.capabilities,d=e.errHandler,m=e.timelineConverter,y=e.baseURLController,w=undefined,S=undefined,T=undefined,C=undefined,L=undefined,O=undefined,_=undefined,P=undefined,B=undefined,j=undefined,F=undefined,q=undefined,R=undefined,U=undefined,z=undefined,W=undefined;return w={initialize:V,activate:$,deactivate:J,getDuration:Q,getStartTime:G,getStreamIndex:Y,getId:Z,getStreamInfo:et,hasMedia:tt,getBitrateListFor:nt,startEventController:rt,isActivated:st,isInitialized:ot,updateData:xt,reset:K,getProcessors:St},X(),w}Object.defineProperty(n,"__esModule",{value:!0});var i=e(155),s=r(i),o=e(56),u=r(o),a=e(65),f=r(a),l=e(63),c=r(l),h=e(64),p=r(h),d=e(59),v=r(d),m=e(102),g=r(m),y=e(100),b=r(y),w=e(67),E=r(w),S=e(16),x=r(S),T=e(18),N=r(T),C=e(19),k=r(C),L=e(17),A=r(L),O=e(9),M=r(O),_=e(13),D=r(_),P=e(8),
H=r(P),B=e(10),j=r(B),F=e(143),I=r(F);q.__dashjs_factory_name="Stream",n["default"]=j["default"].getClassFactory(q),t.exports=n["default"]},{10:10,100:100,102:102,13:13,143:143,155:155,16:16,17:17,18:18,19:19,56:56,59:59,63:63,64:64,65:65,67:67,8:8,9:9}],56:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function F(e){function B(){m=[]}function j(e,u,a,f,c){d=e,y=f,w=c,O=u,l=y.getStreamInfo().manifestInfo.isDynamic,n.initialize(this),S=(0,s["default"])(t).getInstance(),S.initialize(d,this),T=lt(e),C=(0,v["default"])(t).create({metricsModel:(0,b["default"])(t).getInstance(),manifestModel:o,adapter:i,dashMetrics:(0,M["default"])(t).getInstance(),dashManifestModel:(0,A["default"])(t).getInstance(),timelineConverter:r,mediaPlayerModel:(0,g["default"])(t).getInstance()}),T.initialize(d,a,this),C.initialize(d,this),_=(0,E["default"])(t).create({metricsModel:(0,b["default"])(t).getInstance(),errHandler:(0,H["default"])(t).getInstance(),requestModifier:(0,x["default"])(t).getInstance()}),P=C.getFragmentModel(),P.setLoader(_),L=(0,D["default"])(t).create(),L.initialize(this)}function F(e){n.reset(),T&&(T.reset(e),T=null),C&&(C.reset(),C=null),L&&(L.reset(),L=null),O=null,_=null,w=null,y=null,l=null,h=null,m=[],d=null}function I(){return L.isUpdating()}function q(){return d}function R(){return S}function U(){return L}function z(){return _}function W(){return n}function X(){return O}function V(){return T.getBuffer()}function $(e){T.setBuffer(e)}function J(){return T}function K(){return P}function Q(){return y?y.getStreamInfo():null}function G(e,t){t!==h&&(!t||!h||t.type===h.type)&&(h=t),m.indexOf(t)===-1&&m.push(t),i.updateData(e,this)}function Y(){return m}function Z(){return h}function et(){return T.getMediaSource()}function tt(){return C}function nt(){return w}function rt(){C.start()}function it(){C.stop()}function st(){return i.getCurrentRepresentationInfo(o.getValue(),L)}function ot(e){return i.getRepresentationInfoForQuality(o.getValue(),L,e)}function ut(){return T.getIsBufferingCompleted()}function at(){return T.getBuffer()||T.createBuffer(h)}function ft(){return l}function lt(e){var n=null;return e==="video"||e==="audio"?n=(0,u["default"])(t).create({metricsModel:(0,b["default"])(t).getInstance(),manifestModel:o,sourceBufferController:(0,N["default"])(t).getInstance(),errHandler:(0,H["default"])(t).getInstance(),streamController:(0,f["default"])(t).getInstance(),mediaController:(0,c["default"])(t).getInstance(),adapter:i,textController:(0,k["default"])(t).getInstance()}):n=(0,p["default"])(t).create({type:e,metricsModel:(0,b["default"])(t).getInstance(),manifestModel:o,sourceBufferController:(0,N["default"])(t).getInstance(),errHandler:(0,H["default"])(t).getInstance(),streamController:(0,f["default"])(t).getInstance(),mediaController:(0,c["default"])(t).getInstance(),adapter:i,textController:(0,k["default"])(t).getInstance()}),n}var t=this.context,n=e.indexHandler,r=e.timelineConverter,i=e.adapter,o=e.manifestModel,a=undefined,l=undefined,h=undefined,d=undefined,m=undefined,y=undefined,w=undefined,S=undefined,T=undefined,C=undefined,L=undefined,O=undefined,_=undefined,P=undefined;return a={initialize:j,isUpdating:I,getType:q,getBufferController:J,getABRController:R,getFragmentLoader:z,getFragmentModel:K,getScheduleController:tt,getEventController:nt,getFragmentController:X,getRepresentationController:U,getIndexHandler:W,getCurrentRepresentationInfo:st,getRepresentationInfoForQuality:ot,isBufferingCompleted:ut,createBuffer:at,getStreamInfo:Q,updateMediaInfo:G,getMediaInfoArr:Y,getMediaInfo:Z,getMediaSource:et,getBuffer:V,setBuffer:$,start:rt,stop:it,isDynamic:ft,reset:F},B(),a}Object.defineProperty(n,"__esModule",{value:!0});var i=e(59),s=r(i),o=e(62),u=r(o),a=e(70),f=r(a),l=e(65),c=r(l),h=e(142),p=r(h),d=e(68),v=r(d),m=e(99),g=r(m),y=e(100),b=r(y),w=e(49),E=r(w),S=e(157),x=r(S),T=e(69),N=r(T),C=e(143),k=r(C),L=e(22),A=r(L),O=e(17),M=r(O),_=e(21),D=r(_),P=e(152),H=r(P),B=e(10),j=r(B);F.__dashjs_factory_name="StreamProcessor",n["default"]=j["default"].getClassFactory(F),t.exports=n["default"]},{10:10,100:100,142:142,143:143,152:152,157:157,17:17,21:21,22:22,49:49,59:59,62:62,65:65,68:68,69:69,70:70,99:99}],57:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){function v(){var e;l=[],h=[],p=[],d=(e={},i(e,s.HTTPRequest.MPD_TYPE,c["default"].DOWNLOAD_ERROR_ID_MANIFEST),i(e,s.HTTPRequest.XLINK_EXPANSION_TYPE,c["default"].DOWNLOAD_ERROR_ID_XLINK),i(e,s.HTTPRequest.INIT_SEGMENT_TYPE,c["default"].DOWNLOAD_ERROR_ID_INITIALIZATION),i(e,s.HTTPRequest.MEDIA_SEGMENT_TYPE,c["default"].DOWNLOAD_ERROR_ID_CONTENT),i(e,s.HTTPRequest.INDEX_SEGMENT_TYPE,c["default"].DOWNLOAD_ERROR_ID_CONTENT),i(e,s.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,c["default"].DOWNLOAD_ERROR_ID_CONTENT),i(e,s.HTTPRequest.OTHER_TYPE,c["default"].DOWNLOAD_ERROR_ID_CONTENT),e)}function m(e,t){var i=e.request,s=new XMLHttpRequest,a=[],f=!0,c=!0,v=new Date,g=v,y=0,b=function(t){c=!1,i.requestStartDate=v,i.requestEndDate=new Date,i.firstByteDate=i.firstByteDate||v,i.checkExistenceOnly||o.addHttpRequest(i.mediaType,null,i.type,i.url,s.responseURL||null,i.serviceLocation||null,i.range||null,i.requestStartDate,i.firstByteDate,i.requestEndDate,s.status,i.duration,s.getAllResponseHeaders(),t?a:null)},w=function(){if(l.indexOf(s)===-1)return;l.splice(l.indexOf(s),1),c&&(b(!1),t>0?(t--,p.push(setTimeout(function(){m(e,t)},n.getRetryIntervalForType(i.type)))):(r.downloadError(d[i.type],i.url,i),e.error&&e.error(i,"error",s.statusText),e.complete&&e.complete(i,s.statusText)))},E=function(n){var r=new Date;if(f){f=!1;if(!n.lengthComputable||n.lengthComputable&&n.total!==n.loaded)i.firstByteDate=r}n.lengthComputable&&(i.bytesLoaded=n.loaded,i.bytesTotal=n.total),a.push({s:g,d:r.getTime()-g.getTime(),b:[n.loaded?n.loaded-y:0]}),g=r,y=n.loaded,e.progress&&e.progress()},S=function(){s.status>=200&&s.status<=299&&(b(!0),e.success&&e.success(s.response,s.statusText,s),e.complete&&e.complete(i,s.statusText))};try{var x=u.modifyRequestURL(i.url),T=i.checkExistenceOnly?"HEAD":"GET";s.open(T,x,!0),i.responseType&&(s.responseType=i.responseType),i.range&&s.setRequestHeader("Range","bytes="+i.range),i.requestStartDate||(i.requestStartDate=v),s=u.modifyRequestHeader(s),s.withCredentials=n.getXHRWithCredentialsForType(i.type),s.onload=S,s.onloadend=w,s.onerror=w,s.onprogress=E;var N=(new Date).getTime();isNaN(i.delayLoadingTime)||N>=i.delayLoadingTime?(l.push(s),s.send()):function(){var e={xhr:s};h.push(e),e.delayTimeout=setTimeout(function(){if(h.indexOf(e)===-1)return;h.splice(h.indexOf(e),1);try{l.push(e.xhr),e.xhr.send()}catch(t){e.xhr.onerror()}},i.delayLoadingTime-N)}()}catch(C){s.onerror()}}function g(e){e.request&&m(e,n.getRetryAttemptsForType(e.request.type))}function y(){p.forEach(function(e){return clearTimeout(e)}),p=[],h.forEach(function(e){return clearTimeout(e.delayTimeout)}),h=[],l.forEach(function(e){e.onloadend=e.onerror=e.onprogress=undefined,e.abort()}),l=[]}var t=this.context,n=(0,f["default"])(t).getInstance(),r=e.errHandler,o=e.metricsModel,u=e.requestModifier,a=undefined,l=undefined,h=undefined,p=undefined,d=undefined;return a={load:g,abort:y},v(),a}Object.defineProperty(n,"__esModule",{value:!0});var s=e(182),o=e(10),u=r(o),a=e(99),f=r(a),l=e(152),c=r(l);h.__dashjs_factory_name="XHRLoader";var p=u["default"].getClassFactory(h);n["default"]=p,t.exports=n["default"]},{10:10,152:152,182:182,99:99}],58:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function y(e){function f(e,n,o){var u=function(i,u){n.resolved=!0,n.resolvedContent=i?i:null,r.trigger(d["default"].XLINK_ELEMENT_LOADED,{element:n,resolveObject:o,error:i||u?null:new s["default"](g,"Failed loading Xlink element: "+e)})};if(e===t)u(null,!0);else{var f=new l["default"](e,a.HTTPRequest.XLINK_TYPE);i.load({request:f,success:function(t){u(t)},error:function(){u(null)}})}}function c(){i&&(i.abort(),i=null)}var t="urn:mpeg:dash:resolve-to-zero:2013",n=this.context,r=(0,h["default"])(n).getInstance(),i=(0,u["default"])(n).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier}),o=undefined;return o={load:f,reset:c},o}Object.defineProperty(n,"__esModule",{value:!0});var i=e(165),s=r(i),o=e(57),u=r(o),a=e(182),f=e(173),l=r(f),c=e(9),h=r(c),p=e(13),d=r(p),v=e(10),m=r(v),g=1;y.__dashjs_factory_name="XlinkLoader";var b=m["default"].getClassFactory(y);b.XLINK_LOADER_ERROR_LOADING_FAILURE=g,n["default"]=b,t.exports=n["default"]},{10:10,13:13,165:165,173:173,182:182,57:57,9:9}],59:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function X(){function et(){l={video:!0,audio:!0},h={},d={},m={},y={},b={},S={},w={},K={},C=!1,L=!1,O===undefined&&(O=!1),$=(0,u["default"])(e).getInstance(),V=(0,f["default"])(e).getInstance(),B=(0,E["default"])(e).getInstance(),F=(0,x["default"])(e).getInstance(),X=(0,N["default"])(e).getInstance(),G=(0,H["default"])(e).getInstance(),Y=(0,j["default"])(e).getInstance(),Z=(new Date).getTime()/1e3}function tt(t,n){K[t]=(0,M["default"])(e).create(),w[t]=n,S[t]=S[t]||{},S[t].state=R,r.on(v["default"].LOADING_PROGRESS,Ut,this),t=="video"&&(r.on(g["default"].QUALITY_CHANGE_RENDERED,it,this),Q=(0,D["default"])(e).create(),qt())}function nt(){r.off(v["default"].LOADING_PROGRESS,Ut,this),r.off(g["default"].QUALITY_CHANGE_RENDERED,it,this),J=undefined,Q=undefined,clearTimeout(T),T=null,et()}function rt(e){if(!e)return;e.abrRulesCollection&&(o=e.abrRulesCollection),e.streamController&&(a=e.streamController)}function it(e){e.mediaType==="video"&&(J=e.newQuality,Q.push(J,X.getPlaybackQuality()))}function st(e,t){var n;return h[t]=h[t]||{},h[t].hasOwnProperty(e)||(h[t][e]=0),n=jt(h[t][e],e),n=Ft(n,e,h[t][e]),n=Rt(n,e),n}function ot(e){var t=$.getSavedBitrateSettings(e);if(!m.hasOwnProperty(e))if(y.hasOwnProperty(e)){var n=B.getValue(),r=F.getAdaptationForType(n,0,e).Representation;if(Array.isArray(r)){var i=Math.max(Math.round(r.length*y[e])-1,0);m[e]=r[i].bandwidth}else m[e]=0}else isNaN(t)?m[e]=e==="video"?U:z:m[e]=t;return m[e]}function ut(e,t){m[e]=t}function at(e){return y.hasOwnProperty(e)?y[e]:null}function ft(e,t){y[e]=t}function lt(e){return m.hasOwnProperty("max")&&m.max.hasOwnProperty(e)?m.max[e]:NaN}function ct(e){return m.hasOwnProperty("min")&&m.min.hasOwnProperty(e)?m.min[e]:NaN}function ht(e,t){m.max=m.max||{},m.max[e]=t}function pt(e,t){m.min=m.min||{},m.min[e]=t}function dt(e){return y.hasOwnProperty("max")&&y.max.hasOwnProperty(e)?y.max[e]:1}function vt(e,t){y.max=y.max||{},y.max[e]=t}function mt(e){return l[e]}function gt(e,t){l[e]=t}function yt(){return C}function bt(e){C=e}function wt(){return L}function Et(e){L=e}function St(r){var i=r.getType(),s=r.getStreamInfo(),u=s.id,a=Pt(i,s),f=(0,k["default"])(e).create({streamProcessor:r,currentValue:a,playbackIndex:J,switchHistory:K[i],droppedFramesHistory:Q,hasRichBuffer:At(i)});Q&&Q.push(J,X.getPlaybackQuality());if(mt(i)){var l=st(i,u),c=o.getMaxQuality(f),h=c.value;h>l&&(h=l),K[i].push({oldValue:a,newValue:h});if(h>A["default"].NO_CHANGE&&h!=a)(S[i].state===R||h>a)&&Tt(i,s,a,h,l,c.reason);else if(t.getLogToBrowserConsole()){var p=Y.getCurrentBufferLevel(G.getReadOnlyMetricsFor(i));n("AbrController ("+i+") stay on "+a+"/"+l+" (buffer: "+p+")")}}}function xt(e,t,n,r){var i=t.id,s=Pt(e,t),o=n!==null&&!isNaN(n)&&n%1===0;if(!o)throw new Error("argument is not an integer");var u=st(e,i);n!==s&&n>=0&&n<=u&&Tt(e,t,s,n,u,r)}function Tt(e,i,s,o,u,a){if(t.getLogToBrowserConsole()){var f=Y.getCurrentBufferLevel(G.getReadOnlyMetricsFor(e));n("AbrController ("+e+") switch from "+s+" to "+o+"/"+u+" (buffer: "+f+")\n"+JSON.stringify(a))}Ht(e,i.id,o),r.trigger(v["default"].QUALITY_CHANGE_REQUESTED,{mediaType:e,streamInfo:i,oldQuality:s,newQuality:o,reason:a})}function Nt(e,t){S[e].state=t}function Ct(e){return S[e].state}function kt(e,t,n){if(n&&w[e.type].getCurrentRepresentationInfo()&&w[e.type].getCurrentRepresentationInfo().fragmentDuration){n/=1e3;var r=w[e.type].getCurrentRepresentationInfo().fragmentDuration;if(n>r)return 0;var i=n/r;t*=1-i}var s=Lt(e);if(!s||s.length===0)return W;for(var o=s.length-1;o>=0;o--){var u=s[o];if(t*1e3>=u.bitrate)return o}return 0}function Lt(e){if(!e||!e.bitrateList)return null;var t=e.bitrateList,n=e.type,r=[],i;for(var o=0,u=t.length;o<u;o++)i=new s["default"],i.mediaType=n,i.qualityIndex=o,i.bitrate=t[o].bandwidth,i.width=t[o].width,i.height=t[o].height,r.push(i);return r}function At(e){var t=G.getReadOnlyMetricsFor(e),n=Y.getCurrentBufferLevel(t),r=t.BufferState.length>0?t.BufferState[t.BufferState.length-1]:null,i=!1;return r&&n>r.target&&(i=n>r.target+V.getRichBufferThreshold()),i}function Ot(e,t){b[e]=t}function Mt(e){return b[e]}function _t(e){var t=e.type,n=e.streamInfo.id,r=e.representationCount-1;return Bt(t,n,r),r}function Dt(e){var t,n=e.id,r=Pt("audio",e),i=Pt("video",e);return t=r===st("audio",n)&&i===st("video",n),t}function Pt(e,t){var n=t.id,r;return d[n]=d[n]||{},d[n].hasOwnProperty(e)||(d[n][e]=W),r=d[n][e],r}function Ht(e,t,n){d[t]=d[t]||{},d[t][e]=n}function Bt(e,t,n){h[t]=h[t]||{},h[t][e]=n}function jt(e,t){var n=e;if(!w[t])return n;var r=ct(t);if(r){var i=kt(w[t].getMediaInfo(),r);n=Math.max(e,i)}var s=lt(t);if(s){var o=kt(w[t].getMediaInfo(),s);n=Math.min(n,o)}return n}function Ft(e,t,n){var r=dt(t);return isNaN(r)||r>=1||r<0?e:Math.min(e,Math.round(n*r))}function It(e){O=e}function qt(){var e=X.getElement();if(e!==undefined){var t=L&&window.hasOwnProperty("devicePixelRatio"),n=t?window.devicePixelRatio:1;_=e.clientWidth*n,P=e.clientHeight*n}}function Rt(e,t){if(t!=="video"||!C||!w[t])return e;O||qt();var n=B.getValue(),r=F.getAdaptationForType(n,0,t).Representation,i=e;if(_>0&&P>0){while(i>0&&r[i]&&_<r[i].width&&_-r[i-1].width<r[i].width-_)i-=1;r.length-2>=i&&r[i].width===r[i+1].width&&(i=Math.min(e,i+1))}return i}function Ut(t){var n=t.request.mediaType;if(mt(n)){var i=w[n].getScheduleController();if(!i)return;var s=(0,k["default"])(e).create({streamProcessor:w[n],currentRequest:t.request,currentValue:Pt(n,a.getActiveStreamInfo()),hasRichBuffer:At(n)}),u=o.shouldAbandonFragment(s);if(u.value>A["default"].NO_CHANGE){var f=i.getFragmentModel(),l=f.getRequests({state:c["default"].FRAGMENT_MODEL_LOADING,index:t.request.index})[0];l&&(f.abortRequests(),Nt(n,q),K[n].reset(),K[n].push({oldValue:Pt(n,a.getActiveStreamInfo()),newValue:u.value,confidence:1,reason:u.reason}),xt(n,a.getActiveStreamInfo(),u.value,u.reason),r.trigger(v["default"].FRAGMENT_LOADING_ABANDONED,{streamProcessor:w[n],request:l,mediaType:n}),clearTimeout(T),T=setTimeout(function(){Nt(n,R),T=null},V.getAbandonLoadTimeout()))}}}var e=this.context,t=(0,I["default"])(e).getInstance(),n=t.log,r=(0,p["default"])(e).getInstance(),i=undefined,o=undefined,a=undefined,l=undefined,h=undefined,d=undefined,m=undefined,y=undefined,b=undefined,w=undefined,S=undefined,T=undefined,C=undefined,L=undefined,O=undefined,_=undefined,P=undefined,B=undefined,F=undefined,X=undefined,V=undefined,$=undefined,J=undefined,K=undefined,Q=undefined,G=undefined,Y=undefined,Z=undefined;return i={isPlayingAtTopQuality:Dt,updateTopQualityIndex:_t,getAverageThroughput:Mt,getBitrateList:Lt,getQualityForBitrate:kt,getMaxAllowedBitrateFor:lt,getMinAllowedBitrateFor:ct,setMaxAllowedBitrateFor:ht,setMinAllowedBitrateFor:pt,getMaxAllowedRepresentationRatioFor:dt,setMaxAllowedRepresentationRatioFor:vt,getInitialBitrateFor:ot,setInitialBitrateFor:ut,getInitialRepresentationRatioFor:at,setInitialRepresentationRatioFor:ft,setAutoSwitchBitrateFor:gt,getAutoSwitchBitrateFor:mt,setLimitBitrateByPortal:bt,getLimitBitrateByPortal:yt,getUsePixelRatioInLimitBitrateByPortal:wt,setUsePixelRatioInLimitBitrateByPortal:Et,getQualityFor:Pt,getAbandonmentStateFor:Ct,setAbandonmentStateFor:Nt,setPlaybackQuality:xt,getPlaybackQuality:St,setAverageThroughput:Ot,getTopQualityIndexFor:st,setElementSize:qt,setWindowResizeEventCalled:It,initialize:tt,setConfig:rt,reset:nt},et(),i}Object.defineProperty(n,"__esModule",{value:!0});var i=e(163),s=r(i),o=e(150),u=r(o),a=e(99),f=r(a),l=e(97),c=r(l),h=e(9),p=r(h),d=e(13),v=r(d),m=e(53),g=r(m),y=e(10),b=r(y),w=e(98),E=r(w),S=e(22),x=r(S),T=e(102),N=r(T),C=e(127),k=r(C),L=e(128),A=r(L),O=e(129),M=r(O),_=e(126),D=r(_),P=e(100),H=r(P),B=e(17),j=r(B),F=e(8),I=r(F),q="abandonload",R="allowload",U=1e3,z=100,W=0;X.__dashjs_factory_name="AbrController";var V=b["default"].getSingletonFactory(X);V.ABANDON_LOAD=q,V.QUALITY_DEFAULT=W,n["default"]=V,t.exports=n["default"]},{10:10,100:100,102:102,126:126,127:127,128:128,129:129,13:13,150:150,163:163,17:17,22:22,53:53,8:8,9:9,97:97,98:98,99:99}],60:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function y(){function a(e){i.invalidateSelectedIndexes(e.entry)}function l(){i=(0,s["default"])(t).create(),o=(0,u["default"])(t).create(),n.on(g["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,a,e)}function h(e){e.baseURLTreeModel&&(i=e.baseURLTreeModel),e.baseURLSelector&&(o=e.baseURLSelector)}function p(e){i.update(e),o.chooseSelectorFromManifest(e)}function d(e){var t=i.getForPath(e),n=t.reduce(function(e,t){var n=o.select(t);return n?(r.isRelative(n.url)?e.url=r.resolve(n.url,e.url):(e.url=n.url,e.serviceLocation=n.serviceLocation),e):new c["default"]},new c["default"]);if(!r.isRelative(n.url))return n}function m(){i.reset(),o.reset()}function y(e){p(e)}var e=undefined,t=this.context,n=(0,v["default"])(t).getInstance(),r=(0,f["default"])(t).getInstance(),i=undefined,o=undefined;return e={reset:m,initialize:y,resolve:d,setConfig:h},l(),e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(96),s=r(i),o=e(146),u=r(o),a=e(159),f=r(a),l=e(41),c=r(l),h=e(10),p=r(h),d=e(9),v=r(d),m=e(13),g=r(m);y.__dashjs_factory_name="BaseURLController",n["default"]=p["default"].getSingletonFactory(y),t.exports=n["default"]},{10:10,13:13,146:146,159:159,41:41,9:9,96:96}],61:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){function s(e){return!t.length||!e||!e.length?!1:t.indexOf(e)!==-1}function o(e){if(t.indexOf(e)!==-1)return;t.push(e),n.trigger(r,{entry:e})}function a(e){e.error&&o(e.request.serviceLocation)}function f(){i&&n.on(i,a,this)}function l(){t=[]}var t=[],n=(0,u["default"])(this.context).getInstance(),r=e.updateEventName,i=e.loadFailedEventName;return f(),{add:o,contains:s,reset:l}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(9),u=r(o);a.__dashjs_factory_name="BlackListController",n["default"]=s["default"].getClassFactory(a),t.exports=n["default"]},{10:10,9:9}],62:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function M(e){function K(){S=c["default"].QUALITY_DEFAULT,x=!1,T=0,C=Number.POSITIVE_INFINITY,_=0,D=Number.POSITIVE_INFINITY,H=null,B=A,F=0,I=!1,q=!1,R=!1,U=!1}function Q(e,n,i){P=e,_t(n),W=i,$=(0,u["default"])(t).getInstance(),z=(0,p["default"])(t).getInstance(),X=(0,c["default"])(t).getInstance(),J=(0,k["default"])(t).getInstance(),V=W.getScheduleController(),S=X.getQualityFor(P,W.getStreamInfo()),r.on(b["default"].DATA_UPDATE_COMPLETED,wt,this),r.on(b["default"].INIT_FRAGMENT_LOADED,Z,this),r.on(b["default"].MEDIA_FRAGMENT_LOADED,tt,this),r.on(b["default"].QUALITY_CHANGE_REQUESTED,it,this),r.on(b["default"].STREAM_COMPLETED,Et,this),r.on(b["default"].PLAYBACK_PROGRESS,ot,this),r.on(b["default"].PLAYBACK_TIME_UPDATED,ot,this),r.on(b["default"].PLAYBACK_RATE_CHANGED,Tt,this),r.on(b["default"].PLAYBACK_SEEKING,st,this),r.on(b["default"].WALLCLOCK_TIME_UPDATED,xt,this),r.on(b["default"].CURRENT_TRACK_CHANGED,St,this,g["default"].EVENT_PRIORITY_HIGH),r.on(b["default"].SOURCEBUFFER_APPEND_COMPLETED,rt,this),r.on(b["default"].SOURCEBUFFER_REMOVE_COMPLETED,yt,this)}function G(e){if(!e||!M||!W)return null;var t=null;try{t=a.createSourceBuffer(M,e),t&&t.hasOwnProperty("initialize")&&t.initialize(P,this)}catch(n){l.mediaSourceError("Error creating "+P+" source buffer.")}return At(t),bt(W.getRepresentationInfoForQuality(S).MSETimeOffset),t}function Y(){return W&&h?W.getStreamInfo().id===h.getActiveStreamInfo().id:!1}function Z(e){if(e.fragmentModel!==W.getFragmentModel())return;n("Init fragment finished loading saving to",P+"'s init cache"),J.save(e.chunk),nt(e.chunk)}function et(e,t){var n=J.extract(e,t);n?nt(n):r.trigger(b["default"].INIT_REQUESTED,{sender:w})}function tt(e){if(e.fragmentModel!==W.getFragmentModel())return;var t=e.chunk,n=t.bytes,r=t.quality,i=W.getRepresentationInfoForQuality(r),u=o.getValue(),a=m.getEventsFor(u,i.mediaInfo,W),f=m.getEventsFor(u,i,W);if(a&&a.length>0||f&&f.length>0){var l=W.getFragmentModel().getRequests({state:s["default"].FRAGMENT_MODEL_EXECUTED,quality:r,index:t.index})[0],c=ht(n,l,a,f);W.getEventController().addInbandEvents(c)}t.bytes=pt(n),nt(t)}function nt(e){q=!0,j=e,a.append(H,e),e.mediaInfo.type==="video"&&r.trigger(b["default"].VIDEO_CHUNK_RECEIVED,{chunk:e})}function rt(e){if(H===e.buffer){if(e.error||!dt()){e.error.code===f["default"].QUOTA_EXCEEDED_ERROR_CODE&&(C=a.getTotalBufferedTime(H)*.8);if(e.error.code===f["default"].QUOTA_EXCEEDED_ERROR_CODE||!dt())r.trigger(b["default"].QUOTA_EXCEEDED,{sender:w,criticalBufferLevel:C}),gt(mt());return}j&&!isNaN(j.index)&&(_=Math.max(j.index,_),ft());var t=a.getAllRanges(H);if(t&&t.length>0)for(var i=0,s=t.length;i<s;i++)n("Buffered Range for type:",P,":",t.start(i)," - ",t.end(i));ot(),q=!1,j&&r.trigger(b["default"].BYTES_APPENDED,{sender:w,quality:j.quality,startTime:j.start,index:j.index,bufferedRanges:t})}}function it(e){if(S===e.newQuality||P!==e.mediaType||W.getStreamInfo().id!==e.streamInfo.id)return;bt(W.getRepresentationInfoForQuality(e.newQuality).MSETimeOffset),S=e.newQuality}function st(){D=Number.POSITIVE_INFINITY,x=!1,ot()}function ot(){ut(),at()}function ut(){z&&(T=a.getBufferLength(H,z.getTime()),r.trigger(b["default"].BUFFER_LEVEL_UPDATED,{sender:w,bufferLevel:T}),lt())}function at(){if(!Y())return;i.addBufferState(P,B,V.getBufferTarget()),i.addBufferLevel(P,new Date,T*1e3)}function ft(){var e=_>=D-1;e&&!x&&(x=!0,r.trigger(b["default"].BUFFERING_COMPLETED,{sender:w,streamInfo:W.getStreamInfo()}))}function lt(){T<O&&!x?ct(A):ct(L)}function ct(e){if(B===e||P==="fragmentedText"&&y.getAllTracksAreDisabled())return;B=e,at(),r.trigger(b["default"].BUFFER_LEVEL_STATE_CHANGED,{sender:w,state:e,mediaType:P,streamInfo:W.getStreamInfo()}),r.trigger(e===L?b["default"].BUFFER_LOADED:b["default"].BUFFER_EMPTY,{mediaType:P}),n(e===L?"Got enough buffer to start.":"Waiting for more buffer before starting playback.")}function ht(e,n,r,i){var s=Math.max(isNaN(n.startTime)?0:n.startTime,0),o=[],u=[];U=!1;var a=r.concat(i);for(var f=0,l=a.length;f<l;f++)o[a[f].schemeIdUri]=a[f];var c=(0,E["default"])(t).getInstance().parse(e),h=c.getBoxes("emsg");for(var f=0,l=h.length;f<l;f++){var p=m.getEvent(h[f],o,s);p&&u.push(p)}return u}function pt(e){if(!U)return e;var t=e.length,n=Math.pow(256,2),r=Math.pow(256,3),i=new Uint8Array(e.length),s=0,o=0;while(s<t){var u=String.fromCharCode(e[s+4],e[s+5],e[s+6],e[s+7]),a=e[s]*r+e[s+1]*n+e[s+2]*256+e[s+3]*1;if(u!="emsg")for(var f=s;f<s+a;f++)i[o]=e[f],o++;s+=a}return i.subarray(0,o)}function dt(){var e=a.getTotalBufferedTime(H);return e<C}function vt(){if(!H)return;if(P==="fragmentedText")return;var e=H.buffered.length?H.buffered.start(0):0,t=z.getTime()-e-$.getBufferToKeep();t>0&&(n("pruning buffer: "+t+" seconds."),R=!0,a.remove(H,0,Math.round(e+t),M))}function mt(e){if(!H)return null;var t=z.getTime(),n=W.getFragmentModel().getRequests({state:s["default"].FRAGMENT_MODEL_EXECUTED,time:t,threshold:e})[0],r=a.getBufferRange(H,t),i=n&&!isNaN(n.startTime)?n.startTime:Math.floor(t);return r===null&&H.buffered.length>0&&(i=H.buffered.end(H.buffered.length-1)),{start:H.buffered.start(0),end:i}}function gt(e){if(!e||!H)return;a.remove(H,e.start,e.end,M)}function yt(e){if(H!==e.buffer)return;R&&(R=!1),ut(),r.trigger(b["default"].BUFFER_CLEARED,{sender:w,from:e.from,to:e.to,hasEnoughSpaceToAppend:dt()})}function bt(e){H&&H.timestampOffset!==e&&!isNaN(e)&&(H.timestampOffset=e)}function wt(e){if(e.sender.getStreamProcessor()!==W||e.error)return;bt(e.currentRepresentation.MSETimeOffset)}function Et(e){if(e.fragmentModel!==W.getFragmentModel())return;D=e.request.index,ft()}function St(e){if(!H||e.newMediaInfo.type!==P||e.newMediaInfo.streamInfo.id!==W.getStreamInfo().id)return;d.getSwitchMode(P)===v["default"].TRACK_SWITCH_MODE_ALWAYS_REPLACE&&gt(mt(0))}function xt(){F++;var e=F*($.getWallclockTimeUpdateInterval()/1e3);e>=$.getBufferPruningInterval()&&!q&&(F=0,vt())}function Tt(){lt()}function Nt(){return P}function Ct(){return W}function kt(e){W=e}function Lt(){return H}function At(e){H=e}function Ot(){return T}function Mt(){return C}function _t(e){M=e}function Dt(){return M}function Pt(){return x}function Ht(e){r.off(b["default"].DATA_UPDATE_COMPLETED,wt,this),r.off(b["default"].QUALITY_CHANGE_REQUESTED,it,this),r.off(b["default"].INIT_FRAGMENT_LOADED,Z,this),r.off(b["default"].MEDIA_FRAGMENT_LOADED,tt,this),r.off(b["default"].STREAM_COMPLETED,Et,this),r.off(b["default"].CURRENT_TRACK_CHANGED,St,this),r.off(b["default"].PLAYBACK_PROGRESS,ot,this),r.off(b["default"].PLAYBACK_TIME_UPDATED,ot,this),r.off(b["default"].PLAYBACK_RATE_CHANGED,Tt,this),r.off(b["default"].PLAYBACK_SEEKING,st,this),r.off(b["default"].WALLCLOCK_TIME_UPDATED,xt,this),r.off(b["default"].SOURCEBUFFER_APPEND_COMPLETED,rt,this),r.off(b["default"].SOURCEBUFFER_REMOVE_COMPLETED,yt,this),C=Number.POSITIVE_INFINITY,B=A,S=c["default"].QUALITY_DEFAULT,D=Number.POSITIVE_INFINITY,_=0,j=null,I=!1,x=!1,q=!1,R=!1,z=null,W=null,X=null,V=null,e||(a.abort(M,H),a.removeSourceBuffer(M,H)),H=null}var t=this.context,n=(0,N["default"])(t).getInstance().log,r=(0,g["default"])(t).getInstance(),i=e.metricsModel,o=e.manifestModel,a=e.sourceBufferController,l=e.errHandler,h=e.streamController,d=e.mediaController,m=e.adapter,y=e.textController,w=undefined,S=undefined,x=undefined,T=undefined,C=undefined,M=undefined,_=undefined,D=undefined,P=undefined,H=undefined,B=undefined,j=undefined,F=undefined,I=undefined,q=undefined,R=undefined,U=undefined,z=undefined,W=undefined,X=undefined,V=undefined,$=undefined,J=undefined;return w={initialize:Q,createBuffer:G,getType:Nt,getStreamProcessor:Ct,setStreamProcessor:kt,getBuffer:Lt,setBuffer:At,getBufferLevel:Ot,getCriticalBufferLevel:Mt,setMediaSource:_t,getMediaSource:Dt,getIsBufferingCompleted:Pt,switchInitData:et,reset:Ht},K(),w}Object.defineProperty(n,"__esModule",{value:!0});var i=e(97),s=r(i),o=e(99),u=r(o),a=e(69),f=r(a),l=e(59),c=r(l),h=e(67),p=r(h),d=e(65),v=r(d),m=e(9),g=r(m),y=e(13),b=r(y),w=e(147),E=r(w),S=e(10),x=r(S),T=e(8),N=r(T),C=e(153),k=r(C),L="bufferLoaded",A="bufferStalled",O=.5;M.__dashjs_factory_name="BufferController";var _=x["default"].getClassFactory(M);_.BUFFER_LOADED=L,_.BUFFER_EMPTY=A,n["default"]=_,t.exports=n["default"]},{10:10,13:13,147:147,153:153,59:59,65:65,67:67,69:69,8:8,9:9,97:97,99:99}],63:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function h(){function b(){y=!1,u={},a={},l={},h=null,p=100,d=p/1e3,g=(0,s["default"])(n).getInstance()}function w(){h!==null&&y&&(clearInterval(h),h=null,y=!1)}function E(){r("Start Event Controller"),!y&&!isNaN(p)&&(y=!0,h=setInterval(N,p))}function S(e){u={};if(e)for(var t=0;t<e.length;t++){var n=e[t];u[n.id]=n,r("Add inline event with id "+n.id)}r("Added "+e.length+" inline events")}function x(e){for(var t=0;t<e.length;t++){var n=e[t];n.id in a?r("Repeated event with id "+n.id):(a[n.id]=n,r("Add inband event with id "+n.id))}}function T(){if(l){var e=g.getTime(),t=Object.keys(l);for(var n=0;n<t.length;n++){var i=t[n],s=l[i];s!==null&&(s.duration+s.presentationTime)/s.eventStream.timescale<e&&(r("Remove Event "+i+" at time "+e),s=null,delete l[i])}}}function N(){k(a),k(u),T()}function C(){var e=v.getValue(),t=e.url;e.hasOwnProperty("Location")&&(t=e.Location),r("Refresh manifest @ "+t),m.getManifestLoader().load(t)}function k(n){var s=g.getTime(),o;if(n){var u=Object.keys(n);for(var a=0;a<u.length;a++){var f=u[a],c=n[f];if(c!==undefined){o=c.presentationTime/c.eventStream.timescale;if(o===0||o<=s&&o+d>s)r("Start Event "+f+" at "+s),c.duration>0&&(l[f]=c),c.eventStream.schemeIdUri==e&&c.eventStream.value==t?C():i.trigger(c.eventStream.schemeIdUri,{event:c}),delete n[f]}}}}function L(e){if(!e)return;e.manifestModel&&(v=e.manifestModel),e.manifestUpdater&&(m=e.manifestUpdater)}function A(){w(),u=null,a=null,l=null,g=null}var e="urn:mpeg:dash:event:2012",t=1,n=this.context,r=(0,f["default"])(n).getInstance().log,i=(0,c["default"])(n).getInstance(),o=undefined,u=undefined,a=undefined,l=undefined,h=undefined,p=undefined,d=undefined,v=undefined,m=undefined,g=undefined,y=undefined;return o={initialize:b,addInlineEvents:S,addInbandEvents:x,clear:w,start:E,setConfig:L,reset:A},o}Object.defineProperty(n,"__esModule",{value:!0});var i=e(67),s=r(i),o=e(10),u=r(o),a=e(8),f=r(a),l=e(9),c=r(l);h.__dashjs_factory_name="EventController",n["default"]=u["default"].getSingletonFactory(h),t.exports=n["default"]},{10:10,67:67,8:8,9:9}],64:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function b(){function u(){s={},n.on(d["default"].FRAGMENT_LOADING_COMPLETED,m,r)}function f(t){var n=s[t];return n||(n=(0,a["default"])(e).create({metricsModel:(0,l["default"])(e).getInstance()}),s[t]=n),n}function c(e){return e&&e.type&&e.type===i.HTTPRequest.INIT_SEGMENT_TYPE}function p(){n.off(d["default"].FRAGMENT_LOADING_COMPLETED,m,this);for(var e in s)s[e].reset();s={}}function v(e,t,n){var r=new o["default"];return r.streamId=n,r.mediaInfo=t.mediaInfo,r.segmentType=t.type,r.start=t.startTime,r.duration=t.duration,r.end=r.start+r.duration,r.bytes=e,r.index=t.index,r.quality=t.quality,r.representationId=t.representationId,r}function m(e){if(s[e.request.mediaType]!==e.sender)return;var r=e.request,i=e.response,o=c(r),u=r.mediaInfo.streamInfo;if(!i||!u){t("No "+r.mediaType+" bytes to push or stream is inactive.");return}var a=v(i,r,u.id);n.trigger(o?d["default"].INIT_FRAGMENT_LOADED:d["default"].MEDIA_FRAGMENT_LOADED,{chunk:a,fragmentModel:e.sender})}var e=this.context,t=(0,y["default"])(e).getInstance().log,n=(0,h["default"])(e).getInstance(),r=undefined,s=undefined;return r={getModel:f,isInitializationRequest:c,reset:p},u(),r}Object.defineProperty(n,"__esModule",{value:!0});var i=e(182),s=e(164),o=r(s),u=e(97),a=r(u),f=e(100),l=r(f),c=e(9),h=r(c),p=e(13),d=r(p),v=e(10),m=r(v),g=e(8),y=r(g);b.__dashjs_factory_name="FragmentController",n["default"]=m["default"].getClassFactory(b),t.exports=n["default"]},{10:10,100:100,13:13,164:164,182:182,8:8,9:9,97:97}],65:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function E(){function x(){a={},z(),U()}function T(e,t){var n=M(e),r=C(e,t),s=[];if(e==="fragmentedText"){A(r[0]);return}n||(n=i.getSavedMediaSettings(e),O(e,n));if(!r||r.length===0)return;n&&r.forEach(function(e){R(n,e)&&s.push(e)}),s.length===0?A(W(r)):s.length>1?A(W(s)):A(s[0])}function N(e){var t=e?e.type:null,n=e?e.streamInfo.id:null,r=M(t);return!e||!B(t)?!1:(a[n]=a[n]||X(),a[n][t].list.indexOf(e)>=0?!1:(a[n][t].list.push(e),r&&R(r,e)&&!k(t,e.streamInfo)&&A(e),!0))}function C(e,t){if(!e||!t)return[];var n=t.id;return!a[n]||!a[n][e]?[]:a[n][e].list}function k(e,t){return!e||!t||t&&!a[t.id]?null:a[t.id][e].current}function L(e){var t=e.type,n=e.streamInfo.id;return a[n]&&a[n][t]&&j(a[n][t].current,e)}function A(e){if(!e)return;var t=e.type,r=e.streamInfo,o=r.id,u=k(t,r);if(!a[o]||!a[o][t]||u&&j(e,u))return;a[o][t].current=e,u&&n.trigger(s["default"].CURRENT_TRACK_CHANGED,{oldMediaInfo:u,newMediaInfo:e,switchMode:h[t]});var f=q(e);if(!f||!a[o][t].storeLastSettings)return;f.roles&&(f.role=f.roles[0],delete f.roles),f.accessibility&&(f.accessibility=f.accessibility[0]),f.audioChannelConfiguration&&(f.audioChannelConfiguration=f.audioChannelConfiguration[0]),i.setSavedMediaSettings(t,f)}function O(e,t){if(!e||!t)return;f[e]=t}function M(e){return e?f[e]:null}function _(e,n){var r=E.indexOf(n)!==-1;if(!r){t("track switch mode is not supported: "+n);return}h[e]=n}function D(e){return h[e]}function P(e){var n=S.indexOf(e)!==-1;if(!n){t("track selection mode is not supported: "+e);return}l=e}function H(){return l||w}function B(e){return e==="audio"||e==="video"||e==="text"||e==="fragmentedText"}function j(e,t){var n=e.id===t.id,r=e.viewpoint===t.viewpoint,i=e.lang===t.lang,s=e.roles.toString()===t.roles.toString(),o=e.accessibility.toString()===t.accessibility.toString(),u=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString();return n&&r&&i&&s&&o&&u}function F
(e){if(!e)return;e.errHandler&&(d=e.errHandler)}function I(){x(),r.reset()}function q(e){var t={lang:e.lang,viewpoint:e.viewpoint,roles:e.roles,accessibility:e.accessibility,audioChannelConfiguration:e.audioChannelConfiguration},n=t.lang||t.viewpoint||t.role&&t.role.length>0||t.accessibility&&t.accessibility.length>0||t.audioChannelConfiguration&&t.audioChannelConfiguration.length>0;return n?t:null}function R(e,t){var n=!e.lang||e.lang===t.lang,r=!e.viewpoint||e.viewpoint===t.viewpoint,i=!e.role||!!t.roles.filter(function(t){return t===e.role})[0],s=!e.accessibility||!!t.accessibility.filter(function(t){return t===e.accessibility})[0],o=!e.audioChannelConfiguration||!!t.audioChannelConfiguration.filter(function(t){return t===e.audioChannelConfiguration})[0];return n&&r&&i&&s&&o}function U(){h={audio:g,video:m}}function z(){f={audio:null,video:null}}function W(e){var n=H(),r=[],i=function(t){var n=0,r=[],i;return t.forEach(function(e){i=Math.max.apply(Math,e.bitrateList.map(function(e){return e.bandwidth})),i>n?(n=i,r=[e]):i===n&&r.push(e)}),r},s=function(t){var n=0,r=[],i;return t.forEach(function(e){i=e.representationCount,i>n?(n=i,r=[e]):i===n&&r.push(e)}),r};switch(n){case y:r=i(e),r.length>1&&(r=s(r));break;case b:r=s(e),r.length>1&&(r=i(e));break;default:t("track selection mode is not supported: "+n)}return r[0]}function X(){return{audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null}}}var e=this.context,t=(0,c["default"])(e).getInstance().log,n=(0,u["default"])(e).getInstance(),r=(0,p["default"])(e).getInstance(),i=(0,v["default"])(e).getInstance(),o=undefined,a=undefined,f=undefined,l=undefined,h=undefined,d=undefined,E=[g,m],S=[y,b];return o={initialize:x,checkInitialMediaSettingsForType:T,addTrack:N,getTracksFor:C,getCurrentTrackFor:k,isCurrentTrack:L,setTrack:A,setInitialSettings:O,getInitialSettings:M,setSwitchMode:_,getSwitchMode:D,setSelectionModeForInitialTrack:P,getSelectionModeForInitialTrack:H,isMultiTrackSupportedByType:B,isTracksEqual:j,setConfig:F,reset:I},o}Object.defineProperty(n,"__esModule",{value:!0});var i=e(13),s=r(i),o=e(9),u=r(o),a=e(10),f=r(a),l=e(8),c=r(l),h=e(143),p=r(h),d=e(150),v=r(d),m="neverReplace",g="alwaysReplace",y="highestBitrate",b="widestRange",w=y;E.__dashjs_factory_name="MediaController";var S=f["default"].getSingletonFactory(E);S.TRACK_SWITCH_MODE_NEVER_REPLACE=m,S.TRACK_SWITCH_MODE_ALWAYS_REPLACE=g,S.TRACK_SELECTION_MODE_HIGHEST_BITRATE=y,S.TRACK_SELECTION_MODE_WIDEST_RANGE=b,S.DEFAULT_INIT_TRACK_SELECTION_MODE=w,n["default"]=S,t.exports=n["default"]},{10:10,13:13,143:143,150:150,8:8,9:9}],66:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){function t(){var e="WebKitMediaSource"in window,t="MediaSource"in window;return t?new MediaSource:e?new WebKitMediaSource:null}function n(e,t){var n=window.URL.createObjectURL(e);return t.setSource(n),n}function r(e){e.setSource(null)}function i(e,t){return e.duration!=t&&(e.duration=t),e.duration}function s(e){var t=e.sourceBuffers,n=t.length,r=0;if(e.readyState!=="open")return;for(r;r<n;r++){if(t[r].updating)return;if(t[r].buffered.length===0)return}e.endOfStream()}var e=undefined;return e={createMediaSource:t,attachMediaSource:n,detachMediaSource:r,setDuration:i,signalEndOfStream:s},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="MediaSourceController",n["default"]=s["default"].getSingletonFactory(o),t.exports=n["default"]},{10:10}],67:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function y(){function k(){b=0,w=NaN,E=null,T=null,C=!1,S={},N=(0,f["default"])(e).getInstance()}function L(e){x=e,i=y.getElement(),mt(),T=x.manifestInfo.isDynamic,w=x.start,n.on(p["default"].DATA_UPDATE_COMPLETED,et,this),n.on(p["default"].BYTES_APPENDED,dt,this),n.on(p["default"].BUFFER_LEVEL_STATE_CHANGED,vt,this),n.on(p["default"].PERIOD_SWITCH_STARTED,A,this),C&&(C=!1,D())}function A(e){!T&&e.fromStreamInfo&&S[e.fromStreamInfo.id]&&delete S[e.fromStreamInfo.id]}function O(){var e=J(!0),t=T?e-x.start:0;return e+(x.duration-t)-F()}function M(){return F()>0}function _(){return x.id}function D(){if(i){i.autoplay=!0;var e=i.play();e&&typeof Promise!="undefined"&&e instanceof Promise&&e["catch"](function(e){e.name==="NotAllowedError"&&n.trigger(p["default"].PLAYBACK_NOT_ALLOWED),t("Caught pending play exception - continuing ("+e+")")})}else C=!0}function P(){if(!i)return;return i.paused}function H(){if(!i)return;i.pause(),i.autoplay=!1}function B(){if(!i)return;return i.seeking}function j(e){if(!y)return;t("Requesting seek to time: "+e),y.setCurrentTime(e)}function F(){if(!i)return;return i.currentTime}function I(){if(!i)return;return i.playbackRate}function q(){if(!i)return;return i.played}function R(){if(!i)return;return i.ended}function U(){return T}function z(e){w=e}function W(){return w}function X(e,t){var n=v.getMpd(d.getValue()),r=undefined,i=10;N.getUseSuggestedPresentationDelay()&&n.hasOwnProperty("suggestedPresentationDelay")?r=n.suggestedPresentationDelay:N.getLiveDelay()?r=N.getLiveDelay():isNaN(e)?r=x.manifestInfo.minBufferTime*2:r=e*N.getLiveDelayFragmentCount();var s=Math.max(t-i,t/2);return Math.min(r,s)}function V(){y&&i&&(n.off(p["default"].DATA_UPDATE_COMPLETED,et,this),n.off(p["default"].BUFFER_LEVEL_STATE_CHANGED,vt,this),n.off(p["default"].BYTES_APPENDED,dt,this),G(),gt()),y=null,x=null,i=null,T=null,k()}function $(e){if(!e)return;e.streamController&&(o=e.streamController),e.timelineConverter&&(a=e.timelineConverter),e.metricsModel&&(l=e.metricsModel),e.dashMetrics&&(h=e.dashMetrics),e.manifestModel&&(d=e.manifestModel),e.dashManifestModel&&(v=e.dashManifestModel),e.adapter&&(m=e.adapter),e.videoModel&&(y=e.videoModel)}function J(t){var n=undefined,r=(0,u["default"])(e).getInstance().getURIFragmentData(),i=parseInt(r.s,10),s=parseInt(r.t,10),a=NaN;t||(a=isNaN(i)?s:i);if(T){if(!isNaN(a)&&a>1262304e3){n=a-x.manifestInfo.availableFrom.getTime()/1e3;if(n>w||n<w-x.manifestInfo.DVRWindowSize)n=null}n=n||w}else if(!isNaN(a)&&a<Math.max(x.manifestInfo.duration,x.duration)&&a>=0)n=a;else{var f=S[x.id];f===undefined&&(f=o.getActiveStreamCommonEarliestTime()),n=Math.max(f,x.start)}return n}function K(e){var t=l.getReadOnlyMetricsFor("video")||l.getReadOnlyMetricsFor("audio"),n=h.getCurrentDVRInfo(t),r=n?n.range:null,i;if(!r)return NaN;if(e>r.end)i=Math.max(r.end-x.manifestInfo.minBufferTime*2,r.start);else{if(!(e<r.start))return e;i=r.start}return i}function Q(){if(E!==null)return;var e=function(){pt()};E=setInterval(e,N.getWallclockTimeUpdateInterval())}function G(){clearInterval(E),E=null}function Y(){var e=J(!1);e>0&&(j(e),t("Starting playback at offset: "+e))}function Z(){if(P()||!T||i.readyState===0)return;var e=F(),t=K(e),n=!isNaN(t)&&t!==e;n&&j(t)}function et(e){if(e.error)return;var t=m.convertDataToTrack(d.getValue(),e.currentRepresentation),n=t.mediaInfo.streamInfo;if(x.id!==n.id)return;x=n,Z()}function tt(){n.trigger(p["default"].CAN_PLAY)}function nt(){t("Native video element event: play"),Z(),Q(),n.trigger(p["default"].PLAYBACK_STARTED,{startTime:F()})}function rt(){t("Native video element event: playing"),n.trigger(p["default"].PLAYBACK_PLAYING,{playingTime:F()})}function it(){t("Native video element event: pause"),n.trigger(p["default"].PLAYBACK_PAUSED,{ended:R()})}function st(){var e=F();t("Seeking to: "+e),Q(),n.trigger(p["default"].PLAYBACK_SEEKING,{seekTime:e})}function ot(){t("Native video element event: seeked"),n.trigger(p["default"].PLAYBACK_SEEKED)}function ut(){var e=F();if(e===b)return;b=e,n.trigger(p["default"].PLAYBACK_TIME_UPDATED,{timeToEnd:O(),time:e})}function at(){n.trigger(p["default"].PLAYBACK_PROGRESS)}function ft(){var e=I();t("Native video element event: ratechange: ",e),n.trigger(p["default"].PLAYBACK_RATE_CHANGED,{playbackRate:e})}function lt(){t("Native video element event: loadedmetadata"),(!T&&x.isFirst||a.isTimeSyncCompleted())&&Y(),n.trigger(p["default"].PLAYBACK_METADATA_LOADED),Q()}function ct(){t("Native video element event: ended"),H(),G(),n.trigger(p["default"].PLAYBACK_ENDED)}function ht(e){var t=e.target||e.srcElement;n.trigger(p["default"].PLAYBACK_ERROR,{error:t.error})}function pt(){n.trigger(p["default"].WALLCLOCK_TIME_UPDATED,{isDynamic:T,time:new Date})}function dt(e){var t=e.bufferedRanges;if(!t||!t.length)return;var n=Math.max(t.start(0),x.start),r=S[x.id]===undefined?n:Math.max(S[x.id],n);if(r===S[x.id])return;!T&&J(!0)<r&&F()<r&&j(r),S[x.id]=r}function vt(e){if(e.streamInfo.id!==x.id)return;y.setStallState(e.mediaType,e.state===s["default"].BUFFER_EMPTY)}function mt(){i.addEventListener("canplay",tt),i.addEventListener("play",nt),i.addEventListener("playing",rt),i.addEventListener("pause",it),i.addEventListener("error",ht),i.addEventListener("seeking",st),i.addEventListener("seeked",ot),i.addEventListener("timeupdate",ut),i.addEventListener("progress",at),i.addEventListener("ratechange",ft),i.addEventListener("loadedmetadata",lt),i.addEventListener("ended",ct)}function gt(){i.removeEventListener("canplay",tt),i.removeEventListener("play",nt),i.removeEventListener("playing",rt),i.removeEventListener("pause",it),i.removeEventListener("error",ht),i.removeEventListener("seeking",st),i.removeEventListener("seeked",ot),i.removeEventListener("timeupdate",ut),i.removeEventListener("progress",at),i.removeEventListener("ratechange",ft),i.removeEventListener("loadedmetadata",lt),i.removeEventListener("ended",ct)}var e=this.context,t=(0,g["default"])(e).getInstance().log,n=(0,c["default"])(e).getInstance(),r=undefined,i=undefined,o=undefined,a=undefined,l=undefined,h=undefined,d=undefined,v=undefined,m=undefined,y=undefined,b=undefined,w=undefined,E=undefined,S=undefined,x=undefined,T=undefined,N=undefined,C=undefined;return r={initialize:L,setConfig:$,getStreamStartTime:J,getTimeToStreamEnd:O,isPlaybackStarted:M,getStreamId:_,getTime:F,getPlaybackRate:I,getPlayedRanges:q,getEnded:R,getIsDynamic:U,setLiveStartTime:z,getLiveStartTime:W,computeLiveDelay:X,play:D,isPaused:P,pause:H,isSeeking:B,seek:j,reset:V},k(),r}Object.defineProperty(n,"__esModule",{value:!0});var i=e(62),s=r(i),o=e(101),u=r(o),a=e(99),f=r(a),l=e(9),c=r(l),h=e(13),p=r(h),d=e(10),v=r(d),m=e(8),g=r(m);y.__dashjs_factory_name="PlaybackController",n["default"]=v["default"].getSingletonFactory(y),t.exports=n["default"]},{10:10,101:101,13:13,62:62,8:8,9:9,99:99}],68:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function H(e){function et(){A=!0,Y=NaN,Q=NaN,G={},Z=[],O=!0,M=null,D=null,H=!0,B=!1,j=0,I=NaN}function tt(e,n){E=e,z=n,q=(0,o["default"])(t).getInstance(),R=(0,h["default"])(t).getInstance(),U=(0,a["default"])(t).getInstance(),W=(0,_["default"])(t).getInstance(),X=z.getFragmentController(),V=z.getBufferController(),x=X.getModel(E),N=z.isDynamic(),K=g.getScheduleWhilePaused(),$=(0,d["default"])(t).create({dashMetrics:c,metricsModel:s,textController:(0,y["default"])(t).getInstance()}),J=(0,m["default"])(t).create({adapter:f,sourceBufferController:(0,S["default"])(t).getInstance(),textController:(0,y["default"])(t).getInstance()}),p.getIsTextTrack(E)&&r.on(L["default"].TIMED_TEXT_REQUESTED,Ct,this),r.on(L["default"].QUALITY_CHANGE_REQUESTED,ct,this),r.on(L["default"].DATA_UPDATE_STARTED,Et,this),r.on(L["default"].DATA_UPDATE_COMPLETED,pt,this),r.on(L["default"].FRAGMENT_LOADING_COMPLETED,gt,this),r.on(L["default"].STREAM_COMPLETED,mt,this),r.on(L["default"].STREAM_INITIALIZED,dt,this),r.on(L["default"].BUFFER_LEVEL_STATE_CHANGED,xt,this),r.on(L["default"].BUFFER_CLEARED,St,this),r.on(L["default"].BYTES_APPENDED,bt,this),r.on(L["default"].INIT_REQUESTED,at,this),r.on(L["default"].QUOTA_EXCEEDED,Tt,this),r.on(L["default"].PLAYBACK_SEEKING,Lt,this),r.on(L["default"].PLAYBACK_STARTED,kt,this),r.on(L["default"].PLAYBACK_RATE_CHANGED,At,this),r.on(L["default"].PLAYBACK_TIME_UPDATED,yt,this),r.on(L["default"].URL_RESOLUTION_FAILED,Nt,this),r.on(L["default"].FRAGMENT_LOADING_ABANDONED,wt,this)}function nt(){if(!k||V.getIsBufferingCompleted())return;qt(),O=!1,A&&(A=!1),ut(0),n("Schedule controller starting for "+E)}function rt(){if(O)return;O=!0,clearTimeout(F),n("Schedule controller stopping for "+E)}function it(e,t){G[t]=G[t]||{};var r=U.getTopQualityIndexFor(e,t);return G[t][e]!=r?(n("Top quality"+e+" index has changed from "+G[t][e]+" to "+r),G[t][e]=r,!0):!1}function st(){if(O||B||!V||q.isPaused()&&!K)return;ot();var e=Z.length>0;if(e||it(k.mediaInfo.type,z.getStreamInfo().id)||$.execute(z,E,W.isVideoTrackPresent())){var t=function(){if(k.quality!==Y)Y=k.quality,V.switchInitData(z.getStreamInfo().id,k.id);else{var t=Z.shift();if(X.isInitializationRequest(t))V.switchInitData(t.mediaInfo.streamInfo.id,t.representationId);else{var n=J.execute(z,t);n?x.executeRequest(n):(B=!1,ut(500))}}};B=!0,e?t():(U.getPlaybackQuality(z),t())}else ut(500)}function ot(){var e=k.fragmentDuration*1.5,t=x.getRequests({state:w["default"].FRAGMENT_MODEL_EXECUTED,time:q.getTime()+e,threshold:0})[0];t&&Z.indexOf(t)===-1&&!p.getIsTextTrack(E)&&(!R.isCurrentTrack(t.mediaInfo)||g.getFastSwitchEnabled()&&t.quality<k.quality&&V.getBufferLevel()>=e&&U.getAbandonmentStateFor(E)!==a["default"].ABANDON_LOAD?(lt(t),n("Reloading outdated fragment at index: ",t.index)):t.quality>k.quality&&Mt(q.getTime()+V.getBufferLevel()))}function ut(e){clearTimeout(F),F=setTimeout(st,e)}function at(e){if(!e.sender||e.sender.getStreamProcessor()!==z)return;ft(k.quality)}function ft(e){Y=e;var t=f.getInitRequest(z,e);t&&(B=!0,x.executeRequest(t))}function lt(e){Z.push(e)}function ct(e){if(E!==e.mediaType||z.getStreamInfo().id!==e.streamInfo.id)return;k=z.getRepresentationInfoForQuality(e.newQuality);if(k===null||k===undefined)throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined");It(new Date,i.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),qt()}function ht(e){if(q){var t=x.getRequests({state:w["default"].FRAGMENT_MODEL_EXECUTED,time:q.getTime(),threshold:0})[0];t&&q.getTime()>=t.startTime&&(t.quality!==Q&&e&&r.trigger(L["default"].QUALITY_CHANGE_RENDERED,{mediaType:E,oldQuality:Q,newQuality:t.quality}),Q=t.quality)}}function pt(e){if(e.error||e.sender.getStreamProcessor()!==z)return;k=f.convertDataToTrack(u.getValue(),e.currentRepresentation)}function dt(e){if(e.error||z.getStreamInfo().id!==e.streamInfo.id)return;k=z.getCurrentRepresentationInfo(),N&&A&&(v.setTimeSyncCompleted(!0),vt()),O&&nt()}function vt(){var e=(0,T["default"])(t).getInstance().getLiveEdge(),n=k.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,r=e-q.computeLiveDelay(k.fragmentDuration,n),i=f.getFragmentRequestForTime(z,k,r,{ignoreIsFinished:!0});I=q.getLiveStartTime();if(isNaN(I)||i.startTime>I)q.setLiveStartTime(i.startTime),I=i.startTime;var o=c.getCurrentManifestUpdate(s.getMetricsFor("stream"));s.updateManifestUpdateInfo(o,{currentTime:I,presentationStartTime:e,latency:e-I,clientTimeOffset:v.getClientTimeOffset()})}function mt(e){if(e.fragmentModel!==x)return;rt(),B=!1,n("Stream is complete")}function gt(e){if(e.sender!==x)return;p.getIsTextTrack(E)&&(B=!1),e.error&&e.request.serviceLocation&&!O&&(lt(e.request),B=!1,ut(0))}function yt(){ht(!0)}function bt(e){if(e.sender.getStreamProcessor()!==z)return;B=!1,ut(0)}function wt(e){if(e.streamProcessor!==z)return;lt(e.request),B=!1,ut(0)}function Et(e){if(e.sender.getStreamProcessor()!==z)return;rt()}function St(e){if(e.sender.getStreamProcessor()!==z)return;x.removeExecutedRequestsBeforeTime(e.to),e.hasEnoughSpaceToAppend&&O&&nt()}function xt(e){e.sender.getStreamProcessor()===z&&e.state===l["default"].BUFFER_EMPTY&&!q.isSeeking()&&(n("Buffer is empty! Stalling!"),It(new Date,i.PlayListTrace.REBUFFERING_REASON))}function Tt(e){if(e.sender.getStreamProcessor()!==z)return;rt()}function Nt(){x.abortRequests(),rt()}function Ct(e){if(e.sender.getStreamProcessor()!==z)return;ft(e.index)}function kt(){(O||!K)&&nt()}function Lt(e){I=e.seekTime,Dt(0),O&&nt();var t=c.getCurrentManifestUpdate(s.getMetricsFor("stream")),n=k.DVRWindow?k.DVRWindow.end-q.getTime():NaN;s.updateManifestUpdateInfo(t,{latency:n})}function At(e){D&&(D.playbackspeed=e.playbackRate.toString())}function Ot(){return I}function Mt(e){I=e}function _t(){return x}function Dt(e){j=e}function Pt(){return j}function Ht(){return z}function Bt(){return $.getBufferTarget(z,E,W.isVideoTrackPresent())}function jt(e){M=e}function Ft(e,t){It(e,t),M=null}function It(e,t){if(M&&H===!1){var n=D.start,r=e.getTime()-n.getTime();D.duration=r,D.stopreason=t,M.trace.push(D),H=!0}}function qt(){M&&H===!0&&k&&(H=!1,D=new i.PlayListTrace,D.representationid=k.id,D.start=new Date,D.mstart=q.getTime()*1e3,D.playbackspeed=q.getPlaybackRate().toString())}function Rt(){r.off(L["default"].DATA_UPDATE_STARTED,Et,this),r.off(L["default"].DATA_UPDATE_COMPLETED,pt,this),r.off(L["default"].BUFFER_LEVEL_STATE_CHANGED,xt,this),r.off(L["default"].QUALITY_CHANGE_REQUESTED,ct,this),r.off(L["default"].FRAGMENT_LOADING_COMPLETED,gt,this),r.off(L["default"].STREAM_COMPLETED,mt,this),r.off(L["default"].STREAM_INITIALIZED,dt,this),r.off(L["default"].QUOTA_EXCEEDED,Tt,this),r.off(L["default"].BYTES_APPENDED,bt,this),r.off(L["default"].BUFFER_CLEARED,St,this),r.off(L["default"].INIT_REQUESTED,at,this),r.off(L["default"].PLAYBACK_RATE_CHANGED,At,this),r.off(L["default"].PLAYBACK_SEEKING,Lt,this),r.off(L["default"].PLAYBACK_STARTED,kt,this),r.off(L["default"].PLAYBACK_TIME_UPDATED,yt,this),r.off(L["default"].URL_RESOLUTION_FAILED,Nt,this),r.off(L["default"].FRAGMENT_LOADING_ABANDONED,wt,this),p.getIsTextTrack(E)&&r.off(L["default"].TIMED_TEXT_REQUESTED,Ct,this),rt(),ht(!1),B=!1,j=0,I=NaN,q=null,M=null}var t=this.context,n=(0,P["default"])(t).getInstance().log,r=(0,C["default"])(t).getInstance(),s=e.metricsModel,u=e.manifestModel,f=e.adapter,c=e.dashMetrics,p=e.dashManifestModel,v=e.timelineConverter,g=e.mediaPlayerModel,b=undefined,E=undefined,x=undefined,N=undefined,k=undefined,A=undefined,O=undefined,M=undefined,D=undefined,H=undefined,B=undefined,j=undefined,F=undefined,I=undefined,q=undefined,R=undefined,U=undefined,z=undefined,W=undefined,X=undefined,V=undefined,$=undefined,J=undefined,K=undefined,Q=undefined,G=undefined,Y=undefined,Z=undefined;return b={initialize:tt,getStreamProcessor:Ht,getSeekTarget:Ot,setSeekTarget:Mt,getFragmentModel:_t,setTimeToLoadDelay:Dt,getTimeToLoadDelay:Pt,replaceRequest:lt,start:nt,stop:rt,reset:Rt,setPlayList:jt,getBufferTarget:Bt,finalisePlayList:Ft},et(),b}Object.defineProperty(n,"__esModule",{value:!0});var i=e(184),s=e(67),o=r(s),u=e(59),a=r(u),f=e(62),l=r(f),c=e(65),h=r(c),p=e(138),d=r(p),v=e(139),m=r(v),g=e(143),y=r(g),b=e(97),w=r(b),E=e(69),S=r(E),x=e(155),T=r(x),N=e(9),C=r(N),k=e(13),L=r(k),A=e(10),O=r(A),M=e(70),_=r(M),D=e(8),P=r(D);H.__dashjs_factory_name="ScheduleController",n["default"]=O["default"].getClassFactory(H),t.exports=n["default"]},{10:10,13:13,138:138,139:139,143:143,155:155,184:184,59:59,62:62,65:65,67:67,69:69,70:70,8:8,9:9,97:97}],69:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function v(){function i(t,n){var r=n.codec,i=null;try{if(r.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))throw new u["default"]("not really supported");i=t.addSourceBuffer(r)}catch(o){if(!n.isText&&r.indexOf('codecs="stpp')===-1&&r.indexOf('codecs="wvtt')===-1)throw o;var a=(0,s["default"])(e).getInstance();i=a.getTextSourceBuffer()}return i}function o(e,t){try{e.removeSourceBuffer(t)}catch(n){}}function a(e,t,n){var r=null,i=0,s=0,o=null,u=null,a=0,f,l,c=n||.15;try{r=e.buffered}catch(h){return null}if(r!==null&&r!==undefined){for(l=0,f=r.length;l<f;l++){i=r.start(l),s=r.end(l);if(o===null)a=Math.abs(i-t),t>=i&&t<s?(o=i,u=s):a<=c&&(o=i,u=s);else{a=i-u;if(!(a<=c))break;u=s}}if(o!==null)return{start:o,end:u}}return null}function l(e){var t=null;try{return t=e.buffered,t}catch(n){return null}}function h(e){var t=l(e),n=0,r,i;if(!t)return n;for(i=0,r=t.length;i<r;i++)n+=t.end(i)-t.start(i);return n}function p(e,t,n){var r,i;return r=a(e,t,n),r===null?i=0:i=r.end-t,i}function d(e,t){if(!t)return null;var n=l(t),r,i,s,o,u,a,f,c,h;if(!n)return null;for(var p=0,d=n.length;p<d;p++){c=e.length>p,u=c?{start:e.start(p),end:e.end(p)}:null,r=n.start(p),i=n.end(p);if(!u)return h={start:r,end:i},h;s=u.start===r,o=u.end===i;if(s&&o)continue;if(s)h={start:u.end,end:i};else{if(!o)return h={start:r,end:i},h;h={start:r,end:u.start}}return a=e.length>p+1?{start:e.start(p+1),end:e.end(p+1)}:null,f=p+1<d?{start:n.start(p+1),end:n.end(p+1)}:null,a&&(!f||f.start!==a.start||f.end!==a.end)&&(h.end=a.start),h}return null}function v(e,n){var r=n.bytes,i="append"in e?"append":"appendBuffer"in e?"appendBuffer":null,s=Object.prototype.toString.call(e).slice(8,-1)==="Object";if(!i)return;b(e,function(){try{s?e[i](r,n):e[i](r),b(e,function(){t.trigger(c["default"].SOURCEBUFFER_APPEND_COMPLETED,{buffer:e,bytes:r})})}catch(o){t.trigger(c["default"].SOURCEBUFFER_APPEND_COMPLETED,{buffer:e,bytes:r,error:new u["default"](o.code,o.message,null)})}})}function m(e,n,r,i){b(e,function(){try{n>=0&&r>n&&i.readyState!=="ended"&&e.remove(n,r),b(e,function(){t.trigger(c["default"].SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:n,to:r})})}catch(s){t.trigger(c["default"].SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:n,to:r,error:new u["default"](s.code,s.message,null)})}})}function g(e,t){try{e.readyState==="open"?t.abort():t.setTextTrack&&e.readyState==="ended"&&t.abort()}catch(n){}}function y(e){if(!e)return;e.dashManifestModel&&(r=e.dashManifestModel)}function b(e,t){var n,r=50,i=function(){if(e.updating)return;clearInterval(n),t()},s=function u(){if(e.updating)return;e.removeEventListener("updateend",u,!1),t()};if(!e.updating){t();return}if(typeof e.addEventListener=="function")try{e.addEventListener("updateend",s,!1)}catch(o){n=setInterval(i,r)}else n=setInterval(i,r)}var e=this.context,t=(0,f["default"])(e).getInstance(),n=undefined,r=undefined;return n={append:v,remove:m,abort:g,createSourceBuffer:i,removeSourceBuffer:o,getBufferRange:a,getAllRanges:l,getTotalBufferedTime:h,getBufferLength:p,getRangeDifference:d,setConfig:y},n}Object.defineProperty(n,"__esModule",{value:!0});var i=e(143),s=r(i),o=e(165),u=r(o),a=e(9),f=r(a),l=e(13),c=r(l),h=e(10),p=r(h),d=22;v.__dashjs_factory_name="SourceBufferController";var m=p["default"].getSingletonFactory(v);m.QUOTA_EXCEEDED_ERROR_CODE=d,n["default"]=m,t.exports=n["default"]},{10:10,13:13,143:143,165:165,9:9}],70:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function k(){function J(){D=null,M=[],z=(0,b["default"])(t).getInstance(),H=!0,B=!1,j=!1,W=!1,X=!0,V=null,F=!1,I=!1}function K(e,n){H=e,P=n,O.initialize(),L=(0,C["default"])(t).getInstance(),a=(0,f["default"])(t).getInstance(),a.setConfig({manifestModel:h,dashManifestModel:d}),a.initialize(l),R=(0,g["default"])(t).getInstance(),U=(0,s["default"])(t).getInstance(),U.setConfig({streamController:i,timelineConverter:O,metricsModel:y,dashMetrics:w,manifestModel:h,dashManifestModel:d,adapter:m,videoModel:R}),r.on(p["default"].TIME_SYNCHRONIZATION_COMPLETED,ht,this),r.on(p["default"].PLAYBACK_SEEKING,G,this),r.on(p["default"].PLAYBACK_TIME_UPDATED,Q,this),r.on(p["default"].PLAYBACK_ENDED,it,this),r.on(p["default"].PLAYBACK_ERROR,yt,this),r.on(p["default"].PLAYBACK_STARTED,Y,this),r.on(p["default"].PLAYBACK_PAUSED,Z,this),r.on(p["default"].MANIFEST_UPDATED,pt,this),r.on(p["default"].STREAM_BUFFERING_COMPLETED,et,this)}function Q(t){if(dt()){var n=R.getPlaybackQuality();n&&y.addDroppedFrames("video",n)}if(U.isSeeking())return;t.timeToEnd<=e&&it()}function G(e){var t=tt(e.seekTime);t&&t!==_?(mt(S.PlayListTrace.END_OF_PERIOD_STOP_REASON),ot(_,t,e.seekTime)):mt(S.PlayListTrace.USER_REQUEST_STOP_REASON),gt(S.PlayList.SEEK_START_REASON)}function Y(){X?(X=!1,gt(S.PlayList.INITIAL_PLAYOUT_START_REASON)):W&&(W=!1,gt(S.PlayList.RESUME_FROM_PAUSE_START_REASON))}function Z(e){e.ended||(W=!0,mt(S.PlayListTrace.USER_REQUEST_STOP_REASON))}function et(){var e=wt().isLast;q&&e&&x.signalEndOfStream(q)}function tt(e){var t=0,n=null,r=M.length;r>0&&(t+=M[0].getStartTime());for(var i=0;i<r;i++){n=M[i],t+=n.getDuration();if(e<t)return n}return null}function nt(e,t){var n=null,r=0,i=0,s=null,o=M.length;for(var u=0;u<o;u++){n=M[u],i=n.getStartTime(),s=n.getDuration(),Number.isFinite(i)&&(r=i);if(n.getId()===t)return e-r;Number.isFinite(s)&&(r+=s)}return null}function rt(){var e=[];return _.getProcessors().forEach(function(t){e.push(t.getIndexHandler().getEarliestTime())}),Math.min.apply(Math,e)}function it(){var e=st();e&&ot(_,e,NaN),mt(e?S.PlayListTrace.END_OF_PERIOD_STOP_REASON:S.PlayListTrace.END_OF_CONTENT_STOP_REASON)}function st(){if(_){var e=function(){var e=_.getStreamInfo().start,t=_.getStreamInfo().duration;return{v:M.filter(function(n){return n.getStreamInfo().start===e+t})[0]}}();if(typeof e=="object")return e.v}}function ot(e,t,n){if(B||!t||e===t)return;B=!0,r.trigger(p["default"].PERIOD_SWITCH_STARTED,{fromStreamInfo:e?e.getStreamInfo():null,toStreamInfo:t.getStreamInfo()}),e&&e.deactivate(),_=t,U.initialize(_.getStreamInfo()),ut(n)}function ut(e){function r(){n("MediaSource is open!"),window.URL.revokeObjectURL(t),q.removeEventListener("sourceopen",r),q.removeEventListener("webkitsourceopen",r),ft(),at(e)}var t=undefined;q?x.detachMediaSource(R):q=x.createMediaSource(),q.addEventListener("sourceopen",r,!1),q.addEventListener("webkitsourceopen",r,!1),t=x.attachMediaSource(q,R),n("MediaSource attached to element.  Waiting on open...")}function at(e){_.activate(q),X?$=vt():isNaN(e)?function(){var e=U.getStreamStartTime(!0);_.getProcessors().forEach(function(t){m.setIndexHandlerTime(t,e)}),U.seek(e)}():U.seek(e),_.startEventController(),(H||!X)&&U.play(),B=!1,r.trigger(p["default"].PERIOD_SWITCH_COMPLETED,{toStreamInfo:_.getStreamInfo()})}function ft(){var e=_.getStreamInfo().manifestInfo.duration,t=x.setDuration(q,e);n("Duration successfully set to: "+t)}function lt(e){for(var t=0,n=M.length;t<n;t++)if(M[t].getId()===e.id)return M[t];return null}function ct(e){try{var n=m.getStreamsInfo(e);if(n.length===0)throw new Error("There are no streams");var i=w.getCurrentManifestUpdate(y.getMetricsFor("stream"));y.updateManifestUpdateInfo(i,{currentTime:U.getTime(),buffered:R.getElement().buffered,presentationStartTime:n[0].start,clientTimeOffset:O.getClientTimeOffset()});for(var s=0,f=n.length;s<f;s++){var l=n[s],c=lt(l);c?c.updateData(l):(c=(0,u["default"])(t).create({manifestModel:h,manifestUpdater:a,adapter:m,timelineConverter:O,capabilities:o,errHandler:A,baseURLController:k}),M.push(c),c.initialize(l,D)),y.addManifestUpdateStreamInfo(i,l.id,l.index,l.start,l.duration)}_||ot(null,M[0],NaN),r.trigger(p["default"].STREAMS_COMPOSED)}catch(d){A.manifestError(d.message,"nostreamscomposed",e),I=!0,Ct()}}function ht(){var e=h.getValue();D&&(r.trigger(p["default"].PROTECTION_CREATED,{controller:D,manifest:e}),D.setMediaElement(R.getElement()),P&&D.setProtectionData(P)),ct(e)}function pt(e){if(!e.error){var r=e.manifest,i=m.getStreamsInfo(r)[0],s=m.getMediaInfoForType(r,i,"video")||m.getMediaInfoForType(r,i,"audio"),o,u;s&&(o=m.getDataForMedia(s),u=d.getRepresentationsForAdaptation(r,o)[0].useCalculatedLiveEdgeTime,u&&(n("SegmentTimeline detected using calculated Live Edge Time"),z.setUseManifestDateHeaderTimeSource(!1)));var a=d.getUTCTimingSources(e.manifest),f=!d.getIsDynamic(r)||u?a:a.concat(z.getUTCTimingSources()),l=(0,v["default"])(t).getInstance().isManifestHTTPS();f.forEach(function(e){e.value.replace(/.*?:\/\//g,"")===b["default"].DEFAULT_UTC_TIMING_SOURCE.value.replace(/.*?:\/\//g,"")&&(e.value=e.value.replace(l?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),l?"https://":"http://"),n("Matching default timing source protocol to manifest protocol: ",e.value))}),k.initialize(r),N.setConfig({metricsModel:y,dashMetrics:w}),N.initialize(f,z.getUseManifestDateHeaderTimeSource())}else I=!0,Ct()}function dt(){return $===undefined&&($=vt()),$}function vt(){var e=!1;return _.getProcessors().forEach(function(t){t.getMediaInfo().type==="video"&&(e=!0)}),e}function mt(e,t){t=t||new Date,V&&(_&&_.getProcessors().forEach(function(n){var r=n.getScheduleController();r&&r.finalisePlayList(t,e)}),y.addPlayList(V),V=null)}function gt(e){V=new S.PlayList,V.start=new Date,V.mstart=U.getTime()*1e3,V.starttype=e,_&&_.getProcessors().forEach(function(e){var t=e.getScheduleController();t&&t.setPlayList(V)})}function yt(e){if(!e.error)return;var t="";switch(e.error.code){case 1:t="MEDIA_ERR_ABORTED";break;case 2:t="MEDIA_ERR_NETWORK";break;case 3:t="MEDIA_ERR_DECODE";break;case 4:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:t="MEDIA_ERR_ENCRYPTED";break;default:t="UNKNOWN"}F=!0,e.error.message&&(t+=" ("+e.error.message+")"),e.error.msExtendedCode&&(t+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),n("Video Element Error: "+t),e.error&&n(e.error),A.mediaSourceError(t),Ct()}function bt(){return H}function wt(){return _?_.getStreamInfo():null}function Et(e){return _.getId()===e.id}function St(e){return M.filter(function(t){return t.getId()===e})[0]}function xt(e){l.load(e)}function Tt(e){a.setManifest(e)}function Nt(e){if(!e)return;e.capabilities&&(o=e.capabilities),e.manifestLoader&&(l=e.manifestLoader),e.manifestModel&&(h=e.manifestModel),e.dashManifestModel&&(d=e.dashManifestModel),e.protectionController&&(D=e.protectionController),e.adapter&&(m=e.adapter),e.metricsModel&&(y=e.metricsModel),e.dashMetrics&&(w=e.dashMetrics),e.liveEdgeFinder&&(E=e.liveEdgeFinder),e.mediaSourceController&&(x=e.mediaSourceController),e.timeSyncController&&(N=e.timeSyncController),e.baseURLController&&(k=e.baseURLController),e.errHandler&&(A=e.errHandler),e.timelineConverter&&(O=e.timelineConverter)}function Ct(){N.reset(),mt(F||I?S.PlayListTrace.FAILURE_STOP_REASON:S.PlayListTrace.USER_REQUEST_STOP_REASON);for(var e=0,t=M.length;e<t;e++){var n=M[e];n.reset(F)}M=[],r.off(p["default"].PLAYBACK_TIME_UPDATED,Q,this),r.off(p["default"].PLAYBACK_SEEKING,G,this),r.off(p["default"].PLAYBACK_ERROR,yt,this),r.off(p["default"].PLAYBACK_STARTED,Y,this),r.off(p["default"].PLAYBACK_PAUSED,Z,this),r.off(p["default"].PLAYBACK_ENDED,it,this),r.off(p["default"].MANIFEST_UPDATED,pt,this),r.off(p["default"].STREAM_BUFFERING_COMPLETED,et,this),k.reset(),a.reset(),y.clearAllCurrentMetrics(),h.setValue(null),l.reset(),O.reset(),E.reset(),m.reset(),L.reset(),B=!1,j=!1,_=null,F=!1,I=!1,$=undefined,X=!0,W=!1,q&&(x.detachMediaSource(R),q=null),R=null,D&&(D.setMediaElement(null),D=null,P=null,h.getValue()&&r.trigger(p["default"].PROTECTION_DESTROYED,{data:h.getValue().url})),r.trigger(p["default"].STREAM_TEARDOWN_COMPLETE)}var e=.1,t=this.context,n=(0,T["default"])(t).getInstance().log,r=(0,c["default"])(t).getInstance(),i=undefined,o=undefined,a=undefined,l=undefined,h=undefined,d=undefined,m=undefined,y=undefined,w=undefined,E=undefined,x=undefined,N=undefined,k=undefined,L=undefined,A=undefined,O=undefined,M=undefined,_=undefined,D=undefined,P=undefined,H=undefined,B=undefined,j=undefined,F=undefined,I=undefined,q=undefined,R=undefined,U=undefined,z=undefined,W=undefined,X=undefined,V=undefined,$=undefined;return i={initialize:K,getAutoPlay:bt,getActiveStreamInfo:wt,isStreamActive:Et,isVideoTrackPresent:dt,getStreamById:St,getTimeRelativeToStreamId:nt,load:xt,loadWithManifest:Tt,getActiveStreamCommonEarliestTime:rt,setConfig:Nt,reset:Ct},J(),i}Object.defineProperty(n,"__esModule",{value:!0});var i=e(67),s=r(i),o=e(55),u=r(o),a=e(51),f=r(a),l=e(9),c=r(l),h=e(13),p=r(h),d=e(101),v=r(d),m=e(102),g=r(m),y=e(99),b=r(y),w=e(10),E=r(w),S=e(184),x=e(8),T=r(x),N=e(153),C=r(N);k.__dashjs_factory_name="StreamController",n["default"]=E["default"].getSingletonFactory(k),t.exports=n["default"]},{10:10,101:101,102:102,13:13,153:153,184:184,51:51,55:55,67:67,8:8,9:9,99:99}],71:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function m(){function g(e,t){l=t,i=0,o=!1,a=!1,c={"urn:mpeg:dash:utc:http-head:2014":_,"urn:mpeg:dash:utc:http-xsdate:2014":M.bind(null,C),"urn:mpeg:dash:utc:http-iso:2014":M.bind(null,k),"urn:mpeg:dash:utc:direct:2014":O,"urn:mpeg:dash:utc:http-head:2012":_,"urn:mpeg:dash:utc:http-xsdate:2012":M.bind(null,C),"urn:mpeg:dash:utc:http-iso:2012":M.bind(null,k),"urn:mpeg:dash:utc:direct:2012":O,"urn:mpeg:dash:utc:http-ntp:2014":A,"urn:mpeg:dash:utc:ntp:2014":A,"urn:mpeg:dash:utc:sntp:2014":A},E()||(H(e),S(!0))}function y(e){if(!e)return;e.metricsModel&&(h=e.metricsModel),e.dashMetrics&&(m=e.dashMetrics)}function b(){return T()}function w(e){o=e}function E(){return o}function S(e){a=e}function x(e){i=e}function T(){return i}function N(e){var t=60,n=60,r=1e3,i=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/
,s,o,u=i.exec(e);return s=Date.UTC(parseInt(u[1],10),parseInt(u[2],10)-1,parseInt(u[3],10),parseInt(u[4],10),parseInt(u[5],10),u[6]&&(parseInt(u[6],10)||0),u[7]&&parseFloat(u[7])*r||0),u[9]&&u[10]&&(o=parseInt(u[9],10)*n+parseInt(u[10],10),s+=(u[8]==="+"?-1:1)*o*t*r),(new Date(s)).getTime()}function C(e){var t=Date.parse(e);return isNaN(t)&&(t=N(e)),t}function k(e){return Date.parse(e)}function L(e){return Date.parse(e)}function A(e,t,n){n()}function O(e,t,n){var r=C(e);if(!isNaN(r)){t(r);return}n()}function M(e,t,n,r,i){var s,o,u=!1,a=new XMLHttpRequest,f=i?"HEAD":"GET",l=t.match(/\S+/g);t=l.shift(),s=function(){if(u)return;u=!0,l.length?M(e,l.join(" "),n,r,i):r()},o=function(){var t,r;a.status===200&&(t=i?a.getResponseHeader("Date"):a.response,r=e(t),isNaN(r)||(n(r),u=!0))},a.open(f,t),a.timeout=v||0,a.onload=o,a.onloadend=s,a.send()}function _(e,t,n){M(L,e,t,n,!0)}function D(){var e=h.getReadOnlyMetricsFor("stream"),t=m.getLatestMPDRequestHeaderValueByID(e,"Date"),n=t!==null?(new Date(t)).getTime():Number.NaN;isNaN(n)?P(!0):(x(n-(new Date).getTime()),P(!1,n/1e3,i))}function P(e,t,r){w(!1),n.trigger(f["default"].TIME_SYNCHRONIZATION_COMPLETED,{time:t,offset:r,error:e?new s["default"](d):null})}function H(e,n){var r=n||0,i=e[r],s=function(t,n){var r=!t||!n;r&&l?D():P(r,t,n)};w(!0),i?c.hasOwnProperty(i.schemeIdUri)?c[i.schemeIdUri](i.value,function(e){var n=(new Date).getTime(),r=e-n;x(r),t("Local time:      "+new Date(n)),t("Server time:     "+new Date(e)),t("Difference (ms): "+r),s(e,r)},function(){H(e,r+1)}):H(e,r+1):(x(0),s())}function B(){S(!1),w(!1)}var e=this.context,t=(0,p["default"])(e).getInstance().log,n=(0,u["default"])(e).getInstance(),r=undefined,i=undefined,o=undefined,a=undefined,l=undefined,c=undefined,h=undefined,m=undefined;return r={initialize:g,getOffsetToDeviceTimeMs:b,setConfig:y,reset:B},r}Object.defineProperty(n,"__esModule",{value:!0});var i=e(165),s=r(i),o=e(9),u=r(o),a=e(13),f=r(a),l=e(10),c=r(l),h=e(8),p=r(h),d=1,v=5e3;m.__dashjs_factory_name="TimeSyncController";var g=c["default"].getSingletonFactory(m);g.TIME_SYNC_FAILED_ERROR_CODE=d,g.HTTP_TIMEOUT_MS=v,n["default"]=g,t.exports=n["default"]},{10:10,13:13,165:165,8:8,9:9}],72:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function S(e){function d(){n.on(f["default"].XLINK_ELEMENT_LOADED,k,i),h=(0,s["default"])(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier})}function S(e){o=e}function x(e){a=e}function T(e){var t;c=new p["default"]({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:o}),l=e,t=A(l.Period_asArray,l,y,m),C(t,y,m)}function N(){n.off(f["default"].XLINK_ELEMENT_LOADED,k,i),h&&(h.reset(),h=null)}function C(e,t,n){var i={},s,o,u;i.elements=e,i.type=t,i.resolveType=n,i.elements.length===0&&L(i);for(u=0;u<i.elements.length;u++)s=i.elements[u],r.isHTTPURL(s.url)?o=s.url:o=s.originalContent.BaseURL+s.url,h.load(o,s,i)}function k(e){var t,n,r,i="<response>",s="</response>",o="";t=e.element,n=e.resolveObject,t.resolvedContent&&(r=t.resolvedContent.indexOf(">")+1,o=t.resolvedContent.substr(0,r)+i+t.resolvedContent.substr(r)+s,t.resolvedContent=c.xml_str2json(o)),_(n)&&L(n)}function L(e){var t=[],r,i;O(e),e.resolveType===g&&n.trigger(f["default"].XLINK_READY,{manifest:l});if(e.resolveType===m)switch(e.type){case y:for(r=0;r<l[y+"_asArray"].length;r++)i=l[y+"_asArray"][r],i.hasOwnProperty(b+"_asArray")&&(t=t.concat(A(i[b+"_asArray"],i,b,m))),i.hasOwnProperty(w+"_asArray")&&(t=t.concat(A(i[w+"_asArray"],i,w,m)));C(t,b,m);break;case b:n.trigger(f["default"].XLINK_READY,{manifest:l})}}function A(e,t,n,r){var i=[],s,o,u;for(o=e.length-1;o>=0;o--)s=e[o],s.hasOwnProperty("xlink:href")&&s["xlink:href"]===E&&e.splice(o,1);for(o=0;o<e.length;o++)s=e[o],s.hasOwnProperty("xlink:href")&&s.hasOwnProperty("xlink:actuate")&&s["xlink:actuate"]===r&&(u=M(s["xlink:href"],t,n,o,r,s),i.push(u));return i}function O(e){var t=[],n,r,i,s,o,u;for(s=e.elements.length-1;s>=0;s--){n=e.elements[s],r=n.type+"_asArray";if(!n.resolvedContent||D())delete n.originalContent["xlink:actuate"],delete n.originalContent["xlink:href"],t.push(n.originalContent);else if(n.resolvedContent)for(o=0;o<n.resolvedContent[r].length;o++)i=n.resolvedContent[r][o],t.push(i);n.parentElement[r].splice(n.index,1);for(u=0;u<t.length;u++)n.parentElement[r].splice(n.index+u,0,t[u]);t=[]}e.elements.length>0&&a.run(l)}function M(e,t,n,r,i,s){return{url:e,parentElement:t,type:n,index:r,resolveType:i,originalContent:s,resolvedContent:null,resolved:!1}}function _(e){var t,n;for(t=0;t<e.elements.length;t++){n=e.elements[t];if(n.resolved===!1)return!1}return!0}function D(){return!1}var t=this.context,n=(0,u["default"])(t).getInstance(),r=(0,v["default"])(t).getInstance(),i=undefined,o=undefined,a=undefined,l=undefined,c=undefined,h=undefined;return i={resolveManifestOnLoad:T,setMatchers:S,setIron:x,reset:N},d(),i}Object.defineProperty(n,"__esModule",{value:!0});var i=e(58),s=r(i),o=e(9),u=r(o),a=e(13),f=r(a),l=e(10),c=r(l),h=e(4),p=r(h),d=e(159),v=r(d),m="onLoad",g="onActuate",y="Period",b="AdaptationSet",w="EventStream",E="urn:mpeg:dash:resolve-to-zero:2013";S.__dashjs_factory_name="XlinkController",n["default"]=c["default"].getClassFactory(S),t.exports=n["default"]},{10:10,13:13,159:159,4:4,58:58,9:9}],73:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function m(){function r(t){return n=(0,s["default"])(e).getInstance({eventBus:t.eventBus,metricsModel:t.metricsModel}),(0,f["default"])(e).create(t)}function i(){return(0,p["default"])(e).getInstance()}function o(){return(0,c["default"])(e).getInstance()}var e=this.context,t=undefined,n=undefined;return t={createMetricsReporting:r,getReportingFactory:i,getMetricsHandlerFactory:o},t}Object.defineProperty(n,"__esModule",{value:!0});var i=e(87),s=r(i),o=e(74),u=r(o),a=e(75),f=r(a),l=e(80),c=r(l),h=e(85),p=r(h),d=e(10),v=r(d);m.__dashjs_factory_name="MetricsReporting";var g=v["default"].getClassFactory(m);g.events=u["default"],n["default"]=g,t.exports=n["default"]},{10:10,74:74,75:75,80:80,85:85,87:87}],74:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,n,r){var i=!0;e:while(i){var s=t,o=n,u=r;i=!1,s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,o);if(a===undefined){var f=Object.getPrototypeOf(s);if(f===null)return undefined;t=f,n=o,r=u,i=!0,a=f=undefined;continue e}if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(u)}},u=e(14),a=i(u),f=function(e){function t(){s(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer"}return o(t,e),t}(a["default"]),l=new f;n["default"]=l,t.exports=n["default"]},{14:14}],75:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function d(e){function i(i){if(i.error)return;var o=Object.keys(t),a=(0,u["default"])(n).getInstance({dashManifestModel:e.dashManifestModel}).getMetrics(i.manifest);a.forEach(function(r){var i=JSON.stringify(r);if(!t.hasOwnProperty(i))try{var u=(0,s["default"])(n).create(e);u.initialize(r),t[i]=u}catch(a){}else o.splice(i,1)}),o.forEach(function(e){t[e].reset(),delete t[e]}),r.trigger(c["default"].METRICS_INITIALISATION_COMPLETE)}function o(){Object.keys(t).forEach(function(e){t[e].reset()}),t={}}function a(){r.on(p["default"].MANIFEST_UPDATED,i),r.on(p["default"].STREAM_TEARDOWN_COMPLETE,o)}var t={},n=this.context,r=e.eventBus;return a(),{}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(76),s=r(i),o=e(89),u=r(o),a=e(10),f=r(a),l=e(74),c=r(l),h=e(13),p=r(h);d.__dashjs_factory_name="MetricsCollectionController",n["default"]=f["default"].getClassFactory(d),t.exports=n["default"]},{10:10,13:13,74:74,76:76,89:89}],76:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function h(e){function o(i){try{r=(0,u["default"])(s).create({mediaElement:e.mediaElement}),r.initialize(i.Range),n=(0,f["default"])(s).create({log:e.log}),n.initialize(i.Reporting,r),t=(0,c["default"])(s).create({log:e.log,eventBus:e.eventBus}),t.initialize(i.metrics,n)}catch(o){throw a(),o}}function a(){t&&t.reset(),n&&n.reset(),r&&r.reset()}var t=undefined,n=undefined,r=undefined,i=undefined,s=this.context;return i={initialize:o,reset:a},i}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(78),u=r(o),a=e(79),f=r(a),l=e(77),c=r(l);h.__dashjs_factory_name="MetricsController",n["default"]=s["default"].getClassFactory(h),t.exports=n["default"]},{10:10,77:77,78:78,79:79}],77:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function l(e){function u(e){t.forEach(function(t){t.handleNewMetric(e.metric,e.value,e.mediaType)})}function a(e,r){e.split(",").forEach(function(e,n,i){var s;if(e.indexOf("(")!==-1&&e.indexOf(")")===-1){var u=i[n+1];u&&u.indexOf("(")===-1&&u.indexOf(")")!==-1&&(e+=","+u,delete i[n+1])}s=o.create(e,r),s&&t.push(s)}),i.on(f["default"].METRIC_ADDED,u,n),i.on(f["default"].METRIC_UPDATED,u,n)}function l(){i.off(f["default"].METRIC_ADDED,u,n),i.off(f["default"].METRIC_UPDATED,u,n),t.forEach(function(e){return e.reset()}),t=[]}var t=[],n=undefined,r=this.context,i=e.eventBus,o=(0,s["default"])(r).getInstance({log:e.log,eventBus:e.eventBus});return n={initialize:a,reset:l},n}Object.defineProperty(n,"__esModule",{value:!0});var i=e(80),s=r(i),o=e(10),u=r(o),a=e(53),f=r(a);l.__dashjs_factory_name="MetricsHandlersController",n["default"]=u["default"].getClassFactory(l),t.exports=n["default"]},{10:10,53:53,80:80}],78:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){function o(e){e&&e.length&&(e.forEach(function(e){var t=e.starttime,n=t+e.duration;i.add(t,n)}),t=!!e[0]._useWallClockTime)}function a(){i.clear()}function f(){i=(0,u["default"])(n).create()}function l(){var e=i.length,n;if(!e)return!0;n=t?(new Date).getTime()/1e3:s.currentTime;for(var r=0;r<e;r+=1){var o=i.start(r),u=i.end(r);if(o<=n&&n<u)return!0}return!1}var t=!1,n=this.context,r=undefined,i=undefined,s=e.mediaElement;return r={initialize:o,reset:a,isEnabled:l},f(),r}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(149),u=r(o);a.__dashjs_factory_name="RangeController",n["default"]=s["default"].getClassFactory(a),t.exports=n["default"]},{10:10,149:149}],79:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){function i(e,n){e.some(function(e){var i=r.create(e,n);if(i)return t.push(i),!0})}function s(){t.forEach(function(e){return e.reset()}),t=[]}function o(e,n){t.forEach(function(t){return t.report(e,n)})}var t=[],n=undefined,r=(0,u["default"])(this.context).getInstance({log:e.log});return n={initialize:i,reset:s,report:o},n}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(85),u=r(o);a.__dashjs_factory_name="ReportingController",n["default"]=s["default"].getClassFactory(a),t.exports=n["default"]},{10:10,85:85}],80:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function d(e){function o(t,o){var u=t.match(r),a;if(!u)return;try{a=s[u[1]](i).create({eventBus:e.eventBus}),a.initialize(u[1],o,u[3],u[5])}catch(f){a=null,n("MetricsHandlerFactory: Could not create handler for type "+u[1]+" with args "+u[3]+", "+u[5]+" ("+f.message+")")}return a}function a(e,t){s[e]=t}function l(e){delete s[e]}var t=undefined,n=e.log,r=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,i=this.context,s={BufferLevel:u["default"],DVBErrors:f["default"],HttpList:c["default"],PlayList:p["default"],RepSwitchList:p["default"],TcpList:p["default"]};return t={create:o,register:a,unregister:l},t}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(81),u=r(o),a=e(82),f=r(a),l=e(84),c=r(l),h=e(83),p=r(h);d.__dashjs_factory_name="MetricsHandlerFactory",n["default"]=s["default"].getSingletonFactory(d),t.exports=n["default"]},{10:10,81:81,82:82,83:83,84:84}],81:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){function l(){try{return Object.keys(f).map(function(e){return f[e]}).reduce(function(e,t){return e.level<t.level?e:t})}catch(e){return}}function c(){var e=l();e&&s!==e.t&&(s=e.t,t.report(r,e))}function h(e,s,o){s&&(n=a.validateN(o),t=s,r=a.reconstructFullMetricName(e,o),i=setInterval(c,n))}function p(){clearInterval(i),i=null,n=0,t=null,s=null}function d(e,t,n){e==="BufferLevel"&&(f[n]=t)}var e=undefined,t=undefined,n=undefined,r=undefined,i=undefined,s=undefined,o=this.context,a=(0,u["default"])(o).getInstance(),f=[];return e={initialize:h,reset:p,handleNewMetric:d},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(88),u=r(o);a.__dashjs_factory_name="BufferLevelHandler",n["default"]=s["default"].getClassFactory(a),t.exports=n["default"]},{10:10,88:88}],82:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){function i(){r.off(u["default"].METRICS_INITIALISATION_COMPLETE,i,this),r.trigger(u["default"].BECAME_REPORTING_PLAYER)}function s(e,t){t&&(n=t,r.on(u["default"].METRICS_INITIALISATION_COMPLETE,i,this))}function o(){n=null}function a(e,t){e==="DVBErrors"&&n&&n.report(e,t)}var t=undefined,n=undefined,r=e.eventBus;return t={initialize:s,reset:o,handleNewMetric:a},t}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(74),u=r(o);n["default"]=s["default"].getClassFactory(a),t.exports=n["default"]},{10:10,74:74}],83:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){function r(e,r){t=e,n=r}function i(){n=null,t=undefined}function s(e,r){e===t&&n&&n.report(t,r)}var e=undefined,t=undefined,n=undefined;return e={initialize:r,reset:i,handleNewMetric:s},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="GenericMetricHandler",n["default"]=s["default"].getClassFactory(o),t.exports=n["default"]},{10:10}],84:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){function f(){var e=o;e.length&&t&&t.report(i,e),o=[]}function l(e,o,u,l){o&&(n=a.validateN(u),t=o,l&&l.length&&(r=l),i=a.reconstructFullMetricName(e,u,l),s=setInterval(f,n))}function c(){clearInterval(s),s=null,n=null,r=null,o=[],t=null}function h(e,t){e==="HttpList"&&(!r||r===t.type)&&o.push(t)}var e=undefined,t=undefined,n=undefined,r=undefined,i=undefined,s=undefined,o=[],a=(0,u["default"])(this.context).getInstance();return e={initialize:l,reset:c,handleNewMetric:h},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(88),u=r(o);a.__dashjs_factory_name="HttpListHandler",n["default"]=s["default"].getClassFactory(a),t.exports=n["default"]},{10:10,88:88}],85:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){function s(e,i){var s;try{s=t[e.schemeIdUri](n).create(),s.initialize(e,i)}catch(o){s=null,r("ReportingFactory: could not create Reporting with schemeIdUri "+e.schemeIdUri+" ("+o.message+")")}return s}function o(e,n){t[e]=n}function a(e){delete t[e]}var t={"urn:dvb:dash:reporting:2014":u["default"]},n=this.context,r=e.log,i=undefined;return i={create:s,register:o,unregister:a},i}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(86),u=r(o);a.__dashjs_factory_name="ReportingFactory",n["default"]=s["default"].getSingletonFactory(a),t.exports=n["default"]},{10:10,86:86}],86:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function l(){function p(e,t,n){var r=new XMLHttpRequest,i=function(){var i=h.indexOf(r);if(i===-1)return;h.splice(i,1),r.status>=200&&r.status<300?t&&t():n&&n()};h.push(r);try{r.open("GET",e),r.onloadend=i,r.onerror=i,r.send()}catch(s){r.onerror()}}function d(e,t){Array.isArray(t)||(t=[t]),s&&l.isEnabled()&&t.forEach(function(t){var r=n.serialise(t);i&&e!=="DVBErrors"&&(r="metricname="+e+"&"+r),r=a+"?"+r,p(r,null,function(){s=!1})})}function v(e,t){var n;l=t,a=e["dvb:reportingUrl"];if(!a)throw new Error("required parameter missing (dvb:reportingUrl)");o||(n=e["dvb:probability"]||e["dvb:priority"]||0,n&&(n===1e3||n/1e3>=r.random())&&(s=!0),o=!0)}function m(){c||(h.forEach(function(e){return e.abort()}),h=[]),o=!1,s=!1,a=null,l=null}var e=undefined,t=this.context,n=(0,u["default"])(t).getInstance(),r=(0,f["default"])(t).getInstance(),i=!0,s=!1,o=!1,a=null,l=null,c=!0,h=[];return e={report:d,initialize:v,reset:m},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(90),u=r(o),a=e(91),f=r(a);l.__dashjs_factory_name="DVBReporting",n["default"]=s["default"].getClassFactory(l),t.exports=n["default"]},{10:10,90:90,91:91}],87:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function d(e){function o(e){var t=new s["default"];if(!i)return;for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.mpdurl||(t.mpdurl=i.originalUrl||i.url),t.terror||(t.terror=new Date),r.addDVBErrors(t)}function a(e){if(e.error)return;i=e.manifest}function l(e){o({errorcode:s["default"].BASE_URL_CHANGED,servicelocation:e.entry})}function h(){o({errorcode:s["default"].BECAME_REPORTER})}function p(e){(e.responsecode===0||e.responsecode>=400||e.responsecode<100||e.responsecode>=600)&&o({errorcode:e.responsecode||s["default"].CONNECTION_ERROR,url:e.url,terror:e.tresponse,servicelocation:e._serviceLocation})}function d(e){switch(e.metric){case"HttpList":p(e.value);break;default:}}function v(e){var t=e.error?e.error.code:0,n;switch(t){case MediaError.MEDIA_ERR_NETWORK:n=s["default"].CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:n=s["default"].CORRUPT_MEDIA_OTHER;break;default:return}o({errorcode:n})}function m(){n.on(u["default"].MANIFEST_UPDATED,a,t),n.on(u["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,l,t),n.on(f["default"].METRIC_ADDED,d,t),n.on(f["default"].METRIC_UPDATED,d,t),n.on(f["default"].PLAYBACK_ERROR,v,t),n.on(c["default"].BECAME_REPORTING_PLAYER,h,t)}function g(){n.off(u["default"].MANIFEST_UPDATED,a,t),n.off(u["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,l,t),n.off(f["default"].METRIC_ADDED,d,t),n.off(f["default"].METRIC_UPDATED,d,t),n.off(f["default"].PLAYBACK_ERROR,v,t),n.off(c["default"].BECAME_REPORTING_PLAYER,h,t)}var t=undefined,n=e.eventBus,r=e.metricsModel,i=undefined;return t={initialise:m,reset:g},m(),t}Object.defineProperty(n,"__esModule",{value:!0});var i=e(92),s=r(i),o=e(13),u=r(o),a=e(53),f=r(a),l=e(74),c=r(l),h=e(10),p=r(h);d.__dashjs_factory_name="DVBErrorsTranslator",n["default"]=p["default"].getSingletonFactory(d),t.exports=n["default"]},{10:10,13:13,53:53,74:74,92:92}],88:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){return{reconstructFullMetricName:function(t,n,r){var i=t;return n&&(i+="("+n,r&&r.length&&(i+=","+r),i+=")"),i},validateN:function(t){if(!t)throw new Error("missing n");if(isNaN(t))throw new Error("n is NaN");if(t<0)throw new Error("n must be positive");return t}}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="HandlerHelpers",n["default"]=s["default"].getSingletonFactory(o),t.exports=n["default"]},{10:10}],89:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function h(e){function r(e,t,r){var i=n.getMpd(e),s,o=0,u;return t?o=i.availabilityStartTime.getTime()/1e3:(s=this.getRegularPeriods(e,i),s.length&&(o=s[0].start)),u=o,r&&r.hasOwnProperty("starttime")&&(u+=r.starttime),u}function i(e){var t=[];return e.Metrics_asArray&&e.Metrics_asArray.forEach(function(i){var o=new s["default"],a=n.getIsDynamic(e);if(!i.hasOwnProperty("metrics"))return;o.metrics=i.metrics,i.Range_asArray&&i.Range_asArray.forEach(function(t){var i=new u["default"];i.starttime=r(e,a,t),t.hasOwnProperty("duration")?i.duration=t.duration:i.duration=n.getDuration(e),i._useWallClockTime=a,o.Range.push(i)});if(!i.Reporting_asArray)return;i.Reporting_asArray.forEach(function(e){var t=new f["default"];if(!e.hasOwnProperty("schemeIdUri"))return;t.schemeIdUri=e.schemeIdUri;for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);o.Reporting.push(t)}),t.push(o)}),t}var t=undefined,n=e.dashManifestModel;return t={getMetrics:i},t}Object.defineProperty(n,"__esModule",{value:!0});var i=e(93),s=r(i),o=e(94),u=r(o),a=e(95),f=r(a),l=e(10),c=r(l);h.__dashjs_factory_name="ManifestParsing",n["default"]=c["default"].getSingletonFactory(h),t.exports=n["default"]},{10:10,93:93,94:94,95:95}],90:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){function e(t){var n=[],r=[],i,s;for(i in t)if(t.hasOwnProperty(i)&&i.indexOf("_")!==0){s=t[i];if(s===undefined||s===null)s="";if(Array.isArray(s)){if(!s.length)continue;r=[],s.forEach(function(t){var n=Object.prototype.toString.call(t).slice(8,-1)!=="Object";r.push(n?t:e(t))}),s=r.map(encodeURIComponent).join(",")}else typeof s=="string"?s=encodeURIComponent(s):s instanceof Date?s=s.toISOString():typeof s=="number"&&(s=Math.round(s));n.push(i+"="+s)}return n.join("&")}return{serialise:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="MetricSerialiser",n["default"]=s["default"].getSingletonFactory(o),t.exports=n["default"]},{10:10}],91:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){function u(){e&&(i||(i=new t(r)),e.getRandomValues(i),s=0)}function a(t,r){var o;return t||(t=0),r||(r=1),e?(s===i.length&&u(),o=i[s]/n,s+=1):o=Math.random(),o*(r-t)+t}var e=window.crypto||window.msCrypto,t=Uint32Array,n=Math.pow(2,t.BYTES_PER_ELEMENT*8)-1,r=10,i=undefined,s=undefined,o=undefined;return o={random:a},u(),o}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="RNG",n["default"]=s["default"].getSingletonFactory(o),t.exports=n["default"]},{10:10}],92:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};i.SSL_CONNECTION_FAILED_PREFIX="SSL",i.DNS_RESOLUTION_FAILED="C00",i.HOST_UNREACHABLE="C01",i.CONNECTION_REFUSED="C02",i.CONNECTION_ERROR="C03",i.CORRUPT_MEDIA_ISOBMFF="M00",i.CORRUPT_MEDIA_OTHER="M01",i.BASE_URL_CHANGED="F00",i.BECAME_REPORTER="S00",n["default"]=i,t.exports=n["default"]},{}],93:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.metrics="",this.Range=[],this.Reporting=[]};n["default"]=i,t.exports=n["default"]},{}],94:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.starttime=0,this.duration=Infinity,this._useWallClockTime=!1};n["default"]=i,t.exports=n["default"]},{}],95:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.schemeIdUri="",this.value=""};n["default"]=i,t.exports=n["default"]},{}],96:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(){function s(){t=new h}function u(e,t,n){var s=r.getBaseURLsFromElement(n);e[t]?i.areSimpleEquivalent(s,e[t].data.baseUrls)||(e[t].data.baseUrls=s,e[t].data.selectedIdx=c):e[t]=new h(s)}function f(e){var n=r.getBaseURLsFromElement(e);i.areSimpleEquivalent(n,t.data.baseUrls)||(t.data.baseUrls=n,t.data.selectedIdx=c),e.Period_asArray&&e.Period_asArray.forEach(function(e,n){u(t.children,n,e),e.AdaptationSet_asArray&&e.AdaptationSet_asArray.forEach(function(e,i){u(t.children[n].children,i,e),e.Representation_asArray&&e.Representation_asArray.sort(r.getRepresentationSortFunction()).forEach(function(e,r){u(t.children[n].children[i].children,r,e)})})})}function l(e,n){var r=n||t;e(r.data),r.children&&r.children.forEach(function(t){return l(e,t)})}function p(e){l(function(t){isNaN(t.selectedIdx)||e===t.baseUrls[t.selectedIdx].serviceLocation&&(t.selectedIdx=c)})}function d(e){f(e)}function v(){t=new h}function m(e){var n=t,r=[n.data];return e.forEach(function(e){n=n.children[e],n&&r.push(n.data)}),r.filter(function(e){return e.baseUrls.length})}var e=undefined,t=undefined,n=this.context,r=(0,o["default"])(n).getInstance(),i=(0,a["default"])(n).getInstance();return e={reset:v,update:d,getForPath:m,invalidateSelectedIndexes:p},s(),e}Object.defineProperty(n,"__esModule",{value:!0});var s=e(22),o=r(s),u=e(156),a=r(u),f=e(10),l=r(f),c=NaN,h=function d(e,t){i(this,d),this.data={baseUrls:e||null,selectedIdx:t||c},this.children=[]};p.__dashjs_factory_name="BaseURLTreeModel",n["default"]=l["default"].getClassFactory(p),t.exports=n["default"]},{10:10,156:156,22:22}],97:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function y(e){function m(){a=null,h=null,f=[],l=[],r.on(u["default"].LOADING_COMPLETED,A,o)}function y(e){h=e}function b(e){var t=function(t,n){return t.action===c["default"].ACTION_COMPLETE&&t.action===n.action},n=function(t,n){return!isNaN(t.index)&&t.startTime===n.startTime&&t.adaptationIndex===n.adaptationIndex},r=function(t,n){return isNaN(t.index)&&isNaN(n.index)&&t.quality===n.quality},i=function(s){var o=!1;return s.some(function(i){if(n(e,i)||r(e,i)||t(e,i))return o=!0,o}),o};return i(f)}function w(e){var t=e.state instanceof Array?e.state:[e.state],n=[];return t.forEach(function(t){var r=k(t);n=n.concat(C(r,e))}),n}function E(e){f=f.filter(function(t){return isNaN(t.startTime)||t.startTime>=e})}function S(){h.abort(),l=[]}function x(e){switch(e.action){case c["default"].ACTION_COMPLETE:f.push(e),L(e,v),r.trigger(u["default"].STREAM_COMPLETED,{request:e,fragmentModel:this});break;case c["default"].ACTION_DOWNLOAD:L(e,d),l.push(e),T(e);break;default:n("Unknown request action.")}}function T(e){r.trigger(u["default"].FRAGMENT_LOADING_STARTED,{sender:o,request:e}),h.load(e)}function N(e,t,n){var r=e.length-1;for(var i=r;i>=0;i--){var s=e[i],o=s.startTime,u=o+s.duration;n=n!==undefined?n:s.duration/2;if(!isNaN(o)&&!isNaN(u)&&t+n>=o&&t-n<u||isNaN(o)&&isNaN(t))return s}return null}function C(e,t){return t.hasOwnProperty("time")?[N(e,t.time,t.threshold)]:e.filter(function(e){for(var n in t){if(n==="state")continue;if(t.hasOwnProperty(n)&&e[n]!=t[n])return!1}return!0})}function k(e){var t=undefined;switch(e){case d:t=l;break;case v:t=f;break;default:t=[]}return t}function L(e,t){i.addSchedulingInfo(e.mediaType,new Date,e.type,e.startTime,e.availabilityStartTime,e.duration,e.quality,e.range,t),i.addRequestsQueue(e.mediaType,l,f)}function A(e){if(e.sender!==h)return;l.splice(l.indexOf(e.request),1),e.response&&!e.error&&f.push(e.request),L(e.request,e.error?g:v),r.trigger(u["default"].FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this})}function O(){r.off(u["default"].LOADING_COMPLETED,A,this),h&&(h.reset(),h=null),f=[],l=[]}var t=this.context,n=(0,p["default"])(t).getInstance().log,r=(0,s["default"])(t).getInstance(),i=e.metricsModel,o=undefined,a=undefined,f=undefined,l=undefined,h=undefined;return o={setLoader:y,getRequests:w,isFragmentLoaded:b,removeExecutedRequestsBeforeTime:E,abortRequests:S,executeRequest:x,reset:O},m(),o}Object.defineProperty(n,"__esModule",{value:!0});var i=e(9),s=r(i),o=e(13),u=r(o),a=e(10),f=r(a),l=e(166),c=r(l),h=e(8),p=r(h),d="loading",v="executed",m="canceled",g="failed";y.__dashjs_factory_name="FragmentModel";var b=f["default"].getClassFactory(y);b.FRAGMENT_MODEL_LOADING=d,b.FRAGMENT_MODEL_EXECUTED=v,b.FRAGMENT_MODEL_CANCELED=m,b.FRAGMENT_MODEL_FAILED=g,n["default"]=b,t.exports=n["default"]},{10:10,13:13,166:166,8:8,9:9}],98:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function l(){function i(){return r}function o(e){r=e,e&&t.trigger(u["default"].MANIFEST_LOADED,{data:e})}var e=this.context,t=(0,s["default"])(e).getInstance(),n=undefined,r=undefined;return n={getValue:i,setValue:o},n}Object.defineProperty(n,"__esModule",{value:!0});var i=e(9),s=r(i),o=e(13),u=r(o),a=e(10),f=r(a);l.__dashjs_factory_name="ManifestModel",n["default"]=f["default"].getSingletonFactory(l),t.exports=n["default"]},{10:10,13:13,9:9}],99:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(){function $(){var e,m;r=[],n=!1,t=!0,a=!0,W=!1,V=!1,_={enabled:!0,ttl:l},D={enabled:!0,ttl:c},s=f,o=undefined,O=d,M=v,P=NaN,H=y,B=b,j=w,F=E,I=h,q=p,z=L,X={"default":A},R=(e={},i(e,u.HTTPRequest.MPD_TYPE,T),i(e,u.HTTPRequest.XLINK_EXPANSION_TYPE,C),i(e,u.HTTPRequest.MEDIA_SEGMENT_TYPE,S),i(e,u.HTTPRequest.INIT_SEGMENT_TYPE,S),i(e,u.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,S),i(e,u.HTTPRequest.INDEX_SEGMENT_TYPE,S),i(e,u.HTTPRequest.OTHER_TYPE,S),e),U=(m={},i(m,u.HTTPRequest.MPD_TYPE,N),i(m,u.HTTPRequest.XLINK_EXPANSION_TYPE,k),i(m,u.HTTPRequest.MEDIA_SEGMENT_TYPE,x),i(m,u.HTTPRequest.INIT_SEGMENT_TYPE,x),i(m,u.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,x),i(m,u.HTTPRequest.INDEX_SEGMENT_TYPE,x),i(m,u.HTTPRequest.OTHER_TYPE,x),m)}function J(e){W=e}function K(){return W}function Q(e){I=e}function G(){return I}function Y(e){q=e}function Z(){return q}function et(e){P=e}function tt(){return isNaN(P)?V?g:m:P}function nt(e){H=e}function rt(){return H}function it(e){B=e}function st(){return B}function ot(e){j=e}function ut(){return j}function at(e){F=e}function ft(){return F}function lt(e){O=e}function ct(){return O}function ht(e,t){_.enabled=e,t!==undefined&&!isNaN(t)&&typeof t=="number"&&(_.ttl=t)}function pt(){return _}function dt(e,t){D.enabled=e,t!==undefined&&!isNaN(t)&&typeof t=="number"&&(D.ttl=t)}function vt(){return D}function mt(e){M=e}function gt(){return M}function yt(e){R[u.HTTPRequest.MEDIA_SEGMENT_TYPE]=e}function bt(e,t){R[e]=t}function wt(){return R[u.HTTPRequest.MEDIA_SEGMENT_TYPE]}function Et(e){return R[e]}function St(e){U[u.HTTPRequest.MEDIA_SEGMENT_TYPE]=e}function xt(e,t){U[e]=t}function Tt(){return U[u.HTTPRequest.MEDIA_SEGMENT_TYPE]}function Nt(e){return U[e]}function Ct(e){z=e}function kt(){return z}function Lt(e){a=e}function At(){return a}function Ot(e){s=e}function Mt(e){o=e}function _t(){return s}function Dt(){return o}function Pt(e){t=e}function Ht(){return t}function Bt(e){n=e}function jt(){return n}function Ft(e){r=e}function It(){return r}function qt(e,t){e?X[e]=!!t:Object.keys(X).forEach(function(e){qt(e,t)})}function Rt(e){var t=X[e];return t===undefined?X["default"]:t}function Ut(){return V}function zt(e){V=e}function Wt(){}var e=undefined,t=undefined,n=undefined,r=undefined,s=undefined,o=undefined,a=undefined,O=undefined,M=undefined,_=undefined,D=undefined,P=undefined,H=undefined,B=undefined,j=undefined,F=undefined,I=undefined,q=undefined,R=undefined,U=undefined,z=undefined,W=undefined,X=undefined,V=undefined;return e={setBufferOccupancyABREnabled:J,getBufferOccupancyABREnabled:K,setBandwidthSafetyFactor:Q,getBandwidthSafetyFactor:G,setAbandonLoadTimeout:Y,getAbandonLoadTimeout:Z,setLastBitrateCachingInfo:ht,getLastBitrateCachingInfo:pt,setLastMediaSettingsCachingInfo:dt,getLastMediaSettingsCachingInfo:vt,setStableBufferTime:et,getStableBufferTime:tt,setBufferTimeAtTopQuality:nt,getBufferTimeAtTopQuality:rt,setBufferTimeAtTopQualityLongForm:it,getBufferTimeAtTopQualityLongForm:st,setLongFormContentDurationThreshold:ot,getLongFormContentDurationThreshold:ut,setRichBufferThreshold:at,getRichBufferThreshold:ft,setBufferToKeep:lt,getBufferToKeep:ct,setBufferPruningInterval:mt,getBufferPruningInterval:gt,setFragmentRetryAttempts:yt,getFragmentRetryAttempts:wt,setRetryAttemptsForType:bt,getRetryAttemptsForType:Et,setFragmentRetryInterval
:St,getFragmentRetryInterval:Tt,setRetryIntervalForType:xt,getRetryIntervalForType:Nt,setWallclockTimeUpdateInterval:Ct,getWallclockTimeUpdateInterval:kt,setScheduleWhilePaused:Lt,getScheduleWhilePaused:At,getUseSuggestedPresentationDelay:jt,setUseSuggestedPresentationDelay:Bt,setLiveDelayFragmentCount:Ot,getLiveDelayFragmentCount:_t,getLiveDelay:Dt,setLiveDelay:Mt,setUseManifestDateHeaderTimeSource:Pt,getUseManifestDateHeaderTimeSource:Ht,setUTCTimingSources:Ft,getUTCTimingSources:It,setXHRWithCredentialsForType:qt,getXHRWithCredentialsForType:Rt,setFastSwitchEnabled:zt,getFastSwitchEnabled:Ut,reset:Wt},$(),e}Object.defineProperty(n,"__esModule",{value:!0});var s=e(10),o=r(s),u=e(182),a={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso"},f=4,l=36e4,c=36e4,h=.9,p=1e4,d=30,v=30,m=12,g=20,y=30,b=60,w=600,E=20,S=3,x=1e3,T=3,N=500,C=1,k=500,L=50,A=!1;O.__dashjs_factory_name="MediaPlayerModel";var M=o["default"].getSingletonFactory(O);M.DEFAULT_UTC_TIMING_SOURCE=a,n["default"]=M,t.exports=n["default"]},{10:10,182:182}],100:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function _(){function f(){o={}}function c(e){if(!e)return;e.adapter&&(i=e.adapter)}function p(){n.trigger(k["default"].METRICS_CHANGED)}function v(e){n.trigger(k["default"].METRIC_CHANGED,{mediaType:e}),p()}function g(e,t,r){n.trigger(k["default"].METRIC_UPDATED,{mediaType:e,metric:t,value:r}),v(e)}function w(e,t,r){n.trigger(k["default"].METRIC_ADDED,{mediaType:e,metric:t,value:r}),v(e)}function S(e){delete o[e],v(e)}function T(){o={},p()}function C(e){return o.hasOwnProperty(e)?o[e]:null}function L(e){var t;return o.hasOwnProperty(e)?t=o[e]:(t=new s["default"],o[e]=t),t}function A(t,n,r){var i=L(t);i[n].push(r),i[n].length>e&&i[n].shift()}function O(e,t,n,r,s,o){var a=new u["default"];return a.tcpid=t,a.dest=n,a.topen=r,a.tclose=s,a.tconnect=o,H(e,i.metricsList.TCP_CONNECTION,a),a}function _(e,t,n,r){var i=new a.HTTPRequestTrace;return i.s=t,i.d=n,i.b=r,e.trace.push(i),e.interval||(e.interval=0),e.interval+=n,i}function D(e,t,n,r,s,o,u,f,l,c,h,p,d,v){var m=new a.HTTPRequest;return s&&s!==r&&(D(e,null,n,r,null,null,u,f,null,null,null,p,null,null),m.actualurl=s),m.tcpid=t,m.type=n,m.url=r,m.range=u,m.trequest=f,m.tresponse=l,m.responsecode=h,m._tfinish=c,m._stream=e,m._mediaduration=p,m._responseHeaders=d,m._serviceLocation=o,v?v.forEach(function(e){_(m,e.s,e.d,e.b)}):(delete m.interval,delete m.trace),H(e,i.metricsList.HTTP_REQUEST,m),m}function P(e,t,n,r,s){var o=new l["default"];return o.t=t,o.mt=n,o.to=r,s?o.lto=s:delete o.lto,H(e,i.metricsList.TRACK_SWITCH,o),o}function H(e,t,n){A(e,t,n),w(e,t,n)}function B(e,t,n){var r=new h["default"];return r.t=t,r.level=n,H(e,i.metricsList.BUFFER_LEVEL,r),r}function j(e,t,n){var r=new d["default"];return r.target=n,r.state=t,H(e,i.metricsList.BUFFER_STATE,r),r}function F(e,t,n,r){var s=new m["default"];return s.time=t,s.range=r,s.manifestInfo=n,H(e,i.metricsList.DVR_INFO,s),s}function I(e,t){var n=new y["default"],r=L(e).DroppedFrames;return n.time=t.creationTime,n.droppedFrames=t.droppedVideoFrames,r.length>0&&r[r.length-1]==n?r[r.length-1]:(H(e,i.metricsList.DROPPED_FRAMES,n),n)}function q(e,t,n,r,s,o,u,a,f){var l=new E["default"];return l.mediaType=e,l.t=t,l.type=n,l.startTime=r,l.availabilityStartTime=s,l.duration=o,l.quality=u,l.range=a,l.state=f,H(e,i.metricsList.SCHEDULING_INFO,l),l}function R(e,t,n){var r=new N["default"];r.loadingRequests=t,r.executedRequests=n,L(e).RequestsQueue=r,w(e,i.metricsList.REQUESTS_QUEUE,r)}function U(e,t,n,r,s,o,u,a,f,l){var c=new b.ManifestUpdate;return c.mediaType=e,c.type=t,c.requestTime=n,c.fetchTime=r,c.availabilityStartTime=s,c.presentationStartTime=o,c.clientTimeOffset=u,c.currentTime=a,c.buffered=f,c.latency=l,A("stream","ManifestUpdate",c),w(e,i.metricsList.MANIFEST_UPDATE,c),c}function z(e,t){if(e){for(var n in t)e[n]=t[n];g(e.mediaType,i.metricsList.MANIFEST_UPDATE,e)}}function W(e,t,n,r,s){if(e){var o=new b.ManifestUpdateStreamInfo;return o.id=t,o.index=n,o.start=r,o.duration=s,e.streamInfo.push(o),g(e.mediaType,i.metricsList.MANIFEST_UPDATE_STREAM_INFO,e),o}return null}function X(e,t,n,r,s,o,u,a){if(e){var f=new b.ManifestUpdateTrackInfo;return f.id=t,f.index=n,f.streamIndex=r,f.mediaType=s,f.startNumber=u,f.fragmentInfoType=a,f.presentationTimeOffset=o,e.trackInfo.push(f),g(e.mediaType,i.metricsList.MANIFEST_UPDATE_TRACK_INFO,e),f}return null}function V(e){var t="stream";return e.trace&&Array.isArray(e.trace)?e.trace.forEach(function(e){e.hasOwnProperty("subreplevel")&&!e.subreplevel&&delete e.subreplevel}):delete e.trace,H(t,i.metricsList.PLAY_LIST,e),e}function $(e){var t="stream";return H(t,i.metricsList.DVB_ERRORS,e),e}function J(e,t){var n=new M["default"];return n._s=t,L(e).BolaState=[n],w(e,"BolaState",n),n}var e=1e3,t=this.context,n=(0,x["default"])(t).getInstance(),r=undefined,i=undefined,o=undefined;return r={metricsChanged:p,metricChanged:v,metricUpdated:g,metricAdded:w,clearCurrentMetricsForType:S,clearAllCurrentMetrics:T,getReadOnlyMetricsFor:C,getMetricsFor:L,addTcpConnection:O,addHttpRequest:D,addRepresentationSwitch:P,addBufferLevel:B,addBufferState:j,addDVRInfo:F,addDroppedFrames:I,addSchedulingInfo:q,addRequestsQueue:R,addManifestUpdate:U,updateManifestUpdateInfo:z,addManifestUpdateStreamInfo:W,addManifestUpdateRepresentationInfo:X,addPlayList:V,addDVBErrors:$,updateBolaState:J,setConfig:c},f(),r}Object.defineProperty(n,"__esModule",{value:!0});var i=e(171),s=r(i),o=e(188),u=r(o),a=e(182),f=e(185),l=r(f),c=e(178),h=r(c),p=e(179),d=r(p),v=e(180),m=r(v),g=e(181),y=r(g),b=e(183),w=e(187),E=r(w),S=e(9),x=r(S),T=e(186),N=r(T),C=e(13),k=r(C),L=e(10),A=r(L),O=e(177),M=r(O);_.__dashjs_factory_name="MetricsModel",n["default"]=A["default"].getSingletonFactory(_),t.exports=n["default"]},{10:10,13:13,171:171,177:177,178:178,179:179,180:180,181:181,182:182,183:183,185:185,186:186,187:187,188:188,9:9}],101:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){function i(){t=new s["default"],n=[],r=!1}function o(){return t}function u(){return n}function a(){return r}function f(e){function c(e,t,n,r){var i=r[0].split(/[=]/);return r.push({key:i[0],value:i[1]}),r.shift(),r}function h(e,t,r){return t>0&&(f&&n.length===0?n=r[t].split(/[&]/):l&&(i=r[t].split(/[&]/))),r}if(!e)return null;var i=[],s,o=new RegExp(/[?]/),u=new RegExp(/[#]/),a=new RegExp(/^(https:)?\/\//i),f=o.test(e),l=u.test(e);return r=a.test(e),s=e.split(/[?#]/).map(h),n.length>0&&(n=n.reduce(c,null)),i.length>0&&(i=i.reduce(c,null),i.forEach(function(e){t[e.key]=e.value})),e}var e=undefined,t=undefined,n=undefined,r=undefined;return e={initialize:i,parseURI:f,getURIFragmentData:o,getURIQueryData:u,isManifestHTTPS:a},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(176),s=r(i),o=e(10),u=r(o);a.__dashjs_factory_name="URIQueryAndFragmentModel",n["default"]=u["default"].getSingletonFactory(a),t.exports=n["default"]},{10:10,176:176}],102:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){function o(){i=[]}function u(){t.playbackRate=s||1,t.removeEventListener("canplay",u)}function a(e){if(!t)return;t.readyState<=2&&e>0?t.addEventListener("canplay",u):t.playbackRate=e}function f(e){if(t.currentTime==e)return;try{t.currentTime=e}catch(n){t.readyState===0&&n.code===n.INVALID_STATE_ERR&&setTimeout(function(){t.currentTime=e},400)}}function l(){return t}function c(e){t=e,t.preload="auto"}function h(e){e?t.src=e:(t.removeAttribute("src"),t.load())}function p(){return t.src}function d(){return r}function v(e){r=e}function m(){return n}function g(e){n=e,n.style.position="absolute",n.style.display="flex",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top=0,n.style.left=0}function y(e,t){S(e,t)}function b(){return i.length>0}function w(e){var n=undefined;if(e===null||t.seeking||i.indexOf(e)!==-1)return;i.push(e),i.length===1&&(n=document.createEvent("Event"),n.initEvent("waiting",!0,!1),s=t.playbackRate,a(0),t.dispatchEvent(n))}function E(e){var n=i.indexOf(e),r=undefined;if(e===null)return;n!==-1&&i.splice(n,1),b()===!1&&t.playbackRate===0&&(a(s||1),t.paused||(r=document.createEvent("Event"),r.initEvent("playing",!0,!1),t.dispatchEvent(r)))}function S(e,t){t?w(e):E(e)}function x(){var e="webkitDroppedFrameCount"in t&&"webkitDecodedFrameCount"in t,n="getVideoPlaybackQuality"in t,r=null;return n?r=t.getVideoPlaybackQuality():e&&(r={droppedVideoFrames:t.webkitDroppedFrameCount,totalVideoFrames:t.webkitDroppedFrameCount+t.webkitDecodedFrameCount,creationTime:new Date}),r}var e=undefined,t=undefined,n=undefined,r=undefined,i=undefined,s=undefined;return e={initialize:o,setCurrentTime:f,setStallState:y,getElement:l,setElement:c,setSource:h,getSource:p,getVideoContainer:d,setVideoContainer:v,getTTMLRenderingDiv:m,setTTMLRenderingDiv:g,getPlaybackQuality:x},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="VideoModel",n["default"]=s["default"].getSingletonFactory(o),t.exports=n["default"]},{10:10}],103:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(1),u=i(o),a=function(){function e(){s(this,e)}return r(e,null,[{key:"findCencContentProtection",value:function(t){var n=null;for(var r=0;r<t.length;++r){var i=t[r];i.schemeIdUri.toLowerCase()==="urn:mpeg:dash:mp4protection:2011"&&i.value.toLowerCase()==="cenc"&&(n=i)}return n}},{key:"getPSSHData",value:function(t){var n=8,r=new DataView(t),i=r.getUint8(n);return n+=20,i>0&&(n+=4+16*r.getUint32(n)),n+=4,t.slice(n)}},{key:"getPSSHForKeySystem",value:function(n,r){var i=e.parsePSSHList(r);return i.hasOwnProperty(n.uuid.toLowerCase())?i[n.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(t){return"pssh"in t?u["default"].decodeArray(t.pssh.__text).buffer:null}},{key:"parsePSSHList",value:function(t){if(t===null)return[];var n=new DataView(t),r=!1,i={},s=0;while(!r){var o,u,a,f,l,c=s;if(s>=n.buffer.byteLength)break;o=n.getUint32(s),u=s+o,s+=4;if(n.getUint32(s)!==1886614376){s=u;continue}s+=4,a=n.getUint8(s);if(a!==0&&a!==1){s=u;continue}s++,s+=3,f="";var h,p;for(h=0;h<4;h++)p=n.getUint8(s+h).toString(16),f+=p.length===1?"0"+p:p;s+=4,f+="-";for(h=0;h<2;h++)p=n.getUint8(s+h).toString(16),f+=p.length===1?"0"+p:p;s+=2,f+="-";for(h=0;h<2;h++)p=n.getUint8(s+h).toString(16),f+=p.length===1?"0"+p:p;s+=2,f+="-";for(h=0;h<2;h++)p=n.getUint8(s+h).toString(16),f+=p.length===1?"0"+p:p;s+=2,f+="-";for(h=0;h<6;h++)p=n.getUint8(s+h).toString(16),f+=p.length===1?"0"+p:p;s+=6,f=f.toLowerCase(),l=n.getUint32(s),s+=4,i[f]=n.buffer.slice(c,u),s=u}return i}}]),e}();n["default"]=a,t.exports=n["default"]},{1:1}],104:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function w(){function n(e){var n=null,i=(0,u["default"])(t).getInstance();i.setConfig({log:e.log}),i.initialize();var o=r(e);return!n&&o&&(n=(0,s["default"])(t).create({protectionModel:o,protectionKeyController:i,adapter:e.adapter,eventBus:e.eventBus,log:e.log}),e.capabilities.setEncryptedMediaSupported(!0)),n}function r(e){var n=e.log,r=e.eventBus,s=e.videoModel.getElement();return s.onencrypted!==undefined&&s.mediaKeys!==undefined&&navigator.requestMediaKeySystemAccess!==undefined&&typeof navigator.requestMediaKeySystemAccess=="function"?(n("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,c["default"])(t).create({log:n,eventBus:r})):i(s,b)?(n("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,p["default"])(t).create({log:n,eventBus:r,api:i(s,b)})):i(s,y)?(n("EME detected on this user agent! (ProtectionModel_01b)"),(0,v["default"])(t).create({log:n,eventBus:r,api:i(s,y)})):(n("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(typeof e[r[Object.keys(r)[0]]]!="function")continue;return r}return null}var e=undefined,t=this.context;return e={createProtectionSystem:n},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(106),s=r(i),o=e(107),u=r(o),a=e(105),f=r(a),l=e(112),c=r(l),h=e(113),p=r(h),d=e(111),v=r(d),m=e(10),g=r(m),y=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],b=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];w.__dashjs_factory_name="Protection";var E=g["default"].getClassFactory(w);E.events=f["default"],n["default"]=E,t.exports=n["default"]},{10:10,105:105,106:106,107:107,111:111,112:112,113:113}],105:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,n,r){var i=!0;e:while(i){var s=t,o=n,u=r;i=!1,s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,o);if(a===undefined){var f=Object.getPrototypeOf(s);if(f===null)return undefined;t=f,n=o,r=u,i=!0,a=f=undefined;continue e}if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(u)}},u=e(14),a=i(u),f=function(e){function t(){s(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_SYSTEM_ACCESS_COMPLETE="keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}return o(t,e),t}(a["default"]),l=new f;n["default"]=l,t.exports=n["default"]},{14:14}],106:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function m(e){function E(){l=t.getKeySystems(),h=[],g=!1,y="temporary",b="",u["default"].extend(v["default"].events)}function S(e,n,i){if(!g){var s;!n&&!i&&(s=r.getStreamsInfo(e)[0]),p=n||(s?r.getMediaInfoForType(e,s,"audio"):null),d=i||(s?r.getMediaInfoForType(e,s,"video"):null);var o=d?d:p,u=t.getSupportedKeySystemsFromContentProtection(o.contentProtection);u&&u.length>0&&P(u,!0),g=!0}}function x(e){var r=s["default"].getPSSHForKeySystem(w,e);if(r){var a=n.getAllInitData();for(var f=0;f<a.length;f++)if(t.initDataEquals(r,a[f])){o("DRM: Ignoring initData because we have already seen it!");return}try{n.createKeySession(r,y)}catch(l){i.trigger(u["default"].KEY_SESSION_CREATED,{data:null,error:"Error creating key session! "+l.message})}}else i.trigger(u["default"].KEY_SESSION_CREATED,{data:null,error:"Selected key system is "+w.systemString+".  needkey/encrypted event contains no initData corresponding to that key system!"})}function T(e){n.loadKeySession(e)}function N(e){n.removeKeySession(e)}function C(e){n.closeKeySession(e)}function k(e){n.setServerCertificate(e)}function L(e){e?(n.setMediaElement(e),i.on(u["default"].NEED_KEY,j,this),i.on(u["default"].INTERNAL_KEY_MESSAGE,B,this)):e===null&&(n.setMediaElement(e),i.off(u["default"].NEED_KEY,j,this),i.off(u["default"].INTERNAL_KEY_MESSAGE,B,this))}function A(e){y=e}function O(e){b=e}function M(e){m=e}function _(){L(null),w=undefined,n&&(n.reset(),n=null)}function D(e){var t=null,n=e.systemString;return m&&(t=n in m?m[n]:null),t}function P(e,t){var r=this,s=[],a=[];d&&a.push(new f["default"](d.codec,b)),p&&s.push(new f["default"](p.codec,b));var l=new c["default"](s,a,"optional",y==="temporary"?"optional":"required",[y]),v=[],m;if(w){for(m=0;m<e.length;m++)if(w===e[m].ks){var g=function(){v.push({ks:e[m].ks,configs:[l]});var s=function a(n){i.off(u["default"].KEY_SYSTEM_ACCESS_COMPLETE,a,r),n.error?t||i.trigger(u["default"].KEY_SYSTEM_SELECTED,{error:"DRM: KeySystem Access Denied! -- "+n.error}):(o("DRM: KeySystem Access Granted"),i.trigger(u["default"].KEY_SYSTEM_SELECTED,{data:n.data}),x(e[m].initData))};return i.on(u["default"].KEY_SYSTEM_ACCESS_COMPLETE,s,r),n.requestKeySystemAccess(v),"break"}();if(g==="break")break}}else if(w===undefined){w=null,h.push(e);for(var E=0;E<e.length;E++)v.push({ks:e[E].ks,configs:[l]});var S,T=function C(e){i.off(u["default"].KEY_SYSTEM_ACCESS_COMPLETE,C,r),e.error?(w=undefined,i.off(u["default"].INTERNAL_KEY_SYSTEM_SELECTED,N,r),t||i.trigger(u["default"].KEY_SYSTEM_SELECTED,{data:null,error:"DRM: KeySystem Access Denied! -- "+e.error})):(S=e.data,o("DRM: KeySystem Access Granted ("+S.keySystem.systemString+")!  Selecting key system..."),n.selectKeySystem(S))},N=function k(e){i.off(u["default"].INTERNAL_KEY_SYSTEM_SELECTED,k,r),i.off(u["default"].KEY_SYSTEM_ACCESS_COMPLETE,T,r);if(!e.error){w=n.getKeySystem(),i.trigger(u["default"].KEY_SYSTEM_SELECTED,{data:S});for(var s=0;s<h.length;s++)for(m=0;m<h[s].length;m++)if(w===h[s][m].ks){x(h[s][m].initData);break}}else w=undefined,t||i.trigger(u["default"].KEY_SYSTEM_SELECTED,{data:null,error:"DRM: Error selecting key system! -- "+e.error})};i.on(u["default"].INTERNAL_KEY_SYSTEM_SELECTED,N,r),i.on(u["default"].KEY_SYSTEM_ACCESS_COMPLETE,T,r),n.requestKeySystemAccess(v)}else h.push(e)}function H(e,t){i.trigger(u["default"].LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function B(e){o("DRM: onKeyMessage");if(e.error){o(e.error);return}var r=e.data;i.trigger(u["default"].KEY_MESSAGE,{data:r});var a=r.messageType?r.messageType:"license-request",f=r.message,l=r.sessionToken,c=D(w),h=w.systemString,p=t.getLicenseServer(w,c,a),d={sessionToken:l,messageType:a};if(!p){o("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+l.getSessionID()),H(d);return}if(t.isClearKey(w)){var v=t.processClearKeyLicenseRequest(c,f);if(v){o("DRM: ClearKey license request handled by application!"),H(d),n.updateKeySession(l,v);return}}var m=new XMLHttpRequest,g=null;if(c&&c.serverURL){var y=c.serverURL;typeof y=="string"&&y!==""?g=y:typeof y=="object"&&y.hasOwnProperty(a)&&(g=y[a])}else c&&c.laURL&&c.laURL!==""?g=c.laURL:(g=w.getLicenseServerURLFromInitData(s["default"].getPSSHData(l.initData)),g||(g=e.data.laURL));g=p.getServerURLFromMessage(g,f,a);if(!g){H(d,"DRM: No license server URL specified!");return}m.open(p.getHTTPMethod(a),g,!0),m.responseType=p.getResponseType(h,a),m.onload=function(){this.status==200?(H(d),n.updateKeySession(l,p.getLicenseMessage(this.response,h,a))):H(d,"DRM: "+h+' update, XHR status is "'+this.statusText+'" ('+this.status+"), expected to be 200. readyState is "+this.readyState+".  Response is "+(this.response?p.getErrorResponse(this.response,h,a):"NONE"))},m.onabort=function(){H(d,"DRM: "+h+' update, XHR aborted. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)},m.onerror=function(){H(d,"DRM: "+h+' update, XHR error. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)};var b=function(t){var n;if(t)for(n in t)"authorization"===n.toLowerCase()&&(m.withCredentials=!0),m.setRequestHeader(n,t[n])};c&&b(c.httpRequestHeaders),b(w.getRequestHeadersFromMessage(f)),c&&c.withCredentials&&(m.withCredentials=!0),m.send(w.getLicenseRequestFromMessage(f))}function j(e){o("DRM: onNeedKey");if(e.key.initDataType!=="cenc"){o("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType);return}var n=e.key.initData;ArrayBuffer.isView(n)&&(n=n.buffer),o("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(n)));var r=t.getSupportedKeySystems(n,m);if(r.length===0){o("DRM: Received needkey event with initData, but we don't support any of the key systems!");return}P(r,!1)}var t=e.protectionKeyController,n=e.protectionModel,r=e.adapter,i=e.eventBus,o=e.log,a=undefined,l=undefined,h=undefined,p=undefined,d=undefined,m=undefined,g=undefined,y=undefined,b=undefined,w=undefined;return a={initialize:S,createKeySession:x,loadKeySession:T,removeKeySession:N,closeKeySession:C,setServerCertificate:k,setMediaElement:L,setSessionType:A,setRobustnessLevel:O,setProtectionData:M,reset:_},E(),a}Object.defineProperty(n,"__esModule",{value:!0});var i=e(103),s=r(i),o=e(13),u=r(o),a=e(124),f=r(a),l=e(123),c=r(l),h=e(10),p=r(h),d=e(104),v=r(d);m.__dashjs_factory_name="ProtectionController",n["default"]=p["default"].getClassFactory(m),t.exports=n["default"]},{10:10,103:103,104:104,123:123,124:124,13:13}],107:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function S(){function o(e){if(!e)return;e.log&&(n=e.log)}function a(){r=[];var t;t=(0,c["default"])(e).getInstance(),r.push(t),t=(0,f["default"])(e).getInstance(),r.push(t),t=(0,u["default"])(e).getInstance(),r.push(t),i=t}function l(){return r}function h(e){for(var t=0;t<r.length;t++)if(r[t].systemString===e)return r[t];return null}function d(e){return e===i}function m(e,t){if(e.byteLength===t.byteLength){var n=new Uint8Array(e),r=new Uint8Array(t);for(var i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}return!1}function y(e){var t,n,i,s,o=[];if(e)for(i=0;i<r.length;++i){n=r[i];for(s=0;s<e.length;++s){t=e[s];if(t.schemeIdUri.toLowerCase()===n.schemeIdURI){var u=n.getInitData(t);!u||o.push({ks:r[i],initData:u})}}}return o}function w(e,t){var n,i=[],o=s["default"].parsePSSHList(e);for(n=0;n<r.length;++n){var u=r[n].systemString,a=t?u in t:!0;r[n].uuid in o&&a&&i.push({ks:r[n],initData:o[r[n].uuid]})}return i}function E(t,n,r){if(r==="license-release"||r==="individualization-request")return null;var i=null;return n&&n.hasOwnProperty("drmtoday")?i=(0,p["default"])(e).getInstance():t.systemString==="com.widevine.alpha"?i=(0,g["default"])(e).getInstance():t.systemString==="com.microsoft.playready"?i=(0,v["default"])(e).getInstance():t.systemString==="org.w3.clearkey"&&(i=(0,b["default"])(e).getInstance()),i}function S(e,t){try{return i.getClearKeysFromProtectionData(e,t)}catch(r){return n("Failed to retrieve clearkeys from ProtectionData"),null}}var e=this.context,t=undefined,n=undefined,r=undefined,i=undefined;return t={initialize:a,isClearKey:d,initDataEquals:m,getKeySystems:l,getKeySystemBySystemString:h,getSupportedKeySystemsFromContentProtection:y,getSupportedKeySystems:w,getLicenseServer:E,processClearKeyLicenseRequest:S,setConfig:o},t}Object.defineProperty(n,"__esModule",{value:!0});var i=e(103),s=r(i),o=e(108),u=r(o),a=e(110),f=r(a),l=e(109),c=r(l),h=e(115),p=r(h),d=e(116),v=r(d),m=e(117),g=r(m),y=e(114),b=r(y),w=e(10),E=r(w);S.__dashjs_factory_name="ProtectionKeyController",n["default"]=E["default"].getSingletonFactory(S),t.exports=n["default"]},{10:10,103:103,108:108,109:109,110:110,114:114,115:115,116:116,117:117}],108:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function v(){function t(e,t){var n=null;if(e){var r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),i=[];for(var o=0;o<r.kids.length;o++){var a=r.kids[o],f=e.clearkeys.hasOwnProperty(a)?e.clearkeys[a]:null;if(!f)throw new Error("DRM: ClearKey keyID ("+a+") is not known!");i.push(new s["default"](a,f))}n=new u["default"](i)}return n}function n(e){return f["default"].parseInitDataFromContentProtection(e)}function r(){return null}function i(e){return new Uint8Array(e)}function o(){return null}var e=undefined;return e={uuid:h,schemeIdURI:d,systemString:p,getInitData:n,getRequestHeadersFromMessage:r,getLicenseRequestFromMessage:i,getLicenseServerURLFromInitData:o,getClearKeysFromProtectionData:t},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(121),s=r(i),o=e(118),u=r(o),a=e(103),f=r(a),l=e(10),c=r(l),h="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",p="org.w3.clearkey",d="urn:uuid:"+h;v.__dashjs_factory_name="KeySystemClearKey",n["default"]=c["default"].getSingletonFactory(v),t.exports=n["default"]},{10:10,103:103,118:118,121:121}],109:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function v(){function n(e){var n,r,i={},s=new DOMParser,o=t==="utf16"?new Uint16Array(e):new Uint8Array(e);n=String.fromCharCode.apply(null,o),r=s.parseFromString(n,"application/xml");var u=r.getElementsByTagName("name"),a=r.getElementsByTagName("value");for(var f=0;f<u.length;f++)i[u[f].childNodes[0].nodeValue]=a[f].childNodes[0].nodeValue;return i.hasOwnProperty("Content")&&(i["Content-Type"]=i.Content,delete i.Content),i}function r(e){var n,r,i=null,s=new DOMParser,o=t==="utf16"?new Uint16Array(e):new Uint8Array(e);n=String.fromCharCode.apply(null,o),r=s.parseFromString(n,"application/xml");if(r.getElementsByTagName("Challenge")[0]){var u=r.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;u&&(i=c["default"].decode(u))}return i}function i(e){if(e){var t=new DataView(e),n=t.getUint16(4,!0),r=6,i=new DOMParser;for(var s=0;s<n;s++){var o=t.getUint16(r,!0);r+=2;var u=t.getUint16(r,!0);r+=2;if(o!==1){r+=u;continue}var a=e.slice(r,r+u),f=String.fromCharCode.apply(null,new Uint16Array(a)),l=i.parseFromString(f,"application/xml");if(l.getElementsByTagName("LA_URL")[0]){var c=l.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(c)return c}if(l.getElementsByTagName("LUI_URL")[0]){var h=l.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(h)return h}}}return null}function o(e){var t=new Uint8Array([112,115,115,104,0,0,0,0]),n=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=0,i=null,o,u,a,f,l;if("pssh"in e)return s["default"].parseInitDataFromContentProtection(e);if("pro"in e)i=c["default"].decodeArray(e.pro.__text);else{if(!("prheader"in e))return null;i=c["default"].decodeArray(e.prheader.__text)}return o=i.length,u=4+t.length+n.length+4+o,a=new ArrayBuffer(u),f=new Uint8Array(a),l=new DataView(a),l.setUint32(r,u),r+=4,f.set(t,r),r+=t.length,f.set(n,r),r+=n.length,l.setUint32(r,o),r+=4,f.set(i,r),r+=o,f.buffer}function a(e){if(e!=="utf8"&&e!=="utf16")throw new u["default"]("Illegal PlayReady message format! -- "+e);t=e}var e=undefined,t="utf16";return e={uuid:h,schemeIdURI:d,systemString:p,getInitData:o,getRequestHeadersFromMessage:n,getLicenseRequestFromMessage:r,getLicenseServerURLFromInitData:i,setPlayReadyMessageFormat:a},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(103),s=r(i),o=e(165),u=r(o),a=e(10),f=r(a),l=e(1),c=r(l),h="9a04f079-9840-4286-ab92-e65be0885f95",p="com.microsoft.playready",d="urn:uuid:"+h;v.__dashjs_factory_name="KeySystemPlayReady",n["default"]=f["default"].getSingletonFactory(v),t.exports=n["default"]},{1:1,10:10,103:103,165:165}],110:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function c(){function t(e){return s["default"].parseInitDataFromContentProtection(e)}function n(){return null}function r(e){return new Uint8Array(e)}function i(){return null}var e=undefined;return e={uuid:a,schemeIdURI:l,systemString:f,getInitData:t,getRequestHeadersFromMessage:n,getLicenseRequestFromMessage:r,getLicenseServerURLFromInitData:i},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(103),s=r(i),o=e(10),u=r(o),a="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",f="com.widevine.alpha",l="urn:uuid:"+a;c.__dashjs_factory_name="KeySystemWidevine",n["default"]=u["default"].getSingletonFactory(c),t.exports=n["default"]},{10:10,103:103}],111:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function S(e){function S(){a=null,l=null,m=[],y=[],h=(0,s["default"])(t).getInstance(),d=(0,b["default"])(t).getInstance(),E=H()}function x(){a&&j();for(var e=0;e<y.length;e++)M(y[e]);n.trigger(g["default"].TEARDOWN_COMPLETE)}function T(){return l}function N(){var e=[];for(var t=0;t<m.length;t++)e.push(m[t].initData);for(var t=0;t<y.length;t++)e.push(y[t].initData);return e}function C(e){var t=a;t||(t=document.createElement("video"));var r=!1;for(var i=0;i<e.length;i++){var s=e[i].ks.systemString,o=e[i].configs,u=null,f=null;for(var l=0;l<o.length;l++){var c=o[l].videoCapabilities;if(c&&c.length!==0){f=[];for(var d=0;d<c.length;d++)t.canPlayType(c[d].contentType,s)!==""&&f.push(c[d])}if(!u&&!f||u&&u.length===0||f&&f.length===0)continue;r=!0;var m=new p["default"](u,f),y=h.getKeySystemBySystemString(s);n.trigger(g["default"].KEY_SYSTEM_ACCESS_COMPLETE,{data:new v["default"](y,m)});break}}r||n.trigger(g["default"].KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}function k(e){l=e.keySystem,n.trigger(g["default"].INTERNAL_KEY_SYSTEM_SELECTED)}function L(e){if(a===e)return;a&&j(),a=e,a&&(a.addEventListener(i.keyerror,E),a.addEventListener(i.needkey,E),a.addEventListener(i.keymessage,E),a.addEventListener(i.keyadded,E),n.trigger(g["default"].VIDEO_ELEMENT_SELECTED))}function A(e){if(!l)throw new Error("Can not create sessions until you have selected a key system");if(w||y.length===0){var t={sessionID:null,initData:e,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return m.push(t),a[i.generateKeyRequest](l.systemString,new Uint8Array(e)),t}throw new Error("Multiple sessions not allowed!")}function O(e,t){var n=e.sessionID;if(!h.isClearKey(l))a[i.addKey](l.systemString,new Uint8Array(t),e.initData,n);else for(var r=0;r<t.keyPairs.length;r++)a[i.addKey](l.systemString,t.keyPairs[r].key,t.keyPairs[r].keyID,n)}function M(e){a[i.cancelKeyRequest](l.systemString,e.sessionID)}function _(){}function D(){}function P(){}function H(){return{handleEvent:function(t){var s=null;switch(t.type){case i.needkey:var o=ArrayBuffer.isView(t.initData)?t.initData.buffer:t.initData;n.trigger(g["default"].NEED_KEY,{key:new u["default"](o,"cenc")});break;case i.keyerror:s=B(y,t.sessionId),s||(s=B(m,t.sessionId));if(s){var a="";switch(t.errorCode.code){case 1:a+="MEDIA_KEYERR_UNKNOWN - An unspecified error occurred. This value is used for errors that don't match any of the other codes.";break;case 2:a+="MEDIA_KEYERR_CLIENT - The Key System could not be installed or updated.";break;case 3:a+="MEDIA_KEYERR_SERVICE - The message passed into update indicated an error from the license service.";break;case 4:a+="MEDIA_KEYERR_OUTPUT - There is no available output device with the required characteristics for the content protection system.";break;case 5:a+="MEDIA_KEYERR_HARDWARECHANGE - A hardware configuration change caused a content protection error.";break;case 6:a+="MEDIA_KEYERR_DOMAIN - An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain."}a+="  System Code = "+t.systemCode,n.trigger(g["default"].KEY_ERROR,{data:new f["default"](s,a)})}else r("No session token found for key error");break;case i.keyadded:s=B(y,t.sessionId),s||(s=B(m,t.sessionId)),s?(r("DRM: Key added."),n.trigger(g["default"].KEY_ADDED,{data:s})):r("No session token found for key added");break;case i.keymessage:w=t.sessionId!==null&&t.sessionId!==undefined,w?(s=B(y,t.sessionId),!s&&m.length>0&&(s=m.shift(),y.push(s),s.sessionID=t.sessionId)):m.length>0&&(s=m.shift(),y.push(s),m.length!==0&&d.mediaKeyMessageError("Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!"
));if(s){var l=ArrayBuffer.isView(t.message)?t.message.buffer:t.message;s.keyMessage=l,n.trigger(g["default"].INTERNAL_KEY_MESSAGE,{data:new c["default"](s,l,t.defaultURL)})}else r("No session token found for key message")}}}}function B(e,t){if(!t||!e)return null;var n=e.length;for(var r=0;r<n;r++)if(e[r].sessionID==t)return e[r];return null}function j(){a.removeEventListener(i.keyerror,E),a.removeEventListener(i.needkey,E),a.removeEventListener(i.keymessage,E),a.removeEventListener(i.keyadded,E)}var t=this.context,n=e.eventBus,r=e.log,i=e.api,o=undefined,a=undefined,l=undefined,h=undefined,d=undefined,m=undefined,y=undefined,w=undefined,E=undefined;return o={getAllInitData:N,requestKeySystemAccess:C,getKeySystem:T,selectKeySystem:k,setMediaElement:L,createKeySession:A,updateKeySession:O,closeKeySession:M,setServerCertificate:_,loadKeySession:D,removeKeySession:P,reset:x},S(),o}Object.defineProperty(n,"__esModule",{value:!0});var i=e(107),s=r(i),o=e(125),u=r(o),a=e(119),f=r(a),l=e(120),c=r(l),h=e(123),p=r(h),d=e(122),v=r(d),m=e(13),g=r(m),y=e(152),b=r(y),w=e(10),E=r(w);S.__dashjs_factory_name="ProtectionModel_01b",n["default"]=E["default"].getClassFactory(S),t.exports=n["default"]},{10:10,107:107,119:119,120:120,122:122,123:123,125:125,13:13,152:152}],112:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function y(e){function g(){o=null,a=null,l=null,h=[],m=(0,s["default"])(t).getInstance(),d=_()}function y(){var e=h.length,t;if(e!==0){var r=function(t){D(t),h.length===0&&(a?(a.removeEventListener("encrypted",d),a.setMediaKeys(null).then(function(){n.trigger(v["default"].TEARDOWN_COMPLETE)})):n.trigger(v["default"].TEARDOWN_COMPLETE))};for(var i=0;i<e;i++)t=h[i],function(e){t.session.closed.then(function(){r(e)}),M(t)["catch"](function(){r(e)})}(t)}else n.trigger(v["default"].TEARDOWN_COMPLETE)}function b(){return o}function w(){var e=[];for(var t=0;t<h.length;t++)e.push(h[t].initData);return e}function E(e){O(e,0)}function S(e){e.mksa.createMediaKeys().then(function(t){o=e.keySystem,l=t,a&&a.setMediaKeys(l),n.trigger(v["default"].INTERNAL_KEY_SYSTEM_SELECTED)})["catch"](function(){n.trigger(v["default"].INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+e.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})}function x(e){if(a===e)return;a&&(a.removeEventListener("encrypted",d),a.setMediaKeys(null)),a=e,a&&(a.addEventListener("encrypted",d),l&&a.setMediaKeys(l))}function T(e){if(!o||!l)throw new Error("Can not set server certificate until you have selected a key system");l.setServerCertificate(e).then(function(){r("DRM: License server certificate successfully updated."),n.trigger(v["default"].SERVER_CERTIFICATE_UPDATED)})["catch"](function(e){n.trigger(v["default"].SERVER_CERTIFICATE_UPDATED,{error:"Error updating server certificate -- "+e.name})})}function N(e,t){if(!o||!l)throw new Error("Can not create sessions until you have selected a key system");var i=l.createSession(t),s=P(i,e,t);i.generateRequest("cenc",e).then(function(){r("DRM: Session created.  SessionID = "+s.getSessionID()),n.trigger(v["default"].KEY_SESSION_CREATED,{data:s})})["catch"](function(e){D(s),n.trigger(v["default"].KEY_SESSION_CREATED,{data:null,error:"Error generating key request -- "+e.name})})}function C(e,t){var r=e.session;m.isClearKey(o)&&(t=t.toJWK()),r.update(t)["catch"](function(t){n.trigger(v["default"].KEY_ERROR,{data:new f["default"](e,"Error sending update() message! "+t.name)})})}function k(e){if(!o||!l)throw new Error("Can not load sessions until you have selected a key system");var t=l.createSession();t.load(e).then(function(i){if(i){var s=P(t);r("DRM: Session created.  SessionID = "+s.getSessionID()),n.trigger(v["default"].KEY_SESSION_CREATED,{data:s})}else n.trigger(v["default"].KEY_SESSION_CREATED,{data:null,error:"Could not load session! Invalid Session ID ("+e+")"})})["catch"](function(t){n.trigger(v["default"].KEY_SESSION_CREATED,{data:null,error:"Could not load session ("+e+")! "+t.name})})}function L(e){var t=e.session;t.remove().then(function(){r("DRM: Session removed.  SessionID = "+e.getSessionID()),n.trigger(v["default"].KEY_SESSION_REMOVED,{data:e.getSessionID()})},function(t){n.trigger(v["default"].KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+e.getSessionID()+"). "+t.name})})}function A(e){M(e)["catch"](function(t){D(e),n.trigger(v["default"].KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.getSessionID()+") "+t.name})})}function O(e,t){(function(t){var r=e[t].ks,i=e[t].configs;navigator.requestMediaKeySystemAccess(r.systemString,i).then(function(e){var t=typeof e.getConfiguration=="function"?e.getConfiguration():null,i=new p["default"](r,t);i.mksa=e,n.trigger(v["default"].KEY_SYSTEM_ACCESS_COMPLETE,{data:i})})["catch"](function(){++t<e.length?O(e,t):n.trigger(v["default"].KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied!"})})})(t)}function M(e){var t=e.session;return t.removeEventListener("keystatuseschange",e),t.removeEventListener("message",e),t.close()}function _(){return{handleEvent:function(t){switch(t.type){case"encrypted":if(t.initData){var r=ArrayBuffer.isView(t.initData)?t.initData.buffer:t.initData;n.trigger(v["default"].NEED_KEY,{key:new u["default"](r,t.initDataType)})}}}}}function D(e){for(var t=0;t<h.length;t++)if(h[t]===e){h.splice(t,1);break}}function P(e,t,i){var s={session:e,initData:t,handleEvent:function(t){switch(t.type){case"keystatuseschange":n.trigger(v["default"].KEY_STATUSES_CHANGED,{data:this});break;case"message":var r=ArrayBuffer.isView(t.message)?t.message.buffer:t.message;n.trigger(v["default"].INTERNAL_KEY_MESSAGE,{data:new c["default"](this,r,undefined,t.messageType)})}},getSessionID:function(){return e.sessionId},getExpirationTime:function(){return e.expiration},getKeyStatuses:function(){return e.keyStatuses},getSessionType:function(){return i}};return e.addEventListener("keystatuseschange",s),e.addEventListener("message",s),e.closed.then(function(){D(s),r("DRM: Session closed.  SessionID = "+s.getSessionID()),n.trigger(v["default"].KEY_SESSION_CLOSED,{data:s.getSessionID()})}),h.push(s),s}var t=this.context,n=e.eventBus,r=e.log,i,o,a,l,h,d,m;return i={getAllInitData:w,requestKeySystemAccess:E,getKeySystem:b,selectKeySystem:S,setMediaElement:x,setServerCertificate:T,createKeySession:N,updateKeySession:C,loadKeySession:k,removeKeySession:L,closeKeySession:A,reset:y},g(),i}Object.defineProperty(n,"__esModule",{value:!0});var i=e(107),s=r(i),o=e(125),u=r(o),a=e(119),f=r(a),l=e(120),c=r(l),h=e(122),p=r(h),d=e(13),v=r(d),m=e(10),g=r(m);y.__dashjs_factory_name="ProtectionModel_21Jan2015",n["default"]=g["default"].getClassFactory(y),t.exports=n["default"]},{10:10,107:107,119:119,120:120,122:122,125:125,13:13}],113:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function w(e){function w(){a=null,l=null,h=null,d=null,m=[],b=(0,s["default"])(t).getInstance(),y=D()}function E(){try{for(var e=0;e<m.length;e++)A(m[e]);a&&a.removeEventListener(i.needkey,y),n.trigger(g["default"].TEARDOWN_COMPLETE)}catch(t){n.trigger(g["default"].TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+t.message})}}function S(){return l}function x(){var e=[];for(var t=0;t<m.length;t++)e.push(m[t].initData);return e}function T(e){var t=!1;for(var r=0;r<e.length;r++){var s=e[r].ks.systemString,o=e[r].configs,u=null,a=null;for(var f=0;f<o.length;f++){var l=o[f].audioCapabilities,c=o[f].videoCapabilities;if(l&&l.length!==0){u=[];for(var h=0;h<l.length;h++)window[i.MediaKeys].isTypeSupported(s,l[h].contentType)&&u.push(l[h])}if(c&&c.length!==0){a=[];for(var d=0;d<c.length;d++)window[i.MediaKeys].isTypeSupported(s,c[d].contentType)&&a.push(c[d])}if(!u&&!a||u&&u.length===0||a&&a.length===0)continue;t=!0;var m=new p["default"](u,a),y=b.getKeySystemBySystemString(s);n.trigger(g["default"].KEY_SYSTEM_ACCESS_COMPLETE,{data:new v["default"](y,m)});break}}t||n.trigger(g["default"].KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}function N(e){try{h=e.mediaKeys=new window[i.MediaKeys](e.keySystem.systemString),l=e.keySystem,d=e,a&&P(),n.trigger(g["default"].INTERNAL_KEY_SYSTEM_SELECTED)}catch(t){n.trigger(g["default"].INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+l.systemString+")! Could not create MediaKeys -- TODO"})}}function C(e){if(a===e)return;a&&a.removeEventListener(i.needkey,y),a=e,a&&(a.addEventListener(i.needkey,y),h&&P())}function k(e){if(!l||!h||!d)throw new Error("Can not create sessions until you have selected a key system");var t=null;d.ksConfiguration.videoCapabilities!==null&&d.ksConfiguration.videoCapabilities.length>0&&(t=d.ksConfiguration.videoCapabilities[0]),t===null&&d.ksConfiguration.audioCapabilities!==null&&d.ksConfiguration.audioCapabilities.length>0&&(t=d.ksConfiguration.audioCapabilities[0]);if(t===null)throw new Error("Can not create sessions for unknown content types.");var s=t.contentType,o=h.createSession(s,new Uint8Array(e)),u=H(o,e);o.addEventListener(i.error,u),o.addEventListener(i.message,u),o.addEventListener(i.ready,u),o.addEventListener(i.close,u),m.push(u),r("DRM: Session created.  SessionID = "+u.getSessionID()),n.trigger(g["default"].KEY_SESSION_CREATED,{data:u})}function L(e,t){var n=e.session;b.isClearKey(l)?n.update(new Uint8Array(t.toJWK())):n.update(new Uint8Array(t))}function A(e){var t=e.session;t.removeEventListener(i.error,e),t.removeEventListener(i.message,e),t.removeEventListener(i.ready,e),t.removeEventListener(i.close,e);for(var n=0;n<m.length;n++)if(m[n]===e){m.splice(n,1);break}t[i.release]()}function O(){}function M(){}function _(){}function D(){return{handleEvent:function(t){switch(t.type){case i.needkey:if(t.initData){var r=ArrayBuffer.isView(t.initData)?t.initData.buffer:t.initData;n.trigger(g["default"].NEED_KEY,{key:new u["default"](r,"cenc")})}}}}}function P(){var e=null,t=function(){a.removeEventListener("loadedmetadata",e),a[i.setMediaKeys](h),n.trigger(g["default"].VIDEO_ELEMENT_SELECTED)};a.readyState>=1?t():(e=t.bind(this),a.addEventListener("loadedmetadata",e))}function H(e,t){return{session:e,initData:t,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(t){switch(t.type){case i.error:var s="KeyError";n.trigger(g["default"].KEY_ERROR,{data:new f["default"](this,s)});break;case i.message:var o=ArrayBuffer.isView(t.message)?t.message.buffer:t.message;n.trigger(g["default"].INTERNAL_KEY_MESSAGE,{data:new c["default"](this,o,t.destinationURL)});break;case i.ready:r("DRM: Key added."),n.trigger(g["default"].KEY_ADDED);break;case i.close:r("DRM: Session closed.  SessionID = "+this.getSessionID()),n.trigger(g["default"].KEY_SESSION_CLOSED,{data:this.getSessionID()})}}}}var t=this.context,n=e.eventBus,r=e.log,i=e.api,o=undefined,a=undefined,l=undefined,h=undefined,d=undefined,m=undefined,y=undefined,b=undefined;return o={getAllInitData:x,requestKeySystemAccess:T,getKeySystem:S,selectKeySystem:N,setMediaElement:C,createKeySession:k,updateKeySession:L,closeKeySession:A,setServerCertificate:O,loadKeySession:M,removeKeySession:_,reset:E},w(),o}Object.defineProperty(n,"__esModule",{value:!0});var i=e(107),s=r(i),o=e(125),u=r(o),a=e(119),f=r(a),l=e(120),c=r(l),h=e(123),p=r(h),d=e(122),v=r(d),m=e(13),g=r(m),y=e(10),b=r(y);w.__dashjs_factory_name="ProtectionModel_3Feb2014",n["default"]=b["default"].getClassFactory(w),t.exports=n["default"]},{10:10,107:107,119:119,120:120,122:122,123:123,125:125,13:13}],114:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function l(){function t(e,t){var n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t)));e+="/?";for(var r=0;r<n.kids.length;r++)e+=n.kids[r]+"&";return e=e.substring(0,e.length-1),e}function n(){return"GET"}function r(){return"json"}function i(e){if(!e.hasOwnProperty("keys"))return null;var t=[];for(var n=0;n<e.keys.length;n++){var r=e.keys[n],i=r.kid.replace(/=/g,""),o=r.k.replace(/=/g,"");t.push(new s["default"](i,o))}return new u["default"](t)}function o(e){return String.fromCharCode.apply(null,new Uint8Array(e))}var e=undefined;return e={getServerURLFromMessage:t,getHTTPMethod:n,getResponseType:r,getLicenseMessage:i,getErrorResponse:o},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(121),s=r(i),o=e(118),u=r(o),a=e(10),f=r(a);l.__dashjs_factory_name="ClearKey",n["default"]=f["default"].getSingletonFactory(l),t.exports=n["default"]},{10:10,118:118,121:121}],115:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){function n(e){return e}function r(){return"POST"}function i(t){return e[t].responseType}function s(t,n){return e[n].getLicenseMessage(t)}function o(t,n){return e[n].getErrorResponse(t)}var e={"com.widevine.alpha":{responseType:"json",getLicenseMessage:function(t){return u["default"].decodeArray(t.license)},getErrorResponse:function(t){return t}},"com.microsoft.playready":{responseType:"arraybuffer",getLicenseMessage:function(t){return t},getErrorResponse:function(t){return String.fromCharCode.apply(null,new Uint8Array(t))}}},t=undefined;return t={getServerURLFromMessage:n,getHTTPMethod:r,getResponseType:i,getLicenseMessage:s,getErrorResponse:o},t}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(1),u=r(o);a.__dashjs_factory_name="DRMToday",n["default"]=s["default"].getSingletonFactory(a),t.exports=n["default"]},{1:1,10:10}],116:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){function t(e){return e}function n(){return"POST"}function r(){return"arraybuffer"}function i(e){return e}function s(e){return String.fromCharCode.apply(null,new Uint8Array(e))}var e=undefined;return e={getServerURLFromMessage:t,getHTTPMethod:n,getResponseType:r,getLicenseMessage:i,getErrorResponse:s},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="PlayReady",n["default"]=s["default"].getSingletonFactory(o),t.exports=n["default"]},{10:10}],117:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){function t(e){return e}function n(){return"POST"}function r(){return"arraybuffer"}function i(e){return e}function s(e){return String.fromCharCode.apply(null,new Uint8Array(e))}var e=undefined;return e={getServerURLFromMessage:t,getHTTPMethod:n,getResponseType:r,getLicenseMessage:i,getErrorResponse:s},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="Widevine",n["default"]=s["default"].getSingletonFactory(o),t.exports=n["default"]},{10:10}],118:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n){i(this,e);if(n&&n!=="persistent"&&n!=="temporary")throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=t,this.type=n}return r(e,[{key:"toJWK",value:function(){var t,n=this.keyPairs.length,r={keys:[]};for(t=0;t<n;t++){var i={kty:"oct",alg:"A128KW",kid:this.keyPairs[t].keyID,k:this.keyPairs[t].key};r.keys.push(i)}this.type&&(r.type=this.type);var s=JSON.stringify(r),o=s.length,u=new ArrayBuffer(o),a=new Uint8Array(u);for(t=0;t<o;t++)a[t]=s.charCodeAt(t);return u}}]),e}();n["default"]=s,t.exports=n["default"]},{}],119:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(e,t){r(this,s),this.sessionToken=e,this.error=t};n["default"]=i,t.exports=n["default"]},{}],120:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(e,t,n,i){r(this,s),this.sessionToken=e,this.message=t,this.defaultURL=n,this.messageType=i?i:"license-request"};n["default"]=i,t.exports=n["default"]},{}],121:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(e,t){r(this,s),this.keyID=e,this.key=t};n["default"]=i,t.exports=n["default"]},{}],122:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(e,t){r(this,s),this.keySystem=e,this.ksConfiguration=t};n["default"]=i,t.exports=n["default"]},{}],123:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(e,t,n,i,o){r(this,s),this.initDataTypes=["cenc"],e&&e.length&&(this.audioCapabilities=e),t&&t.length&&(this.videoCapabilities=t),this.distinctiveIdentifier=n,this.persistentState=i,this.sessionTypes=o};n["default"]=i,t.exports=n["default"]},{}],124:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(e,t){r(this,s),this.contentType=e,this.robustness=t};n["default"]=i,t.exports=n["default"]},{}],125:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(e,t){r(this,s),this.initData=e,this.initDataType=t};n["default"]=i,t.exports=n["default"]},{}],126:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){function r(r,i){var s=i.droppedVideoFrames-t;t=i.droppedVideoFrames;var o=i.totalVideoFrames-n;n=i.totalVideoFrames,e[r]?(e[r].droppedVideoFrames+=s,e[r].totalVideoFrames+=o):e[r]={droppedVideoFrames:s,totalVideoFrames:o}}function i(){return e}function s(r){e=[],t=r.droppedVideoFrames,n=r.totalVideoFrames}var e=[],t=0,n=0;return{push:r,getFrameHistory:i,reset:s}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="DroppedFramesHistory";var u=s["default"].getClassFactory(o);n["default"]=u,t.exports=n["default"]},{10:10}],127:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){function l(){return n.mediaInfo.streamInfo}function c(){return n.mediaInfo}function h(){return n}function p(){return i}function d(){return n.mediaInfo.streamInfo.manifestInfo}function v(){return r}function m(){return s}function g(){return o}function y(){return u}function b(){return a}function w(){return f}var t=undefined,n=e.streamProcessor.getCurrentRepresentationInfo(),r=e.streamProcessor,i=e.currentValue,s=e.playbackIndex,o=e.switchHistory,u=e.droppedFramesHistory,a=e.currentRequest,f=e.hasRichBuffer;return t={getCurrentValue:p,getManifestInfo:d,getMediaInfo:c,getPlaybackIndex:m,getDroppedFramesHistory:y,getCurrentRequest:b,getSwitchHistory:g,getStreamInfo:l,getStreamProcessor:v,getTrackInfo:h,hasRichBuffer:w},t}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="RulesContext",n["default"]=s["default"].getClassFactory(o),t.exports=n["default"]},{10:10}],128:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){var n=e===undefined?o:e,r=t===undefined?null:t,i={value:n,reason:r};return i}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=-1;u.__dashjs_factory_name="SwitchRequest";var a=s["default"].getClassFactory(u);a.NO_CHANGE=o,n["default"]=a,t.exports=n["default"]},{10:10}],129:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(){function n(n){e[n.oldValue]||(e[n.oldValue]={noDrops:0,drops:0,dropSize:0});var r=n.newValue-n.oldValue,i=r<0?1:0,s=i?-r:0,u=i?0:1;e[n.oldValue].drops+=i,e[n.oldValue].dropSize+=s,e[n.oldValue].noDrops+=u,t.push({idx:n.oldValue,noDrop:u,drop:i,dropSize:s});if(t.length>o){var a=t.shift();e[a.idx].drops-=a.drop,e[a.idx].dropSize-=a.dropSize,e[a.idx].noDrops-=a.noDrop}}function r(){return e}function i(){e=[],t=[]}var e=[],t=[];return{push:n,getSwitchRequests:r,reset:i}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=8;u.__dashjs_factory_name="SwitchRequestHistory";var a=s["default"].getClassFactory(u);n["default"]=a,t.exports=n["default"]},{10:10}],130:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function O(){function i(){n=[],r=[];var t=(0,E["default"])(e).getInstance(),i=(0,x["default"])(e).getInstance(),o=(0,b["default"])(e).getInstance();o.getBufferOccupancyABREnabled()?(n.push((0,v["default"])(e).create({metricsModel:t,dashMetrics:i})),r.push((0,g["default"])(e).create({metricsModel:t,dashMetrics:i}))):(n.push((0,s["default"])(e).create({metricsModel:t,dashMetrics:i})),n.push((0,u["default"])(e).create({metricsModel:t})),n.push((0,p["default"])(e).create()),n.push((0,c["default"])(e).create()),r.push((0,f["default"])(e).create()))}function o(e){switch(e){case L:return n;case A:return r;default:return null}}function a(e){return e.filter(function(e){return e.value>k["default"].NO_CHANGE})}function l(e){if(e.length===0)return;return e.reduce(function(e,t){return e.value<t.value?e:t})}function h(t){var r=n.map(function(e){return e.getMaxIndex(t)}),i=a(r),s=l(i);return s||(0,k["default"])(e).create()}function d(t){var n=r.map(function(e){return e.shouldAbandon(t)}),i=a(n),s=l(i);return s||(0,k["default"])(e).create()}var e=this.context,t=undefined,n=undefined,r=undefined;return t={initialize:i,getRules:o,getMaxQuality:h,shouldAbandonFragment:d},t}Object.defineProperty(n,"__esModule",{value:!0});var i=e(137),s=r(i),o=e(135),u=r(o),a=e(131),f=r(a),l=e(134),c=r(l),h=e(136),p=r(h),d=e(133),v=r(d),m=e(132),g=r(m),y=e(99),b=r(y),w=e(100),E=r(w),S=e(17),x=r(S),T=e(10),N=r(T),C=e(128),k=r(C),L="qualitySwitchRules",A="abandonFragmentRules";O.__dashjs_factory_name="ABRRulesCollection";var M=N["default"].getSingletonFactory(O);M.QUALITY_SWITCH_RULES=L,M.ABANDON_FRAGMENT_RULES=A,n["default"]=M,t.exports=n["default"]},{10:10,100:100,128:128,131:131,132:132,133:133,134:134,135:135,136:136,137:137,17:17,99:99}],131:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function m(){function g(){o={},a={},l=[],h=(0,u["default"])(r).getInstance(),p=(0,f["default"])(r).getInstance(),d=(0,c["default"])(r).getInstance()}function y(e,t){o[e]=o[e]||{},o[e][t]=o[e][t]||{}}function b(e,t){l[e]=l[e]||[],l[e].push(t)}function w(u){var f=u.getMediaInfo(),c=f.type,v=u.getCurrentRequest(),g=(0,s["default"])(r).create(s["default"].NO_CHANGE,{name:m.__dashjs_factory_name});if(!isNaN(v.index)){y(c,v.index);var w=h.getStableBufferTime(),E=p.getCurrentBufferLevel(d.getReadOnlyMetricsFor(c));if(E>w)return g;var S=o[c][v.index];if(S===null||v.firstByteDate===null||a.hasOwnProperty(S.id))return g;S.firstByteTime===undefined&&(l[c]=[],S.firstByteTime=v.firstByteDate.getTime(),S.segmentDuration=v.duration,S.bytesTotal=v.bytesTotal,S.id=v.index),S.bytesLoaded=v.bytesLoaded,S.elapsedTime=(new Date).getTime()-S.firstByteTime,S.bytesLoaded>0&&S.elapsedTime>0&&b(c,Math.round(S.bytesLoaded*8/S.elapsedTime));if(l[c].length>=n&&S.elapsedTime>t&&S.bytesLoaded<S.bytesTotal){var x=l[c].reduce(function(e,t){return e+t},0);S.measuredBandwidthInKbps=Math.round(x/l[c].length),S.estimatedTimeOfDownload=+(S.bytesTotal*8/S.measuredBandwidthInKbps/1e3).toFixed(2);if(S.estimatedTimeOfDownload<S.segmentDuration*e||u.getTrackInfo().quality===0)return g;if(!a.hasOwnProperty(S.id)){var T=u.getStreamProcessor().getABRController(),N=S.bytesTotal-S.bytesLoaded,C=T.getBitrateList(f),k=T.getQualityForBitrate(f,S.measuredBandwidthInKbps*h.getBandwidthSafetyFactor()),L=S.bytesTotal*C[k].bitrate/C[T.getQualityFor(c,f.streamInfo)].bitrate;N>L&&(g.value=k,g.reason.throughput=S.measuredBandwidthInKbps,g.reason.fragmentID=S.id,a[S.id]=S,i("AbandonRequestsRule ( ",c,"frag id",S.id,") is asking to abandon and switch to quality to ",k," measured bandwidth was",S.measuredBandwidthInKbps),delete o[c][S.id])}}else S.bytesLoaded===S.bytesTotal&&delete o[c][S.id]}return g}function E(){g()}var e=1.8,t=500,n=5,r=this.context,i=(0,v["default"])(r).getInstance().log,o=undefined,a=undefined,l=undefined,h=undefined,p=undefined,d=undefined,S={shouldAbandon:w,reset:E};return g(),S}Object.defineProperty(n,"__esModule",{value:!0});var i=e(128),s=r(i),o=e(99),u=r(o),a=e(17),f=r(a),l=e(100),c=r(l),h=e(10),p=r(h),d=e(8),v=r(d);m.__dashjs_factory_name="AbandonRequestsRule",n["default"]=p["default"].getClassFactory(m),t.exports=n["default"]},{10:10,100:100,128:128,17:17,8:8,99:99}],132:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function d(e){function v(){l={},h=(0,u["default"])(r).getInstance()}function m(e,t,n){l[e]={index:t,quality:n}}function g(e,t,n){var r=l[e];return r?t!==r.index||n<r.quality:!0}function y(e){var u=e.getMediaInfo(),f=u.type,c=a.getReadOnlyMetricsFor(f),h=e.getCurrentRequest(),v=(0,s["default"])(r).create(s["default"].NO_CHANGE,{name:d.__dashjs_factory_name});if(c.BolaState.length===0)return i("WARNING: executing BolaAbandonRule before initializing BolaRule"),l[f]=null,v;var y=c.BolaState[0]._s,b=h.index,w=h.quality;if(isNaN(b)||w===0||!g(f,b,w)||!h.firstByteDate)return v;var E=Date.now(),S=E-h.firstByteDate.getTime(),x=h.bytesLoaded,T=h.bytesTotal,N=T-x,C=h.duration,k=o.getCurrentBufferLevel(c)?o.getCurrentBufferLevel(c):0,L=k+y.placeholderBuffer,A=8*x/(.001*S),O=y.bandwidthSafetyFactor*A,M=.001*(h.firstByteDate.getTime()-h.requestStartDate.getTime());M<.001*n&&(M=.001*n);var _=M+8*T/O,D="";p["default"].BOLA_DEBUG&&(D="index="+b+" quality="+w+" bytesLoaded/bytesTotal="+x+"/"+T+" bufferLevel="+k+" timeSince1stByte="+(S/1e3).toFixed(3)+" estThroughput="+(O/1e6).toFixed(3)+" latency="+M.toFixed(3));var P=T*y.bitrates[0]/y.bitrates[w],H=N-M*O/8;H<1&&(H=1);if(S<t||N<=P||k>y.bufferTarget||H<=P||_<=C)return v;var B=L-M;B<0&&(B=0);var j=0;while(j+1<w&&T*y.bitrates[j+1]/y.bitrates[w]<H)++j;var F=w;if(y.state===p["default"].BOLA_STATE_STARTUP){F=0;for(var I=0;I<=j;++I){P=T*y.bitrates[I]/y.bitrates[w];if(8*P/C>O)break;F=I}}else{var q=(y.Vp*(y.utilities[w]+y.gp)-B)/H;for(var I=0;I<=j;++I){P=T*y.bitrates[I]/y.bitrates[w];var R=(y.Vp*(y.utilities[I]+y.gp)-B)/P;R>q&&(F=I,q=R)}}var U=y.rebufferSafetyFactor*A*(k-M)/8;F===w&&H>U&&(F=j);if(F===w)return v;while(F>0){P=T*y.bitrates[F]/y.bitrates[w];if(P<=U)break;--F}var z=NaN;if(F>0){var W=y.utilities[F],X=y.utilities[F-1],R=y.bitrates[F],V=y.bitrates[F-1];z=y.Vp*((R*X-V*W)/(R-V)+y.gp)}else{var W=y.utilities[0],X=y.utilities[1],R=y.bitrates[0],V=y.bitrates[1];z=y.Vp*((R*X-V*W)/(R-V)+y.gp),z-=C}return L>z&&(y.placeholderBuffer=z-k,y.placeholderBuffer<0&&(y.placeholderBuffer=0)),y.lastQuality=F,a.updateBolaState(f,y),p["default"].BOLA_DEBUG&&i("BolaDebug "+f+" BolaAbandonRule abandon to "+F+" - "+D),m(f,b,w),v.value=F,v.reason.state=y.state,v.reason.throughput=A,v.reason.bufferLevel=k,v.reason.bytesLoaded=h.bytesLoaded,v.reason.bytesTotal=h.bytesTotal,v.reason.elapsedTimeMs=S,v}function b(){l={}}var t=500,n=200,r=this.context,i=(0,c["default"])(r).getInstance().log,o=e.dashMetrics,a=e.metricsModel,f=undefined,l=undefined,h=undefined;return f={shouldAbandon:y,reset:b},v(),f}Object.defineProperty(n,"__esModule",{value:!0});var i=e(128),s=r(i),o=e(99),u=r(o),a=e(10),f=r(a),l=e(8),c=r(l),h=e(133),p=r(h);d.__dashjs_factory_name="BolaAbandonRule",n["default"]=f["default"].getClassFactory(d),t.exports=n["default"]},{10:10,128:128,133:133,8:8,99:99}],133:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function C(e){function O(){p={},v={},g={},k=[],L=(0,f["default"])(r).getInstance(),A=(0,h["default"])(r).getInstance(),a.on(m["default"].BUFFER_EMPTY,I,c),a.on(m["default"].PLAYBACK_SEEKING,q,c),a.on(m["default"].PERIOD_SWITCH_STARTED,R,c),a.on(m["default"].MEDIA_FRAGMENT_LOADED,U,c)}function M(e){return e.map(function(e){return Math.log(e)})}function _(e,t,n,r){var i=NaN;r?(i=0,r.forEach(function(e,t){e>r[i]&&(i=t)})):(r=M(n),i=r.length-1);if(i===0)return null;var s=1-r[0]+(r[i]-r[0])/(t/e-1),o=e/(r[0]+s-1);return{utilities:r,gp:s,Vp:o}}function D(e){var r={},s=e.getMediaInfo(),o=e.getStreamProcessor(),u=e.getStreamInfo(),a=e.getTrackInfo(),f=o.isDynamic(),l=u.manifestInfo.duration,c=a.fragmentDuration,h=s.bitrateList.map(function(e){return e.bandwidth}),p=_(x,T,h,null);if(p===null)return r.state=b,r;r.state=w,r.bitrates=h,r.utilities=p.utilities,r.Vp=p.Vp,r.gp=p.gp,r.isDynamic=f,r.movieDuration=l,r.fragmentDuration=c,r.bandwidthSafetyFactor=L.getBandwidthSafetyFactor(),r.rebufferSafetyFactor=N,r.bufferTarget=L.getStableBufferTime(),r.lastQuality=0,r.placeholderBuffer=0,r.throughputCount=f?t:n;if(S){var d="";for(var v=0;v<h.length;++v){var m=p.utilities[v],g=h[v],y=0;if(v>0){var E=p.utilities[v-1],C=h[v-1];y=p.Vp*((E*g-m*C)/(g-C)+p.gp)}var k=p.Vp*(m+p.gp);d+="\n"+v+":"+(1e-6*h[v]).toFixed(3)+"Mbps "+y.toFixed(3)+"/"+k.toFixed(3)}i("BolaDebug "+s.type+" bitrates"+d)}return r}function P(e,t){var n=e.bitrates.length,r=NaN,i=NaN;for(var s=0;s<n;++s){var o=(e.Vp*(e.utilities[s]+e.gp)-t)/e.bitrates[s];if(isNaN(i)||o>=i)i=o,r=s}return r}function H(e,t){var n=o.getHttpRequests(e),r=[];for(var i=n.length-1;i>=0&&r.length<t;--i){var s=n[i];s.type===l.HTTPRequest.MEDIA_SEGMENT_TYPE&&s._tfinish&&s.tresponse&&s.trace&&r.push(s)}return r}function B(e,t,n){var r=H(e,t);if(r.length===0)return 0;var s=0,o="";for(var u=0;u<r.length;++u){var a=.001*(r[u]._tfinish.getTime()-r[u].trequest.getTime()),f=8*r[u].trace.reduce(function(e,t){return e+t.b[0]},0);S&&(o+=" "+(1e-6*f).toFixed(3)+"/"+a.toFixed(3)+"="+(1e-6*f/a).toFixed(3)+"Mbps"),s+=a/f}return S&&i("BolaDebug "+n+" BolaRule recent throughput = "+(r.length/(1e6*s)).toFixed(3)+"Mbps:"+o),r.length/s}function j(e,t){var n=0;return e.bitrates.some(function(e,r){return e>t?!0:(n=r,!1)}),n}function F(e,t){var n=Date.now(),r=p[t],i=g[t],s=NaN;p[t]=n,g[t]=!1;if(!i){var o=H(e,1);o.length>0&&(s=o[0]._tfinish.getTime(),s>n&&(s=n))}var u=0;return i||r>s?u=n-r:u=n-s,isNaN(u)||u<=0?0:.001*u}function I(){S&&i("BolaDebug BUFFER_EMPTY"),k.forEach(function(e){var t=u.getReadOnlyMetricsFor(e);if(t.BolaState.length!==0){var n=t.BolaState[0]._s;n.state===E&&(n.placeholderBuffer=0,u.updateBolaState(e,n))}})}function q(e){S&&i("BolaDebug PLAYBACK_SEEKING "+e.seekTime.toFixed(3)),k.forEach(function(e){var t=u.getReadOnlyMetricsFor(e);if(t.BolaState.length!==0){var n=t.BolaState[0]._s;n.state!==b&&(n.state=w),u.updateBolaState(e,n)}}),v={},g={}}function R(){}function U(e){if(e&&e.chunk&&e.chunk.mediaInfo){var t=e.chunk.mediaInfo.type,n=e.chunk.start;t!==undefined&&!isNaN(n)&&(n<=v[t]?g[t]=!0:(g[t]=!1,v[t]=n))}}function z(e){var t=e.getStreamProcessor();t.getScheduleController().setTimeToLoadDelay(0);var n=(0,s["default"])(r).create(s["default"].NO_CHANGE,{name:C.__dashjs_factory_name}),a=e.getMediaInfo(),f=a.type,l=u.getReadOnlyMetricsFor(f);if(l.BolaState.length===0){S&&i("BolaDebug "+f+"\nBolaDebug "+f+" BolaRule for state=- fragmentStart="+A.getIndexHandlerTime(e.getStreamProcessor()).toFixed(3));var c=D(e);u.updateBolaState(f,c);var h=0;if(c.state!==b){k.push(f);var p=B(l,c.throughputCount,f);if(p===0)return S&&i("BolaDebug "+f+" BolaRule quality unchanged for INITIALIZE"),n;h=j(c,p*c.bandwidthSafetyFactor),c.lastQuality=h,n.value=h,n.reason.state=c.state,n.reason.throughput=p}return S&&i("BolaDebug "+f+" BolaRule quality "+h+" for INITIALIZE"),n}var d=l.BolaState[0]._s;if(d.state===b)return S&&i("BolaDebug "+f+" BolaRule quality 0 for ONE_BITRATE"),n;var v=d.bitrates,m=d.utilities;S&&i("BolaDebug "+f+"\nBolaDebug "+f+" EXECUTE BolaRule for state="+d.state+" fragmentStart="+A.getIndexHandlerTime(e.getStreamProcessor()).toFixed(3));var g=o.getCurrentBufferLevel(l)?o.getCurrentBufferLevel(l):0,y=B(l,d.throughputCount,f);g<=.1&&(d.placeholderBuffer=0);var x=F(l,f);x>0&&(d.placeholderBuffer+=x),d.placeholderBuffer<0&&(d.placeholderBuffer=0);var T=g+d.placeholderBuffer,L=P(d,T);S&&i("BolaDebug "+f+" BolaRule bufferLevel="+g.toFixed(3)+"(+"+d.placeholderBuffer.toFixed(3)+"="+T.toFixed(3)+") recentThroughput="+(1e-6*y).toFixed(3)+" tentativeQuality="+L);if(d.state===w){var h=j(d,y*d.bandwidthSafetyFactor);if(g>d.fragmentDuration/N){d.state=E;var O=0
;for(var M=0;M<h;++M){var _=d.Vp*(d.gp+(v[h]*m[M]-v[M]*m[h])/(v[h]-v[M]));_>O&&(O=_)}O>g&&(d.placeholderBuffer=O-g)}return S&&i("BolaDebug "+f+" BolaRule quality "+h+" for STARTUP"),d.lastQuality=h,u.updateBolaState(f,d),n.value=h,n.reason.state=w,n.reason.throughput=y,n}if(L>d.lastQuality){var h=j(d,y);L>h&&(h<d.lastQuality&&(h=d.lastQuality),L=h)}if(y>0){var H=N*y*g/d.fragmentDuration;while(L>0&&v[L]>H)--L}var I=0,q=d.Vp*(m[L]+d.gp);return I=T-q,I>0&&(I>d.placeholderBuffer?(I-=d.placeholderBuffer,d.placeholderBuffer=0):(d.placeholderBuffer-=I,I=0)),I>0?L===v.length-1?I=0:t.getScheduleController().setTimeToLoadDelay(1e3*I):I=0,d.lastQuality=L,u.updateBolaState(f,d),n.value=L,n.reason.state=d.state,n.reason.throughput=y,n.reason.bufferLevel=g,S&&i("BolaDebug "+f+" BolaRule quality "+L+" delay="+I.toFixed(3)+" for STEADY"),n}function W(){a.off(m["default"].BUFFER_EMPTY,I,c),a.off(m["default"].PLAYBACK_SEEKING,q,c),a.off(m["default"].PERIOD_SWITCH_STARTED,R,c),a.off(m["default"].MEDIA_FRAGMENT_LOADED,U,c),O()}var t=2,n=3,r=this.context,i=(0,y["default"])(r).getInstance().log,o=e.dashMetrics,u=e.metricsModel,a=(0,d["default"])(r).getInstance(),c=undefined,p=undefined,v=undefined,g=undefined,k=undefined,L=undefined,A=undefined;return c={getMaxIndex:z,reset:W},O(),c}Object.defineProperty(n,"__esModule",{value:!0});var i=e(128),s=r(i),o=e(10),u=r(o),a=e(99),f=r(a),l=e(182),c=e(15),h=r(c),p=e(9),d=r(p),v=e(13),m=r(v),g=e(8),y=r(g),b=0,w=1,E=2,S=!1,x=10,T=30,N=.5;C.__dashjs_factory_name="BolaRule";var k=u["default"].getClassFactory(C);k.BOLA_STATE_ONE_BITRATE=b,k.BOLA_STATE_STARTUP=w,k.BOLA_STATE_STEADY=E,k.BOLA_DEBUG=S,n["default"]=k,t.exports=n["default"]},{10:10,128:128,13:13,15:15,182:182,8:8,9:9,99:99}],134:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function l(){function i(i){var s=i.getDroppedFramesHistory();if(s){var o=s.getFrameHistory(),a=0,f=0,l=u["default"].NO_CHANGE;for(var c=1;c<o.length;c++)if(o[c]){a=o[c].droppedVideoFrames,f=o[c].totalVideoFrames;if(f>r&&a/f>n){l=c-1,t("DroppedFramesRule, index: "+l+" Dropped Frames: "+a+" Total Frames: "+f);break}}return(0,u["default"])(e).create(l,{droppedFrames:a})}return(0,u["default"])(e).create()}var e=this.context,t=(0,f["default"])(e).getInstance().log,n=.15,r=375;return{getMaxIndex:i}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(128),u=r(o),a=e(8),f=r(a);l.__dashjs_factory_name="DroppedFramesRule";var c=s["default"].getClassFactory(l);n["default"]=c,t.exports=n["default"]},{10:10,128:128,8:8}],135:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function m(e){function h(){a={},l=0,c=1e3,r.on(f["default"].PLAYBACK_SEEKING,g,o)}function d(e){var r=(new Date).getTime(),o=e.getMediaInfo().type,u=i.getReadOnlyMetricsFor(o),f=u.BufferState.length>0?u.BufferState[u.BufferState.length-1]:null,h=(0,v["default"])(t).create();return r-l<c||f===null?h:(m(o,f.state),f.state===s["default"].BUFFER_EMPTY&&a[o].firstBufferLoadedEvent!==undefined&&(n("Switch to index 0; buffer is empty."),h.value=0,h.reason="InsufficientBufferRule: Buffer is empty"),l=r,h)}function m(e,t){a[e]=a[e]||{},a[e].state=t,t===s["default"].BUFFER_LOADED&&!a[e].firstBufferLoadedEvent&&(a[e].firstBufferLoadedEvent=!0)}function g(){a={}}function y(){r.off(f["default"].PLAYBACK_SEEKING,g,o),a={},l=0}var t=this.context,n=(0,p["default"])(t).getInstance().log,r=(0,u["default"])(t).getInstance(),i=e.metricsModel,o=undefined,a=undefined,l=undefined,c=undefined;return o={getMaxIndex:d,reset:y},h(),o}Object.defineProperty(n,"__esModule",{value:!0});var i=e(62),s=r(i),o=e(9),u=r(o),a=e(13),f=r(a),l=e(10),c=r(l),h=e(8),p=r(h),d=e(128),v=r(d);m.__dashjs_factory_name="InsufficientBufferRule",n["default"]=c["default"].getClassFactory(m),t.exports=n["default"]},{10:10,128:128,13:13,62:62,8:8,9:9}],136:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function l(){function i(i){var s=i.getSwitchHistory(),o=s.getSwitchRequests(),u=0,a=0,l=0,c=(0,f["default"])(e).create();for(var h=0;h<o.length;h++)if(o[h]!==undefined){u+=o[h].drops,a+=o[h].noDrops,l+=o[h].dropSize;if(u+a>=r&&u/a>n){c.value=h>0?h-1:0,c.reason={index:c.value,drops:u,noDrops:a,dropSize:l},t("Switch history rule index: "+c.value+" samples: "+(u+a)+" drops: "+u);break}}return c}var e=this.context,t=(0,u["default"])(e).getInstance().log,n=.075,r=6;return{getMaxIndex:i}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(8),u=r(o),a=e(128),f=r(a);l.__dashjs_factory_name="SwitchRequest";var c=s["default"].getClassFactory(l);n["default"]=c,t.exports=n["default"]},{10:10,128:128,8:8}],137:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function g(e){function x(){w=[],E=[],S=(0,f["default"])(v).getInstance()}function T(e,t){w[e]=w[e]||[],w[e].push(t)}function N(e,t){return E[e]||(E[e]=[]),E[e].push(t),E[e].length>i?E[e].shift():undefined}function C(e){var t=undefined;return E[e]&&E[e].length>0&&(t=E[e].reduce(function(e,t){return e+t})/E[e].length),t}function k(e,t){var i=Math.min(w[e].length,t?n:r),s=w[e].slice(i*-1,w[e].length);return s.length>1&&s.reduce(function(e,t){return(e*p<=t||e>=t*h)&&i++,t}),i=Math.min(w[e].length,i),w[e].slice(i*-1,w[e].length)}function L(e,n){var r=k(e,n),i=0;if(r.length>0){var s=r.reduce(function(e,t){return e+t},0);i=s/r.length}return w[e].length>=t&&w[e].shift(),i/1e3*S.getBandwidthSafetyFactor()}function A(e,t,n){var r=!1;e<c&&(r=!0);if(!r)switch(n){case"video":r=t<o;break;case"audio":r=t<a;break;default:}return r}function O(e){var t=e.getMediaInfo(),n=t.type,r=b.getReadOnlyMetricsFor(n),i=e.getStreamProcessor(),o=i.getABRController(),a=i.isDynamic(),f=y.getCurrentHttpRequest(r),c=r.BufferState.length>0?r.BufferState[r.BufferState.length-1]:null,h=e.hasRichBuffer(),p=(0,m["default"])(v).create();if(!r||!f||f.type!==l.HTTPRequest.MEDIA_SEGMENT_TYPE||!c||h)return p;var d=undefined,S=undefined;if(f.trace&&f.trace.length){S=f.tresponse.getTime()-f.trequest.getTime()||1,d=f._tfinish.getTime()-f.tresponse.getTime()||1;var x=f.trace.reduce(function(e,t){return e+t.b[0]},0),k=Math.round(x*8/(d/1e3)),O=undefined,M=undefined;A(S,d,n)?!w[n]||!E[n]?(O=k/1e3,M=S):(O=L(n,a),M=C(n)):(T(n,k),O=L(n,a),N(n,S),M=C(n,a)),o.setAverageThroughput(n,O),o.getAbandonmentStateFor(n)!==u["default"].ABANDON_LOAD&&(c.state===s["default"].BUFFER_LOADED||a)&&(p.value=o.getQualityForBitrate(t,O,M),i.getScheduleController().setTimeToLoadDelay(0),g("ThroughputRule requesting switch to index: ",p.value,"type: ",n,"Average throughput",Math.round(O),"kbps"),p.reason={throughput:O,latency:M})}return p}function M(){x()}var t=20,n=3,r=4,i=r,o=50,a=5,c=50,h=1.3,p=1.3,v=this.context,g=(0,d["default"])(v).getInstance().log,y=e.dashMetrics,b=e.metricsModel,w=undefined,E=undefined,S=undefined,_={getMaxIndex:O,reset:M};return x(),_}Object.defineProperty(n,"__esModule",{value:!0});var i=e(62),s=r(i),o=e(59),u=r(o),a=e(99),f=r(a),l=e(182),c=e(10),h=r(c),p=e(8),d=r(p),v=e(128),m=r(v);g.__dashjs_factory_name="ThroughputRule",n["default"]=h["default"].getClassFactory(g),t.exports=n["default"]},{10:10,128:128,182:182,59:59,62:62,8:8,99:99}],138:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){function u(){o=(0,s["default"])(t).getInstance()}function a(e,t,i){var s=n.getCurrentBufferLevel(r.getReadOnlyMetricsFor(t));return s<f(e,t,i)}function f(e,t,s){var u=NaN,a=e.getCurrentRepresentationInfo();if(t==="fragmentedText")u=i.getAllTracksAreDisabled()?0:a.fragmentDuration;else if(t==="audio"&&s){var f=n.getCurrentBufferLevel(r.getReadOnlyMetricsFor("video"));u=Math.floor(Math.max(f,a.fragmentDuration))}else{var l=a.mediaInfo.streamInfo,c=e.getABRController();if(c.isPlayingAtTopQuality(l)){var h=l.manifestInfo.duration>=o.getLongFormContentDurationThreshold();u=h?o.getBufferTimeAtTopQualityLongForm():o.getBufferTimeAtTopQuality()}else u=o.getStableBufferTime()}return u}var t=this.context,n=e.dashMetrics,r=e.metricsModel,i=e.textController,o=undefined,l={execute:a,getBufferTarget:f};return u(),l}Object.defineProperty(n,"__esModule",{value:!0});var i=e(99),s=r(i),o=e(10),u=r(o);a.__dashjs_factory_name="BufferLevelRule",n["default"]=u["default"].getClassFactory(a),t.exports=n["default"]},{10:10,99:99}],139:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){function u(e,t){var s=e.getCurrentRepresentationInfo(),u=s.mediaInfo,a=u.type,f=e.getScheduleController(),l=f.getSeekTarget(),c=!isNaN(l),h=e.getBuffer(),p=c?l:r.getIndexHandlerTime(e);if(isNaN(p)||a==="fragmentedText"&&o.getAllTracksAreDisabled())return null;c&&f.setSeekTarget(NaN);if(h){var d=i.getBufferRange(e.getBuffer(),p);d!==null&&(n("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end.",p," was changed to ",d.end),p=d.end)}var v=undefined;return t?(p=t.startTime+t.duration/2,v=r.getFragmentRequestForTime(e,s,p,{timeThreshold:0,ignoreIsFinished:!0})):(v=r.getFragmentRequestForTime(e,s,p,{keepIdx:!c}),v&&e.getFragmentModel().isFragmentLoaded(v)&&(v=r.getNextFragmentRequest(e,s)),v&&(r.setIndexHandlerTime(e,v.startTime+v.duration),v.delayLoadingTime=(new Date).getTime()+f.getTimeToLoadDelay(),f.setTimeToLoadDelay(0))),v}var t=this.context,n=(0,s["default"])(t).getInstance().log,r=e.adapter,i=e.sourceBufferController,o=e.textController,a={execute:u};return a}Object.defineProperty(n,"__esModule",{value:!0});var i=e(8),s=r(i),o=e(10),u=r(o);a.__dashjs_factory_name="NextFragmentRequestRule",n["default"]=u["default"].getClassFactory(a),t.exports=n["default"]},{10:10,8:8}],140:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){function n(e){var t="";for(var n=0;n<e.length;++n){var r=e[n];t+=r.uchar}var i=t.length,s=t.replace(/^\s+/,"").length;return i-s}function r(e){return"left: "+e.x*3.125+"%; top: "+e.y1*6.66+"%; width: "+(100-e.x*3.125)+"%; height: "+Math.max(e.y2-1-e.y1,1)*6.66+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function i(e){return e==="red"?"rgb(255, 0, 0)":e==="green"?"rgb(0, 255, 0)":e==="blue"?"rgb(0, 0, 255)":e==="cyan"?"rgb(0, 255, 255)":e==="magenta"?"rgb(255, 0, 255)":e==="yellow"?"rgb(255, 255, 0)":e==="white"?"rgb(255, 255, 255)":e==="black"?"rgb(0, 0, 0)":e}function s(e,t){var n=e.videoHeight/15;return t?"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(t.foreground?i(t.foreground):"rgb(255, 255, 255)")+"; font-style: "+(t.italics?"italic":"normal")+"; text-decoration: "+(t.underline?"underline":"none")+"; white-space: pre; background-color: "+(t.background?i(t.background):"transparent")+";":"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function o(e){var t=e.replace(/^\s+/g,"");return t}function u(e){var t=e.replace(/\s+$/g,"");return t}function a(t,i,a,f){var l=null,c=null,h=!1,p=-1,d={start:i,end:a,spans:[]},v="style_cea608_white_black",m={},g={},y=[],b=undefined,w=undefined;for(b=0;b<15;++b){var E=f.rows[b],S="",x=null;if(!1===E.isEmpty()){var T=n(E.chars);l===null&&(l={x:T,y1:b,y2:b+1,p:[]}),T!==p&&h&&(l.p.push(d),d={start:i,end:a,spans:[]},l.y2=b,l.name="region_"+l.x+"_"+l.y1+"_"+l.y2,!1===m.hasOwnProperty(l.name)?(y.push(l),m[l.name]=l):(c=m[l.name],c.p.contat(l.p)),l={x:T,y1:b,y2:b+1,p:[]});for(var N=0;N<E.chars.length;++N){var C=E.chars[N],k=C.penState;if(x===null||!k.equals(x)){S.trim().length>0&&(d.spans.push({name:v,line:S,row:b}),S="");var L="style_cea608_"+k.foreground+"_"+k.background;k.underline&&(L+="_underline"),k.italics&&(L+="_italics"),g.hasOwnProperty(L)||(g[L]=JSON.parse(JSON.stringify(k))),x=k,v=L}S+=C.uchar}S.trim().length>0&&d.spans.push({name:v,line:S,row:b}),h=!0,p=T}else h=!1,p=-1,l&&(l.p.push(d),d={start:i,end:a,spans:[]},l.y2=b,l.name="region_"+l.x+"_"+l.y1+"_"+l.y2,!1===m.hasOwnProperty(l.name)?(y.push(l),m[l.name]=l):(c=m[l.name],c.p.contat(l.p)),l=null)}l&&(l.p.push(d),l.y2=b+1,l.name="region_"+l.x+"_"+l.y1+"_"+l.y2,!1===m.hasOwnProperty(l.name)?(y.push(l),m[l.name]=l):(c=m[l.name],c.p.contat(l.p)),l=null);var A=[];for(b=0;b<y.length;++b){var O=y[b],M="sub_cea608_"+e++,_=document.createElement("div");_.id=M;var D=r(O);_.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+D;var P=document.createElement("div");P.className="paragraph bodyStyle",P.style.cssText=s(t);var H=document.createElement("div");H.className="cueUniWrapper",H.style.cssText="unicode-bidi: normal; direction: ltr;";for(var B=0;B<O.p.length;++B){var j=O.p[B],F=0;for(w=0;w<j.spans.length;++w){var I=j.spans[w];if(I.line.length>0){if(w!==0&&F!=I.row){var q=document.createElement("br");q.className="lineBreak",H.appendChild(q)}var R=!1;F===I.row&&(R=!0),F=I.row;var U=g[I.name],z=document.createElement("span");z.className="spanPadding "+I.name+" customSpanColor",z.style.cssText=s(t,U),w!==0&&R?w===j.spans.length-1?z.textContent=u(I.line):z.textContent=I.line:w===0?j.spans.length>1?I.row===j.spans[1].row?z.textContent=o(I.line):z.textContent=I.line.trim():z.textContent=I.line.trim():z.textContent=I.line.trim(),H.appendChild(z)}}}P.appendChild(H),_.appendChild(P);var W={bodyStyle:["%",90]};for(w in g)g.hasOwnProperty(w)&&(W[w]=["%",90]);A.push({type:"html",start:i,end:a,cueHTMLElement:_,cueID:M,cellResolution:[32,15],isFromCEA608:!0,regions:y,regionID:O.name,videoHeight:t.videoHeight,videoWidth:t.videoWidth,fontSize:W,lineHeight:{},linePadding:{}})}return A}var e=0,t=undefined;return t={createHTMLCaptionsFromScreen:a},t}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="EmbeddedTextHtmlRender",n["default"]=s["default"].getSingletonFactory(o),t.exports=n["default"]},{10:10}],141:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function h(e){function g(){f=!1,l=null,h=null,p=null,d=null,v=null,a=!1,n.on(u["default"].DATA_UPDATE_COMPLETED,O,this),n.on(u["default"].INIT_FRAGMENT_LOADED,M,this)}function y(e,n,r){p=e,x(n),d=r,v=d.getRepresentationController(),m=(0,c["default"])(t).getInstance()}function b(e){try{h=r.createSourceBuffer(l,e),f||(h.hasOwnProperty("initialize")&&h.initialize(p,this),f=!0)}catch(t){i.mediaSourceError("Error creating "+p+" source buffer.")}return h}function w(){return p}function E(){return h}function S(e){h=e}function x(e){l=e}function T(){return l}function N(e){d=e}function C(){return d}function k(){return 0}function L(){return 0}function A(e){n.off(u["default"].DATA_UPDATE_COMPLETED,O,this),n.off(u["default"].INIT_FRAGMENT_LOADED,M,this),e||(r.abort(l,h),r.removeSourceBuffer(l,h))}function O(e){if(e.sender.getStreamProcessor()!==d)return;n.trigger(u["default"].TIMED_TEXT_REQUESTED,{index:0,sender:e.sender})}function M(e){if(e.fragmentModel!==d.getFragmentModel()||!e.chunk.bytes)return;r.append(h,e.chunk)}function _(){return a}function D(e,t){var i=m.extract(e,p,t);i?r.append(i):n.trigger(u["default"].INIT_REQUESTED,{sender:o})}var t=this.context,n=(0,s["default"])(t).getInstance(),r=e.sourceBufferController,i=e.errHandler,o=undefined,a=undefined,f=undefined,l=undefined,h=undefined,p=undefined,d=undefined,v=undefined,m=undefined;return o={initialize:y,createBuffer:b,getType:w,getStreamProcessor:C,setStreamProcessor:N,getBuffer:E,setBuffer:S,getBufferLevel:k,getCriticalBufferLevel:L,setMediaSource:x,getMediaSource:T,getIsBufferingCompleted:_,switchInitData:D,reset:A},g(),o}Object.defineProperty(n,"__esModule",{value:!0});var i=e(9),s=r(i),o=e(13),u=r(o),a=e(10),f=r(a),l=e(153),c=r(l);h.__dashjs_factory_name="NotFragmentedTextBufferController",n["default"]=f["default"].getClassFactory(h),t.exports=n["default"]},{10:10,13:13,153:153,9:9}],142:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function l(e){function i(e){e.type==="fragmentedText"?n=(0,u["default"])(t).create({metricsModel:e.metricsModel,manifestModel:e.manifestModel,sourceBufferController:e.sourceBufferController,errHandler:e.errHandler,streamController:e.streamController,mediaController:e.mediaController,adapter:e.adapter,textController:e.textController}):n=(0,f["default"])(t).create({errHandler:e.errHandler,sourceBufferController:e.sourceBufferController})}function s(e,t,r){return n.initialize(e,t,r)}function o(e){return n.createBuffer(e)}function a(){return n.getType()}function l(){return n.getBuffer()}function c(e){n.setBuffer(e)}function h(){return n.getMediaSource()}function p(e){n.setMediaSource(e)}function d(e){n.setStreamProcessor(e)}function v(){n.getStreamProcessor()}function m(){return n.getBufferLevel()}function g(){return n.getCriticalBufferLevel()}function y(e){n.reset(e)}function b(){return n.getIsBufferingCompleted()}function w(e,t){n.switchInitData(e,t)}var t=this.context,n=undefined,r=undefined;return r={initialize:s,createBuffer:o,getType:a,getStreamProcessor:v,setStreamProcessor:d,getBuffer:l,setBuffer:c,getBufferLevel:m,getCriticalBufferLevel:g,setMediaSource:p,getMediaSource:h,getIsBufferingCompleted:b,switchInitData:w,reset:y},i(e),r}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(62),u=r(o),a=e(141),f=r(a);l.__dashjs_factory_name="TextBufferController",n["default"]=s["default"].getClassFactory(l),n["default"]=s["default"].getClassFactory(l),t.exports=n["default"]},{10:10,141:141,62:62}],143:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function d(){function m(){h=(0,f["default"])(e).getInstance(),d=(0,c["default"])(e).getInstance(),v=(0,p["default"])(e).getInstance(),n=(0,u["default"])(e).getInstance(),h.initialize(),r=!1}function g(e){if(!e)return;e.errHandler&&(i=e.errHandler),e.dashManifestModel&&(s=e.dashManifestModel),e.mediaController&&(o=e.mediaController),e.videoModel&&(a=e.videoModel),e.streamController&&(l=e.streamController),e.textTracks&&(h=e.textTracks),e.vttParser&&(d=e.vttParser),e.ttmlParser&&(v=e.ttmlParser),n.setConfig({errHandler:i,dashManifestModel:s,mediaController:o,videoModel:a,streamController:l,textTracks:h,vttParser:d,ttmlParser:v})}function y(){return n}function b(){return r}function w(e){n.addEmbeddedTrack(e)}function E(){var e=n.getConfig(),t=e.fragmentModel,r=e.embeddedTracks,i=e.isFragmented,s=e.fragmentedTracks,u=e.allTracksAreDisabled,f=a.getElement(),c=f.textTracks,p=c.length,d=p-r.length,v=h.getCurrentTrackIdx();for(var m=0;m<p;m++){var g=c[m];u=g.mode!=="showing";if(g.mode==="showing"){if(v!==m){h.setCurrentTrackIdx(m),h.addCaptions(m,0,null);if(i&&m<d){var y=o.getCurrentTrackFor("fragmentedText",l.getActiveStreamInfo()),b=s[m];b!==y&&(t.abortRequests(),h.deleteTrackCues(y),o.setTrack(b),n.setCurrentFragmentedTrackIdx(m))}}break}}u&&h.setCurrentTrackIdx(-1)}function S(){var e=n.getConfig().textTracks;return e.getCurrentTrackIdx()}function x(){r=!1,n.resetEmbedded()}var e=this.context,t=undefined,n=undefined,r=undefined,i=undefined,s=undefined,o=undefined,a=undefined,l=undefined,h=undefined,d=undefined,v=undefined;return t={setConfig:g,getTextSourceBuffer:y,getAllTracksAreDisabled:b,addEmbeddedTrack:w,setTextTrack:E,getCurrentTrackIdx:S,reset:x},m(),t}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(144),u=r(o),a=e(145),f=r(a),l=e(160),c=r(l),h=e(158),p=r(h);d.__dashjs_factory_name="TextController",n["default"]=s["default"].getSingletonFactory(d),t.exports=n["default"]},{10:10,144:144,145:145,158:158,160:160}],144:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function O(){function z(t,n){p=null,C=null,L=!1,O=NaN,M=[],P=null,r||V();var i=n.getStreamProcessor();w=i.getMediaInfoArr(),S.setConfig({videoModel:_}),S.initialize(),T=!l.getIsTextTrack(t),o=(0,f["default"])(e).getInstance(),y=(0,u["default"])(e).getInstance(),y.setConfig({boxParser:o});if(T){C=i.getFragmentModel(),this.buffered=(0,c["default"])(e).create(),M=h.getTracksFor("fragmentedText",D.getActiveStreamInfo());var s=h.getCurrentTrackFor("fragmentedText",D.getActiveStreamInfo());for(var a=0;a<M.length;a++)if(M[a]===s){H=a;break}}}function W(){S.deleteAllTextTracks(),p=null,y=null,w=null,S=null,T=!1,C=null,L=!1,O=NaN,M=[],_=null,D=null,r=!1,B=null}function X(e){var t=e.chunk;t.mediaInfo.embeddedCaptions&&Y(t.bytes,t)}function V(){B=[],w=[],_=(0,g["default"])(e).getInstance(),S=(0,b["default"])(e).getInstance(),S.setConfig({videoModel:_}),S.initialize(),o=(0,f["default"])(e).getInstance(),y=(0,u["default"])(e).getInstance(),y.setConfig({boxParser:o}),T=!1,H=null,j=!1,F=0,R=[],q=[],I=null,r=!0,U=(0,E["default"])(e).getInstance(),n.on(A["default"].VIDEO_CHUNK_RECEIVED,X,this)}function $(){n.off(A["default"].VIDEO_CHUNK_RECEIVED,X,this),S!==null&&S.deleteAllTextTracks(),r=!1,B=[],R=[null,null],q=[],I=null}function J(e){r||V(),e.id==="CC1"||e.id==="CC3"?B.push(e):t("Warning: Embedded track "+e.id+" not supported!")}function K(e){if(!e)return;e.errHandler&&(a=e.errHandler),e.dashManifestModel&&(l=e.dashManifestModel),e.mediaController&&(h=e.mediaController),e.videoModel&&(_=e.videoModel),e.streamController&&(D=e.streamController),e.textTracks&&(S=e.textTracks),e.vttParser&&(d=e.vttParser),e.ttmlParser&&(m=e.ttmlParser)}function Q(){var e={errHandler:a,dashManifestModel:l,mediaController:h,videoModel:_,fragmentModel:C,streamController:D,textTracks:S,isFragmented:T,embeddedTracks:B,fragmentedTracks:M};return e}function G(e){H=e}function Y(e,n){function g(e,t){var n=new s["default"],r={subtitle:"subtitles",caption:"captions"},i=function(){var n=t.roles.length>0?r[t.roles[0]]:r.caption;return n=n===r.caption||n===r.subtitle?n:r.caption,n},o=function(){var n=!1;return t.codec&&t.codec.search("stpp")>=0&&(n=!0),t.mimeType&&t.mimeType.search("ttml")>=0&&(n=!0),n};n.captionData=e,n.lang=t.lang,n.label=t.id,n.index=t.index,n.isTTML=o(),n.video=_.getElement(),n.defaultTrack=et(t),n.isFragmented=T,n.isEmbedded=t.isEmbedded?!0:!1,n.kind=i(),n.roles=t.roles;var u=(w?w.length:0)+B.length;S.addTextTrack(n,u)}var r,i,o,u,f,l,c,h=n.mediaInfo,d=h.type,v=h.mimeType,m=h.codec||v;if(!m){t("No text type defined");return}if(d==="fragmentedText")if(!L){L=!0;for(o=0;o<w.length;o++)g(null,w[o]);O=y.getMediaTimescaleFromMoov(e)}else{l=y.getSamplesInfo(e),i=l.sampleList,!P&&i.length>0&&(P=i[0].cts-n.start*O);if(m.search("stpp")>=0){p=p!==null?p:tt(m);for(o=0;o<i.length;o++){var b=i[o],E=b.cts,C=E-P;this.buffered.add(C/O,(C+b.duration)/O);var k=new DataView(e,b.offset,b.subSizes[0]);c=x["default"].Utils.dataViewToString(k,"utf-8");var A=[],M=b.offset+b.subSizes[0];for(u=1;u<b.subSizes.length;u++){var D=new Uint8Array(e,M,b.subSizes[u]),j=String.fromCharCode.apply(null,D);A.push(j),M+=b.subSizes[u]}try{r=p.parse(c,E/O,(E+b.duration)/O,A),S.addCaptions(H,P/O,r)}catch(z){t("TTML parser error: "+z.message)}}}else{var W=[];for(o=0;o<i.length;o++){var X=i[o];X.cts-=P,this.buffered.add(X.cts/O,(X.cts+X.duration)/O);var V=e.slice(X.offset,X.offset+X.size),$=x["default"].parseBuffer(V);for(u=0;u<$.boxes.length;u++){var J=$.boxes[u];t("VTT box1: "+J.type);if(J.type==="vtte")continue;if(J.type==="vttc"){t("VTT vttc boxes.length = "+J.boxes.length);for(f=0;f<J.boxes.length;f++){var K=J.boxes[f];t("VTT box2: "+K.type);if(K.type==="payl"){var Q=K.cue_text;t("VTT cue_text = "+Q);var G=X.cts/O,Y=(X.cts+X.duration)/O;W.push({start:G,end:Y,data:Q,styles:{}}),t("VTT "+G+"-"+Y+" : "+Q)}}}}}W.length>0&&S.addCaptions(H,0,W)}}else if(d==="text"){var k=new DataView(e,0,e.byteLength);c=x["default"].Utils.dataViewToString(k,"utf-8");try{r=tt(m).parse(c),g(r,h)}catch(z){a.timedTextError(z,"parse",c)}}else if(d==="video")if(n.segmentType==="InitializationSegment"){if(F===0){F=y.getMediaTimescaleFromMoov(e);for(o=0;o<B.length;o++)g(null,B[o])}}else{if(F===0){t("CEA-608: No timescale for embeddedTextTrack yet");return}var nt=function(t,n){function r(e,t,r){var i=null;if(_.getTTMLRenderingDiv())i=U.createHTMLCaptionsFromScreen(_.getElement(),e,t,r);else{var s=r.getDisplayText();i=[{start:e,end:t,data:s,styles:{}}]}i&&S.addCaptions(n,0,i)}return r};l=y.getSamplesInfo(e);var rt=l.sequenceNumber;if(!R[0]&&!R[1]){var it=undefined,st=undefined,ot=undefined;for(o=0;o<B.length;o++){B[o].id==="CC1"?(it=0,ot=S.getTrackIdxForId("CC1")):B[o].id==="CC3"&&(it=1,ot=S.getTrackIdxForId("CC3"));if(ot===-1){t("CEA-608: data before track is ready.");return}st=nt(this,ot),R[o]=new N["default"].Cea608Parser(o,{newCue:st},null)}}if(F&&q.indexOf(rt)==-1){if(I!==null&&rt!==I+1)for(o=0;o<R.length;o++)R[o]&&R[o].reset();var ut=Z(e);for(var at=0;at<R.length;at++){var ft=ut.fields[at],lt=R[at];if(lt){for(o=0;o<ft.length;o++)lt.addData(ft[o][0]/F,ft[o][1]);ut.endTime&&lt.cueSplitAtTime(ut.endTime/F)}}I=rt,q.push(rt)}}}function Z(e){var n=o.parse(e),r=n.getBox("moof"),i=n.getBox("tfdt"),s=n.getBox("tfhd"),u=n.getBoxes("trun"),a=null;if(u.length===0)return null;a=u[0],u.length>1&&t("Warning: Too many truns");var f=r.offset+a.data_offset,l=a.sample_count,c=f,h=i.baseMediaDecodeTime,p=new DataView(e),d={startTime:null,endTime:null,fields:[[],[]]},v=0;for(var m=0;m<l;m++){var g=a.samples[m];g.sample_duration===undefined&&(g.sample_duration=s.default_sample_duration),g.sample_size===undefined&&(g.sample_size=s.default_sample_size),g.sample_composition_time_offset===undefined&&(g.sample_composition_time_offset=0);var y=h+v+g.sample_composition_time_offset,b=N["default"].findCea608Nalus(p,c,g.sample_size);for(var w=0;w<b.length;w++){var E=N["default"].extractCea608DataFromRange(p,b[w]);for(var S=0;S<2;S++)E[S].length>0&&d.fields[S].push([y,E[S]])}v+=g.sample_duration,c+=g.sample_size}d.fields[0].sort(function(e,t){return e[0]-t[0]}),d.fields[1].sort(function(e,t){return e[0]-t[0]});var x=h+v;return d.startTime=h,d.endTime=x,d}function et(e){var t=!1;return B.length>1&&e.isEmbedded?t=e.id&&e.id==="CC1":B.length===1?e.id&&e.id.substring(0,2)==="CC"&&(t=!0):B.length===0&&(t=e.index===w[0].index),t}function tt(e){var t;if(e.search("vtt")>=0)t=d;else if(e.search("ttml")>=0||e.search("stpp")>=0)t=m,t.setConfig({videoModel:_});return t}var e=this.context,t=(0,v["default"])(e).getInstance().log,n=(0,k["default"])(e).getInstance(),r=!1,i=undefined,o=undefined,a=undefined,l=undefined,h=undefined,p=undefined,d=undefined,m=undefined,y=undefined,w=undefined,S=undefined,T=undefined,C=undefined,L=undefined,O=undefined,M=undefined,_=undefined,D=undefined,P=undefined,H=undefined,B=undefined,j=undefined,F=undefined,I=undefined,q=undefined,R=undefined,U=undefined;return i={initialize:z,append:Y,abort:W,addEmbeddedTrack:J,resetEmbedded:$,setConfig:K,getConfig:Q,setCurrentFragmentedTrackIdx:G},i}Object.defineProperty(n,"__esModule",{value:!0});var i=e(174),s=r(i),o=e(33),u=r(o),a=e(147),f=r(a),l=e(149),c=r(l),h=e(10),p=r(h),d=e(8),v=r(d),m=e(102),g=r(m),y=e(145),b=r(y),w=e(140),E=r(w),S=e(6),x=r(S),T=e(2),N=r(T),C=e(9),k=r(C),L=e(13),A=r(L);O.__dashjs_factory_name="TextSourceBuffer",n["default"]=p["default"].getSingletonFactory(O),t.exports=n["default"]},{10:10,102:102,13:13,140:140,145:145,147:147,149:149,174:174,2:2,33:33,6:6,8:8,9:9}],145:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function h(){function x(){if(typeof window=="undefined"||typeof navigator=="undefined")return;i=window.VTTCue||window.TextTrackCue,f=[],l=[],h=-1,p=0,d=0,v=0,m=0,g=null,y=null,E=!1,S=2147483647,b=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/),document.fullscreenElement!==undefined?w="fullscreenElement":document.webkitIsFullScreen!==undefined?w="webkitIsFullScreen":document.msFullscreenElement?w="msFullscreenElement":document.mozFullScreen&&(w="mozFullScreen")}function T(e){var t=f[e].kind,n=f[e].label!==undefined?f[e].label:f[e].lang,r=f[e].lang,i=b?document.createElement("track"):a.addTextTrack(t,n,r);return b&&(i.kind=t,i.label=n,i.srclang=r),i}function N(e){E=e;if(!g||document[w])return;g.style.zIndex=e?S:null}function C(e,r){if(f.length===r){n("Trying to add too many tracks.");return}f.push(e),a===undefined&&(a=e.video);if(f.length===r){f.sort(function(e,t){return e.index-t.index}),g=o.getTTMLRenderingDiv();var i=-1;for(var s=0;s<f.length;s++){var c=T.call(this,s);l.push(c),f[s].defaultTrack&&(c["default"]=!0,i=s),b&&a.appendChild(c);var p=a.textTracks[s];p.nonAddedCues=[],g&&(f[s].isTTML||f[s].isEmbedded)?p.renderingType="html":p.renderingType="default",this.addCaptions(s,0,f[s].captionData),t.trigger(u["default"].TEXT_TRACK_ADDED)}B.call(this,i);if(i>=0){for(var d=0;d<a.textTracks.length;d++)a.textTracks[d].mode=d===i?"showing":"hidden";this.addCaptions(i,0,null)}t.trigger(u["default"].TEXT_TRACKS_ADDED,{index:h,tracks:f})}}function k(e,t,n,r,i,s){var o=e/t,u=n/r,a=0,f=0;o>u?(f=t,a=f/r*n):(a=e,f=a/n*r);var l=0,c=0,h=0,p=0,d=a/f;return d>i?(p=f,h=f/(1/i),l=(e-h)/2,c=0):(h=a,p=a/i,l=0,c=(t-p)/2),s?{x:l+h*.1,y:c+p*.1,w:h*.8,h:p*.8}:{x:l,y:c,w:h,h:p}}function L(){var e=this.getCurrentTextTrack();if(e&&e.renderingType==="html"){var t=a.clientWidth/a.clientHeight,n=!1;e.isFromCEA608&&(t=3.5/3,n=!0);var r=k.call(this,a.clientWidth,a.clientHeight,a.videoWidth,a.videoHeight,t,n),i=r.w,s=r.h;if(i!=v||s!=m){p=r.x,d=r.y,v=i,m=s,g.style.left=p+"px",g.style.top=d+"px",g.style.width=v+"px",g.style.height=m+"px";for(var o=0;e.activeCues&&o<e.activeCues.length;++o){var u=e.activeCues[o];u.scaleCue(u)}w&&document[w]||E?g.style.zIndex=S:g.style.zIndex=null}}}function A(e,t){var n=Math.round(.01*e*t).toString()+"px";return n}function O(e){var t=v,n=m;if(t*n===0)return;if(e.layout){var r=e.layout,i=A(r.left,t),s=A(r.top,n),o=A(r.width,t),u=A(r.height,n);g.style.left=i,g.style.top=s,g.style.width=o,g.style.height=u;var a=g.firstChild;a&&a.style&&(a.style.left="0px",a.style.top="0px",a.style.width=o,a.style.height=u,w&&document[w]||E?a.style.zIndex=S:a.style.zIndex=null)}}function M(e){var t=v,n=m,r,i,s,o,u,a=[t/e.cellResolution[0],n/e.cellResolution[1]];if(e.linePadding)for(r in e.linePadding)if(e.linePadding.hasOwnProperty(r)){var f=e.linePadding[r];i=(f*a[0]).toString();var l=document.getElementsByClassName("spanPadding");for(var c=0;c<l.length;c++)l[c].style.cssText=l[c].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i),l[c].style.cssText=l[c].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}if(e.fontSize)for(r in e.fontSize)if(e.fontSize.hasOwnProperty(r)){e.fontSize[r][0]==="%"?s=e.fontSize[r][1]/100:e.fontSize[r][0]==="c"&&(s=e.fontSize[r][1]),i=(s*a[1]).toString(),r!=="defaultFontSize"?u=document.getElementsByClassName(r):u=document.getElementsByClassName("paragraph");for(var h=0;h<u.length;h++)u[h].style.cssText=u[h].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}if(e.lineHeight)for(r in e.lineHeight)if(e.lineHeight.hasOwnProperty(r)){e.lineHeight[r][0]==="%"?o=e.lineHeight[r][1]/100:e.fontSize[r][0]==="c"&&(o=e.lineHeight[r][1]),i=(o*a[1]).toString(),u=document.getElementsByClassName(r);for(var p=0;p<u.length;p++)u[p].style.cssText=u[p].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}}function _(e,t,r){var s=e>=0?a.textTracks[e]:null,o=this;if(!s)return;if(s.mode!=="showing"){r&&r.length>0&&(s.nonAddedCues=s.nonAddedCues.concat(r));return}r||(r=s.nonAddedCues,s.nonAddedCues=[]);if(!r||r.length===0)return;for(var u in r){var f,l=r[u];s.cellResolution=l.cellResolution,s.isFromCEA608=l.isFromCEA608,!y&&(l.type==="html"||l.type==="image")&&(y=setInterval(L.bind(this),500)),l.type==="image"?(f=new i(l.start-t,l.end-t,""),f.image=l.data,f.id=l.id,f.size=0,f.type="image",f.layout=l.layout,f.scaleCue=O.bind(o),f.onenter=function(){if(!g)return;if(s.mode==="showing"){var e=new Image;e.id="ttmlImage_"+this.id,e.src=this.image,e.style.cssText="pointer-events: none; display: block; visibility: visible !important; position: relative !important;",g.appendChild(e),O.call(o,this)}},f.onexit=function(){if(!g)return;var e=g.childNodes;for(var t=0;t<e.length;t++)e[t].id==="ttmlImage_"+this.id&&g.removeChild(e[t])}):l.type==="html"?(f=new i(l.start-t,l.end-t,""),f.cueHTMLElement=l.cueHTMLElement,f.regions=l.regions,f.regionID=l.regionID,f.cueID=l.cueID,f.videoWidth=l.videoWidth,f.videoHeight=l.videoHeight,f.cellResolution=l.cellResolution,f.fontSize=l.fontSize,f.lineHeight=l.lineHeight,f.linePadding=l.linePadding,f.scaleCue=M.bind(o),g.style.left=p+"px",g.style.top=d+"px",g.style.width=v+"px",g.style.height=m+"px",f.onenter=function(){s.mode==="showing"&&(n("Cue "+this.startTime+"-"+this.endTime+" : "+this.cueHTMLElement.id+" : "+this.cueHTMLElement.innerText),g.appendChild(this.cueHTMLElement),M.call(o,this))},f.onexit=function(){var e=g.childNodes;for(var t=0;t<e.length;++t)e
[t].id===this.cueID&&g.removeChild(e[t])}):(f=new i(l.start-t,l.end-t,l.data),l.styles&&(l.styles.align!==undefined&&"align"in f&&(f.align=l.styles.align),l.styles.line!==undefined&&"line"in f&&(f.line=l.styles.line),l.styles.position!==undefined&&"position"in f&&(f.position=l.styles.position),l.styles.size!==undefined&&"size"in f&&(f.size=l.styles.size))),s.addCue(f)}}function D(){return h>=0?a.textTracks[h]:null}function P(){return h}function H(e){var t=-1;for(var n=0;n<a.textTracks.length;n++)if(a.textTracks[n].label===e){t=n;break}return t}function B(e){h=e,z.call(this);if(e>=0){var t=a.textTracks[e];t.renderingType==="html"?R.call(this):U.call(this)}else U.call(this)}function j(e){return a.textTracks[e]}function F(e){if(e.cues){var t=e.cues,n=t.length-1;for(var r=n;r>=0;r--)e.removeCue(t[r]);e.mode="disabled"}}function I(){var e=l.length;for(var t=0;t<e;t++)if(b)a.removeChild(l[t]);else{var n=j.call(this,t);n.nonAddedCues=[],F.call(this,n)}l=[],f=[],y&&(clearInterval(y),y=null),z.call(this)}function q(e){a.removeChild(l[e]),l.splice(e,1)}function R(){if(!b)return;var e=document.getElementById("native-cue-style");if(e)return;e=document.createElement("style"),e.id="native-cue-style",document.head.appendChild(e);var t=e.sheet;a.id?t.insertRule("#"+a.id+"::cue {background: transparent}",0):a.classList.length!==0?t.insertRule("."+a.className+"::cue {background: transparent}",0):t.insertRule("video::cue {background: transparent}",0)}function U(){if(!b)return;var e=document.getElementById("native-cue-style");e&&document.head.removeChild(e)}function z(){if(g)while(g.firstChild)g.removeChild(g.firstChild)}function W(e){if(!e)return;e.videoModel&&(o=e.videoModel)}var e=this.context,t=(0,s["default"])(e).getInstance(),n=(0,c["default"])(e).getInstance().log,r=undefined,i=undefined,o=undefined,a=undefined,f=undefined,l=undefined,h=undefined,p=undefined,d=undefined,v=undefined,m=undefined,g=undefined,y=undefined,b=undefined,w=undefined,E=undefined,S=undefined;return r={initialize:x,displayCConTop:N,addTextTrack:C,addCaptions:_,getTextTrack:j,getCurrentTextTrack:D,getCurrentTrackIdx:P,setCurrentTrackIdx:B,getTrackIdxForId:H,deleteTrackCues:F,deleteAllTextTracks:I,deleteTextTrack:q,setConfig:W},r}Object.defineProperty(n,"__esModule",{value:!0});var i=e(9),s=r(i),o=e(13),u=r(o),a=e(10),f=r(a),l=e(8),c=r(l);h.__dashjs_factory_name="TextTracks",n["default"]=f["default"].getSingletonFactory(h),t.exports=n["default"]},{10:10,13:13,8:8,9:9}],146:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function w(){function h(){i=(0,c["default"])(e).create({updateEventName:u["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,loadFailedEventName:u["default"].FRAGMENT_LOADING_COMPLETED}),o=(0,v["default"])(e).create({blacklistController:i}),a=(0,p["default"])(e).create({blacklistController:i}),l=o}function d(e){e.selector&&(l=e.selector)}function m(e){n.getIsDVB(e)?l=a:l=o}function g(e){var n=e.baseUrls,r=e.selectedIdx;if(!isNaN(r))return n[r];var i=l.select(n);if(!i){t.trigger(u["default"].URL_RESOLUTION_FAILED,{error:new Error(y,b)});return}return e.selectedIdx=n.indexOf(i),i}function w(){i.reset()}var e=this.context,t=(0,s["default"])(e).getInstance(),n=(0,f["default"])(e).getInstance(),r=undefined,i=undefined,o=undefined,a=undefined,l=undefined;return r={chooseSelectorFromManifest:m,select:g,reset:w,setConfig:d},h(),r}Object.defineProperty(n,"__esModule",{value:!0});var i=e(9),s=r(i),o=e(13),u=r(o),a=e(22),f=r(a),l=e(61),c=r(l),h=e(162),p=r(h),d=e(161),v=r(d),m=e(10),g=r(m),y=1,b="Failed to resolve a valid URL";w.__dashjs_factory_name="BaseURLSelector";var E=g["default"].getClassFactory(w);E.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=y,E.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE=b,n["default"]=E,t.exports=n["default"]},{10:10,13:13,161:161,162:162,22:22,61:61,9:9}],147:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function l(){function n(e){if(!e)return null;e.fileStart===undefined&&(e.fileStart=0);var n=f["default"].parseBuffer(e),r=(0,s["default"])(t).create();return r.setData(n),r}var e=undefined,t=this.context;return e={parse:n},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(154),s=r(i),o=e(10),u=r(o),a=e(6),f=r(a);l.__dashjs_factory_name="BoxParser",n["default"]=u["default"].getSingletonFactory(l),t.exports=n["default"]},{10:10,154:154,6:6}],148:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){function n(){t=!1}function r(){var e="WebKitMediaSource"in window,t="MediaSource"in window;return e||t}function i(){return t}function s(e){t=e}function o(e,t){var n=e.canPlayType(t);return n==="probably"||n==="maybe"}var e=undefined,t=undefined;return e={supportsMediaSource:r,supportsEncryptedMedia:i,supportsCodec:o,setEncryptedMediaSupported:s},n(),e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="Capabilities",n["default"]=s["default"].getSingletonFactory(o),t.exports=n["default"]},{10:10}],149:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){function n(e,t){var n=0;for(n=0;n<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[n].start;n++);this.customTimeRangeArray.splice(n,0,{start:e,end:t});for(n=0;n<this.customTimeRangeArray.length-1;n++)this.mergeRanges(n,n+1)&&n--;this.length=this.customTimeRangeArray.length}function r(){this.customTimeRangeArray=[],this.length=0}function i(e,t){for(var n=0;n<this.customTimeRangeArray.length;n++)if(e<=this.customTimeRangeArray[n].start&&t>=this.customTimeRangeArray[n].end)this.customTimeRangeArray.splice(n,1),n--;else{if(e>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end){this.customTimeRangeArray.splice(n+1,0,{start:t,end:this.customTimeRangeArray[n].end}),this.customTimeRangeArray[n].end=e;break}e>this.customTimeRangeArray[n].start&&e<this.customTimeRangeArray[n].end?this.customTimeRangeArray[n].end=e:t>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end&&(this.customTimeRangeArray[n].start=t)}this.length=this.customTimeRangeArray.length}function s(e,t){var n=this.customTimeRangeArray[e],r=this.customTimeRangeArray[t];return n.start<=r.start&&r.start<=n.end&&n.end<=r.end?(n.end=r.end,this.customTimeRangeArray.splice(t,1),!0):r.start<=n.start&&n.start<=r.end&&r.end<=n.end?(n.start=r.start,this.customTimeRangeArray.splice(t,1),!0):r.start<=n.start&&n.start<=r.end&&n.end<=r.end?(this.customTimeRangeArray.splice(e,1),!0):n.start<=r.start&&r.start<=n.end&&r.end<=n.end?(this.customTimeRangeArray.splice(t,1),!0):!1}function o(e){return this.customTimeRangeArray[e].start}function u(e){return this.customTimeRangeArray[e].end}var e=[],t=0;return{customTimeRangeArray:e,length:t,add:n,clear:r,remove:i,mergeRanges:s,start:o,end:u}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="CustomTimeRanges",n["default"]=s["default"].getClassFactory(o),t.exports=n["default"]},{10:10}],150:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function v(){function s(e){if(r!==undefined)return r;r=!1;var n="1",i="1",s;try{typeof window!="undefined"&&(s=window[e])}catch(o){return t("Warning: DOMStorage access denied: "+o.message),r}if(!s||e!==p&&e!==d)return r;try{s.setItem(n,i),s.removeItem(n),r=!0}catch(o){t("Warning: DOMStorage is supported, but cannot be used: "+o.message)}return r}function o(){s(p)&&l.forEach(function(e){var n=localStorage.getItem(e.oldKey);if(n){localStorage.removeItem(e.oldKey);try{localStorage.setItem(e.newKey,n)}catch(r){t(r.message)}}})}function a(){i=(0,u["default"])(e).getInstance(),o()}function v(){var e=6e5;return Math.round((new Date).getTime()/e)*e}function m(e,t){return s(e)&&i["get"+t+"CachingInfo"]().enabled}function g(e){if(!m(p,"LastMediaSettings"))return null;var t=h.replace(/\?/,e),n=JSON.parse(localStorage.getItem(t))||{},r=(new Date).getTime()-parseInt(n.timestamp,10)>=i.getLastMediaSettingsCachingInfo().ttl||!1,s=n.settings;return r&&(localStorage.removeItem(t),s=null),s}function y(e){var n=NaN;if(m(p,"LastBitrate")){var r=c.replace(/\?/,e),s=JSON.parse(localStorage.getItem(r))||{},o=(new Date).getTime()-parseInt(s.timestamp,10)>=i.getLastBitrateCachingInfo().ttl||!1,u=parseInt(s.bitrate,10);!isNaN(u)&&!o?(n=u,t("Last saved bitrate for "+e+" was "+u)):o&&localStorage.removeItem(r)}return n}function b(e,n){if(m(p,"LastMediaSettings")){var r=h.replace(/\?/,e);try{localStorage.setItem(r,JSON.stringify({settings:n,timestamp:v()}))}catch(i){t(i.message)}}}function w(e,n){if(m(p,"LastBitrate")&&n){var r=c.replace(/\?/,e);try{localStorage.setItem(r,JSON.stringify({bitrate:n/1e3,timestamp:v()}))}catch(i){t(i.message)}}}var e=this.context,t=(0,f["default"])(e).getInstance().log,n=undefined,r=undefined,i=undefined;return n={getSavedBitrateSettings:y,setSavedBitrateSettings:w,getSavedMediaSettings:g,setSavedMediaSettings:b,isSupported:s},a(),n}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(99),u=r(o),a=e(8),f=r(a),l=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],c="dashjs_?_bitrate",h="dashjs_?_settings",p="localStorage",d="sessionStorage";v.__dashjs_factory_name="DOMStorage";var m=s["default"].getSingletonFactory(v);n["default"]=m,t.exports=n["default"]},{10:10,8:8,99:99}],151:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){function i(){return r}function s(e){r=e}function o(e,t){var i=!0,s=0,o=undefined,a=undefined;t===undefined&&(t=!1),e.tag>16777215?(n.getUint32(r)!==e.tag&&(i=!1),s=4):e.tag>65535?(o=n.getUint16(r),a=n.getUint8(r+2),o*256+a!==e.tag&&(i=!1),s=3):e.tag>255?(n.getUint16(r)!==e.tag&&(i=!1),s=2):(n.getUint8(r)!==e.tag&&(i=!1),s=1);if(!i&&e.required&&!t)throw new u["default"]("required tag not found");return i&&(r+=s),i}function a(e,t){var n=o(e,t);return n&&c(),n}function f(e){var n=undefined;return o(e),n=c(),t[e.parse](n)}function l(e,t){var n=o(e,t),i=undefined;return n&&(i=c(),r+=i),n}function c(e){var t=1,i=128,s=8,o=-1,u=0,a=n.getUint8(r),f=undefined;for(f=0;f<s;f+=1){if((a&i)===i){u=e===undefined?a&~i:a,o=f;break}i>>=1}for(f=0;f<o;f+=1,t+=1)u=u<<8|255&n.getUint8(r+t);return r+=t,u}function h(e){var t=undefined;switch(e){case 4:t=n.getFloat32(r),r+=4;break;case 8:t=n.getFloat64(r),r+=8}return t}function p(e){var t=0,i=undefined;for(i=0;i<e;i+=1)t<<=8,t|=n.getUint8(r+i)&255;return r+=e,t}function d(){return r<n.byteLength}var t=undefined,n=new DataView(e.data),r=0;return t={getPos:i,setPos:s,consumeTag:o,consumeTagAndSize:a,parseTag:f,skipOverElement:l,getMatroskaCodedNum:c,getMatroskaFloat:h,getMatroskaUint:p,moreData:d},t}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(165),u=r(o);a.__dashjs_factory_name="EBMLParser",n["default"]=s["default"].getClassFactory(a),t.exports=n["default"]},{10:10,165:165}],152:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function E(){function r(e){n.trigger(u["default"].ERROR,{error:"capability",event:e})}function i(e,t,r){n.trigger(u["default"].ERROR,{error:"download",event:{id:e,url:t,request:r}})}function o(e,t,r,i){n.trigger(u["default"].ERROR,{error:"manifestError",event:{message:e,id:t,manifest:r,event:i}})}function a(e,t,r){n.trigger(u["default"].ERROR,{error:"cc",event:{message:e,id:t,cc:r}})}function f(e){n.trigger(u["default"].ERROR,{error:"mediasource",event:e})}function l(e){n.trigger(u["default"].ERROR,{error:"key_session",event:e})}function c(e){n.trigger(u["default"].ERROR,{error:"key_message",event:e})}var e=undefined,t=this.context,n=(0,s["default"])(t).getInstance();return e={capabilityError:r,downloadError:i,manifestError:o,timedTextError:a,mediaSourceError:f,mediaKeySessionError:l,mediaKeyMessageError:c},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(9),s=r(i),o=e(13),u=r(o),a=e(10),f=r(a),l="mediasource",c="mediakeys",h="manifest",p="SIDX",d="content",v="initialization",m="xlink",g="codec",y="parse",b="nostreams",w="parse";E.__dashjs_factory_name="ErrorHandler";var S=f["default"].getSingletonFactory(E);S.CAPABILITY_ERROR_MEDIASOURCE=l,S.CAPABILITY_ERROR_MEDIAKEYS=c,S.DOWNLOAD_ERROR_ID_MANIFEST=h,S.DOWNLOAD_ERROR_ID_SIDX=p,S.DOWNLOAD_ERROR_ID_CONTENT=d,S.DOWNLOAD_ERROR_ID_INITIALIZATION=v,S.DOWNLOAD_ERROR_ID_XLINK=m,S.MANIFEST_ERROR_ID_CODEC=g,S.MANIFEST_ERROR_ID_PARSE=y,S.MANIFEST_ERROR_ID_NOSTREAMS=b,S.TIMED_TEXT_ERROR_ID_PARSE=w,n["default"]=S,t.exports=n["default"]},{10:10,13:13,9:9}],153:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){function t(t){var n=t.streamId,r=t.representationId;e[n]=e[n]||{},e[n][r]=t}function n(t,n){return e&&e[t]&&e[t][n]?e[t][n]:null}function r(){e={}}var e={},i={save:t,extract:n,reset:r};return i}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="InitCache",n["default"]=s["default"].getSingletonFactory(o),t.exports=n["default"]},{10:10}],154:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){function d(e){return!e||!t||!t.boxes||t.boxes.length===0?null:E(t.fetch(e))}function v(e){var n=t.fetchAll(e),r=[],i;for(var s=0,o=n.length;s<o;s++)i=E(n[s]),i&&r.push(i);return r}function m(e){t=e}function g(){if(!t||!t.boxes||!t.boxes.length)return null;var e=t.boxes[t.boxes.length-1].type,n=v(e);return n[n.length-1]}function y(){return t._cursor.offset}function b(){n={offset:"_offset",size:"size",type:"type"},r={references:"references",timescale:"timescale",earliest_presentation_time:"earliest_presentation_time",first_offset:"first_offset"},i={reference_type:"reference_type",referenced_size:"referenced_size",subsegment_duration:"subsegment_duration"},o={id:"id",value:"value",timescale:"timescale",scheme_id_uri:"scheme_id_uri",presentation_time_delta:"presentation_time_delta",event_duration:"event_duration",message_data:"message_data"},u={timescale:"timescale"},a={sequence_number:"sequence_number"},f={entry_count:"entry_count",entries:"entries"},l={base_data_offset:"base_data_offset",sample_description_index:"sample_description_index",default_sample_duration:"default_sample_duration",default_sample_size:"default_sample_size",default_sample_flags:"default_sample_flags",flags:"flags"},c={version:"version",baseMediaDecodeTime:"baseMediaDecodeTime",flags:"flags"},h={sample_count:"sample_count",first_sample_flags:"first_sample_flags",data_offset:"data_offset",flags:"flags",samples:"samples"},p={sample_size:"sample_size",sample_duration:"sample_duration",sample_composition_time_offset:"sample_composition_time_offset"}}function w(e,t,n){for(var r in n)t[r]=e[n[r]]}function E(e){if(!e)return null;var t=new s["default"],d,v;w(e,t,n),e.hasOwnProperty("_incomplete")&&(t.isComplete=!e._incomplete);switch(t.type){case"sidx":w(e,t,r);if(t.references)for(d=0,v=t.references.length;d<v;d++)w(e.references[d],t.references[d],i);break;case"emsg":w(e,t,o);break;case"mdhd":w(e,t,u);break;case"mfhd":w(e,t,a);break;case"subs":w(e,t,f);break;case"tfhd":w(e,t,l);break;case"tfdt":w(e,t,c);break;case"trun":w(e,t,h);if(t.samples)for(d=0,v=t.samples.length;d<v;d++)w(e.samples[d],t.samples[d],p)}return t}var e=undefined,t=undefined,n=undefined,r=undefined,i=undefined,o=undefined,u=undefined,a=undefined,f=undefined,l=undefined,c=undefined,h=undefined,p=undefined;return e={getBox:d,getBoxes:v,setData:m,getLastBox:g,getOffset:y},b(),e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(168),s=r(i),o=e(10),u=r(o);a.__dashjs_factory_name="IsoFile",n["default"]=u["default"].getClassFactory(a),t.exports=n["default"]},{10:10,168:168}],155:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){function r(e,r){t=e,n=r}function i(){var e=n.getCurrentRepresentationInfo(),r=e.DVRWindow.end;return e.useCalculatedLiveEdgeTime&&(r=t.getExpectedLiveEdge(),t.setClientTimeOffset(r-e.DVRWindow.end)),r}function s(){t=null,n=null}var e=undefined,t=undefined,n=undefined;return e={initialize:r,getLiveEdge:i,reset:s},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="LiveEdgeFinder";var u=s["default"].getSingletonFactory(o);n["default"]=u,t.exports=n["default"]},{10:10}],156:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){function t(e,t){return JSON.stringify(e)===JSON.stringify(t)}var e=undefined;return e={areSimpleEquivalent:t},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="ObjectUtils",n["default"]=s["default"].getSingletonFactory(o),t.exports=n["default"]},{10:10}],157:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){function t(e){return e}function n(e){return e}var e=undefined;return e={modifyRequestURL:t,modifyRequestHeader:n},e}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="RequestModifier",n["default"]=s["default"].getSingletonFactory(o),t.exports=n["default"]},{10:10}],158:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function h(){function C(e){if(!e)return;e.videoModel&&(x=e.videoModel)}function k(e){if(e.hasOwnProperty("begin")&&e.hasOwnProperty("end")){var t=B(e.begin),n=B(e.end);return[t,n]}return null}function L(){var e="cue_TTML_"+N;return N++,e}function A(e,t,n){function o(e,t){if(e.hasOwnProperty(t)){var n=e[t];i.indexOf(n)<0&&i.push(n)}}var r=[],i=[],s=[];for(var u=0;u<e.length;u++){var a=e[u];o(a,"begin"),o(a,"end")}if(i.length===0)return s;if(typeof t!="undefined"&&typeof n!="undefined"){for(var u=0;u<i.length;u++){var f=B(i[u]);t<f&&f<n&&r.push(f)}r.push(t),r.push(n)}else for(var u=0;u<i.length;u++)r.push(B(i[u]));r.sort(function(e,t){return e-t});for(var u=0;u<r.length-1;u++)s.push([r[u],r[u+1]]);return s}function O(e,t){return typeof t!="undefined"&&e<t&&(e=t),e}function M(e,t){return typeof t!="undefined"&&e>t&&(e=t),e}function _(e,n,r){var i=B(e.begin),s=B(e.end);i=O(i,n),s=M(s,r);if(typeof n!="undefined"&&typeof r!="undefined")if(s<n||i>r)return t("TTML: Cue "+i+"-"+s+" outside interval "+n+"-"+r),null;return[i,s]}function D(e,t){var n=!0;if(e.hasOwnProperty("span")){var r=k(e.span);r!==null&&(n=r[0]<t[1]&&r[1]>t[0])}return n}function P(e,n,r,u){var f=undefined,l=undefined,c=undefined,d=undefined,m=undefined,g=undefined,y="";i=T.xml_str2json(e);if(!i)throw new Error("TTML document could not be parsed");x.getTTMLRenderingDiv()&&(m="html"),f=i.tt;if(!f)throw new Error("TTML document lacks tt element");var b=j(f,"http://www.w3.org/ns/ttml");b&&F(f,b),d=f["tts:extent"],l=f.head;if(!l)throw new Error("TTML document lacks head element");l.layout&&(o=l.layout.region_asArray),l.styling&&(s=l.styling.style_asArray);var w={};if(u)for(g=0;g<u.length;g++){var E="urn:mpeg:14496-30:subs:"+(g+1).toString(),S="data:image/png;base64,"+btoa(u[g]);w[E]=S}if(l.metadata){var N=l.metadata.image_asArray;if(N)for(g=0;g<N.length;g++){var E="#"+N[g]["xml:id"],C=N[g].imagetype.toLowerCase(),S="data:image/"+C+";base64,"+N[g].__text;w[E]=S}}c=f.body;if(!c)throw new Error("TTML document lacks body element");var O=et(),M=x.getElement().clientWidth,P=x.getElement().clientHeight,H=[M/O[0],P/O[1]];v["font-size"]=H[1]+"px;";var B=[];if(o)for(g=0;g<o.length;g++)B.push(G(JSON.parse(JSON.stringify(o[g])),H));var I=j(i.tt,"http://www.w3.org/ns/ttml#parameter");f.hasOwnProperty(I+":frameRate")&&(f.frameRate=parseInt(f[I+":frameRate"],10));var q=[],R=f.body_asArray[0].__children;for(var X=0;X<R.length;X++){var V=R[X].div,$=null;if(null!==($=k(V))){var J=undefined;if(V.region){var K=Y(o,V.region);J=Q(K,d)}J||(J=Q(V,d));var Z=V["smpte:backgroundImage"];Z!==undefined&&w[Z]!==undefined&&q.push({start:$[0],end:$[1],id:L(),data:w[Z],type:"image",layout:J});continue}var st=V.p_asArray;if($===null&&(!st||st.length===0))return y="TTML has div that contains no timing and no paragraphs.",t(y),q;for(var ot=0;ot<st.length;ot++){var ut=st[ot],at=ut.span_asArray,ft=[];if(ut.hasOwnProperty("begin")&&ut.hasOwnProperty("end")){var lt=_(ut,n,r);lt!==null&&ft.push(lt)}else ft=A(at,n,r);if(ft.length===0){y="TTML: Empty paragraph";continue}var ct=ut.__children;for(var ht=0;ht<ft.length;ht++){var pt=ft[ht],dt=[];for(var vt=0;vt<ct.length;vt++){var mt=ct[vt];D(mt,pt)&&dt.push(mt)}if(dt.length===0)continue;if(m==="html"){h={},p={},a={};var gt=rt(ut,V,H),yt=it(ut,H),bt=yt[1];yt=yt[0];var wt=document.createElement("div");wt.className=bt;var Et=nt(dt,H);Et.className="cueDirUniWrapper",U("unicode-bidi",yt)&&(Et.style.cssText+=z("unicode-bidi",yt),W("unicode-bidi",yt)),U("direction",yt)&&(Et.style.cssText+=z("direction",yt),W("direction",yt)),U("padding-left",yt)&&U("padding-right",yt)&&(Et.innerHTML=tt(Et,yt)),U("padding-left",yt)&&U("padding-right",yt)&&(W("padding-left",yt),W("padding-right",yt));var St="";if(U("regionID",gt)){var xt=z("regionID",gt);St=xt.slice(xt.indexOf(":")+1,xt.length-1)}yt&&(wt.style.cssText=yt.join(" ")+"display:flex;"),gt&&(gt=gt.join(" ")),wt.appendChild(Et);var Tt=document.createElement("div");Tt.appendChild(wt),Tt.id=L(),Tt.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+gt,Object.keys(a).length===0&&(a.defaultFontSize="100"),q.push({start:pt[0],end:pt[1],type:"html",cueHTMLElement:Tt,regions:B,regionID:St,cueID:Tt.id,videoHeight:P,videoWidth:M,cellResolution:O,fontSize:a||{defaultFontSize:"100"},lineHeight:h,linePadding:p})}else{var Nt="",Ct=dt;Ct.length&&Ct.forEach(function(e){if(e.hasOwnProperty("span")){var t=e.span.__children;t.forEach(function(e){if(t.hasOwnProperty("metadata"))return;e.hasOwnProperty("#text")?Nt+=e["#text"].replace(/[\r\n]+/gm," ").trim():"br"in e&&(Nt+="\n")})}else e.hasOwnProperty("br")?Nt+="\n":Nt+=e["#text"].replace(/[\r\n]+/gm," ").trim()}),q.push({start:pt[0],end:pt[1],data:Nt,type:"text"})}}}}y!==""&&t(y);if(q.length>0)return q;throw new Error(y)}function H(){r=/^([0-9][0-9]+):([0-5][0-9]):([0-5][0-9])|(60)(\.([0-9])+)?$/,a={},h={},p={},d={top:"auto;",left:"auto;",width:"90%;",height:"10%;","align-items":"flex-start;",overflow:"visible;","-ms-writing-mode":"lr-tb, horizontal-tb;","-webkit-writing-mode":"horizontal-tb;","-moz-writing-mode":"horizontal-tb;","writing-mode":"horizontal-tb;"},v={color:"rgb(255,255,255);",direction:"ltr;","font-family":"monospace, sans-serif;","font-style":"normal;","line-height":"normal;","font-weight":"normal;","text-align":"start;","justify-content":"flex-start;","text-decoration":"none;","unicode-bidi":"normal;","white-space":"normal;",width:"100%;"},m={monospace:"font-family: monospace;",sansSerif:"font-family: sans-serif;",serif:"font-family: serif;",monospaceSansSerif:"font-family: monospace, sans-serif;",monospaceSerif:"font-family: monospace, serif;",proportionalSansSerif:"font-family: Arial;",proportionalSerif:"font-family: Times New Roman;","default":"font-family: monospace, sans-serif;"},g={right:["justify-content: flex-end;","text-align: right;"],start:["justify-content: flex-start;","text-align: start;"],center:["justify-content: center;","text-align: center;"],end:["justify-content: flex-end;","text-align: end;"],left:["justify-content: flex-start;","text-align: left;"]},y={start:"text-align: start;",center:"text-align: center;",end:"text-align: end;",auto:""},b={wrap:"white-space: normal;",noWrap:"white-space: nowrap;"},w={normal:"unicode-bidi: normal;",embed:"unicode-bidi: embed;",bidiOverride:"unicode-bidi: bidi-override;"},E={before:"align-items: flex-start;",center:"align-items: center;",after:"align-items: flex-end;"},S={lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"},T=new u["default"]({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,matchers:[]})}function B(e){var t=r.test(e),n,s,o;if(!t)return NaN;n=e.split(":"),s=parseFloat(n[0])*l+parseFloat(n[1])*c+parseFloat(n[2]);if(n[3]){o=i.tt.frameRate;if(!o||!!isNaN(o))return NaN;s+=parseFloat(n[3])/o}return s}function j(e,t){var n=Object.keys(e).filter(function(n){return(n.split(":")[0]==="xmlns"||n.split(":")[1]==="xmlns")&&e[n]===t}).map(function(e){return e.split(":")[2]||e.split(":")[1]});return n.length!=1?null:n[0]}function F(e,t){for(var n in e)if(e.hasOwnProperty(n)){if((typeof e[n]=="object"||e[n]instanceof Object)&&!Array.isArray(e[n]))F(e[n],t);else if(Array.isArray(e[n]))for(var r=0;r<e[n].length;r++)F(e[n][r],t);var i=t+":",s=n.indexOf(i);if(s>=0){var o=n.slice(s+i.length);e[o]=e[n],delete e[n]}}}function I(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function q(e){var t=e.slice(1),n=t.match(/.{2}/g),r=parseFloat(parseInt(parseInt(n[3],16)/255*1e3,10)/1e3),i=n.slice(0,3).map(function(e){return parseInt(e,16)});return"rgba("+i.join(",")+","+r+");"}function R(e){var t=undefined,n=undefined,r=undefined;return t=e.replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(","),n=parseInt(t[t.length-1],10)/255,r="rgba("+t[0]+","+t[1]+","+t[2]+","+n+");",r}function U(e,t){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>-1)return!0;return!1}function z(e,t){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>-1)return t[n];return null}function W(e,t){t.splice(t.indexOf(z(e,t)),1)}function X(e,t){for(var n=0;n<e.length;n++)for(var r=0;r<t.length;r++)e[n]&&e[n].split(":")[0].indexOf(t[r].split(":")[0])>-1&&e.splice(n,1);return e.concat(t)}function V(e){var t=new Array(2),n=e.indexOf(":")===-1?0:e.indexOf(":"),r=undefined;return e.indexOf("%")===-1?e.indexOf("c")===-1?e.indexOf("p")===-1?t[0]=t[1]=null:(t[0]="p",r=e.indexOf("p")):(t[0]="c",r=e.indexOf("c")):(t[0]="%",r=e.indexOf("%")),t[1]=e.slice(n,r),t}function $(e,t,n){var r=[],s,o;for(var u in e)if(e.hasOwnProperty(u)){var f=u.replace("ebutts:","");f=f.replace("xml:",""),f=f.replace("tts:",""),f=I(f),e[f]=e[u],delete e[u]}if("line-padding"in e){var l=parseFloat(e["line-padding"].slice(e["line-padding"].indexOf(":")+1,e["line-padding"].indexOf("c")));"id"in e&&(p[e.id]=l);var c=l*t[0]+"px;";r.push("padding-left:"+c),r.push("padding-right:"+c)}if("font-size"in e){var d=V(e["font-size"]),v=parseFloat(d[1]);"id"in e&&(a[e.id]=d),d[0]==="%"?s=v/100*t[1]+"px;":d[0]==="c"&&(s=v*t[1]+"px;"),r.push("font-size:"+s)}if("line-height"in e)if(e["line-height"]==="normal")r.push("line-height: normal;");else{var E=V(e["line-height"]),S=parseFloat(E[1]);"id"in e&&(h[e.id]=E),E[0]==="%"?o=S/100*t[1]+"px;":E[0]==="c"&&(o=S*t[1]+"px;"),r.push("line-height:"+o)}"font-family"in e&&(e["font-family"]in m?r.push(m[e["font-family"]]):r.push("font-family:"+e["font-family"]+";")),"text-align"in e&&e["text-align"]in g&&(r.push(g[e["text-align"]][0]),r.push(g[e["text-align"]][1])),"multi-row-align"in e&&(U("text-align",r)&&e["multi-row-align"]!="auto"&&W("text-align",r),e["multi-row-align"]in y&&r.push(y[e["multi-row-align"]]));var x;return"background-color"in e&&(e["background-color"].indexOf("#")>-1&&e["background-color"].length-1===8?x=q(e["background-color"]):e["background-color"].indexOf("rgba")>-1?x=R(e["background-color"]):x=e["background-color"]+";",r.push("background-color: "+x)),"color"in e&&(e.color.indexOf("#")>-1&&e.color.length-1===8?x=q(e.color):e.color.indexOf("rgba")>-1?x=R(e.color):x=e.color+";",r.push("color: "+x)),"wrap-option"in e&&(e["wrap-option"]in b?r.push(b[e["wrap-option"]]):r.push("white-space:"+e["wrap-option"])),"unicode-bidi"in e&&(e["unicode-bidi"]in w?r.push(w[e["unicode-bidi"]]):r.push("unicode-bidi:"+e["unicode-bidi"])),"font-style"in e&&r.push("font-style:"+e["font-style"]+";"),"font-weight"in e&&r.push("font-weight:"+e["font-weight"]+";"),"direction"in e&&r.push("direction:"+e.direction+";"),"text-decoration"in e&&r.push("text-decoration:"+e["text-decoration"]+";"),n&&(r=r.concat(G(e,t))),i.tt.hasOwnProperty("xml:space")&&i.tt["xml:space"]==="preserve"&&r.push("white-space: pre;"),r}function J(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r["xml:id"]===t||r.id===t)return r}return null}function K(e,t,n){var r=[],i=e.match(/\S+/g);return i.forEach(function(e){var i=J(s,e);if(i){var o=$(JSON.parse(JSON.stringify(i)),t,n);r=r.concat(o)}}),r}function Q(e,n){var r=/([\d\.]+)(%|px)\s+([\d\.]+)(%|px)/;if("tts:extent"in e&&"tts:origin"in e){var i=r.exec(e["tts:extent"]),s=r.exec(e["tts:origin"]);if(i===null||s===null)return t("Bad extent or origin: "+e["tts:extent"]+" "+e["tts:origin"]),null;var o=parseFloat(i[1]),u=parseFloat(i[3]),a=parseFloat(s[1]),f=parseFloat(s[3]);if(n){var l=r.exec(n);if(l===null||l[2]!=="px"||l[4]!=="px")return t("Bad tt.extent: "+n),null;var c=parseFloat(l[1]),h=parseFloat(l[3]);i[2]==="px"&&(o=o/c*100),i[4]==="px"&&(u=u/h*100),s[2]==="px"&&(a=a/c*100),s[4]==="px"&&(f=f/h*100)}return{left:a,top:f,width:o,height:u}}return null}function G(e,t){var n=[];for(var r in e){var i=r.replace("tts:","");i=i.replace("xml:",""),i=I(i),e[i]=e[r],i!==r&&delete e[r]}if("extent"in e){var s=e.extent.split(/\s/);n.push("width: "+s[0]+";"),n.push("height: "+s[1]+";")}if("origin"in e){var o=e.origin.split(/\s/);n.push("left: "+o[0]+";"),n.push("top: "+o[1]+";")}"display-align"in e&&n.push(E[e["display-align"]]),"writing-mode"in e&&n.push(S[e["writing-mode"]]);if("style"in e){var u=K(e.style,t,!0);n=n.concat(u)}return"padding"in e&&n.push("padding:"+e.padding+";"),"overflow"in e&&n.push("overflow:"+e.overflow+";"),"show-background"in e&&n.push("show-background:"+e["show-background"]+";"),"id"in e&&n.push("regionID:"+e.id+";"),n}function Y(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r["xml:id"]===t||r.id===t)return r}return null}function Z(e,t){var n=[],r=e.match(/\S+/g);return r.forEach(function(e){var r=Y(o,e);if(r){var i=G(JSON.parse(JSON.stringify(r)),t);n=n.concat(i)}}),n}function et(){var e=[32,15];return i.tt.hasOwnProperty("ttp:cellResolution")?i.tt["ttp:cellResolution"].split(" ").map(parseFloat):e}function tt(e,t){var n=z("padding-left",t),r=z("padding-right",t),i=n.concat(" "+r+" "),s="",o="",u="",a=Array.prototype.slice.call(e.children),f=e.getElementsByClassName("lineBreak")[0],l=a.indexOf(f),c=[];while(l!=-1)c.push(l),l=a.indexOf(f,l+1);var h="</span>",p="<br>",d='<span class="spanPadding" style="-webkit-box-decoration-break: clone; box-decoration-break: clone; ';if(c.length)c.forEach(function(e,t){if(t===0){var n="";for(var r=0;r<e;r++)s+=a[r].outerHTML,r===0&&(n=i.concat(a[r].style.cssText));s=d+n+'">'+s}var f="";for(var l=e+1;l<a.length;l++)o+=a[l].outerHTML,l===a.length-1&&(f+=i.concat(a[l].style.cssText));o=d+f+'">'+o,s&&o&&t===c.length-1?u+=s+h+p+o+h:s&&o&&t!==c.length-1?u+=s+h+p+o+h+p:s&&!o?u+=s+h:!s&&o&&t===c.length-1?u+=o+h:!s&&o&&t!==c.length-1&&(u+=o+h+p)});else{var v="";for(var m=0;m<a.length;m++)v+=a[m].style.cssText;u=d+i+v+'">'+e.innerHTML+h}return u}function nt(e,t){var n=document.createElement("div");return e.forEach(function(e){if(e.hasOwnProperty("metadata"))return;if(e.hasOwnProperty("span")){var r=e.span.__children,i=document.createElement("span");if(e.span.hasOwnProperty("style")){var s=K(e.span.style,t);i.className="spanPadding "+e.span.style,i.style.cssText=s.join(" ")}r.forEach(function(e){if(r.hasOwnProperty("metadata"))return;if(e.hasOwnProperty("#text")){var t=document.createTextNode(e["#text"]);i.appendChild(t)}else if("br"in e){i.hasChildNodes()&&n.appendChild(i);var s=document.createElement("br");s.className="lineBreak",n.appendChild(s);var o=document.createElement("span");o.className=i.className,o.style.cssText=i.style.cssText,i=o}}),n.appendChild(i)}else if(e.hasOwnProperty("br")){var o=document.createElement("br");o.className="lineBreak",n.appendChild(o)}else if(e.hasOwnProperty("#text")){var u=document.createElement("span");u.textContent=e["#text"],n.appendChild(u)}}),n}function rt(e,t,n){var r=[],i=e.region,s=t.region,o,u;return s&&(o=Z(s,n)),i?(u=r.concat(Z(i,n)),o?r=X(o,u):r=u):o&&(r=o),st(r,d),r}function it(e,t){var n=[],r=e.style,s=i.tt.body.style,o=i.tt.body.div.style,u,a,f,l="";return s&&(u=K(s,t),l="paragraph "+s),o&&(a=K(o,t),
u?(a=X(u,a),l+=" "+o):l="paragraph "+o),r?(f=K(r,t),u&&a?(n=X(a,f),l+=" "+r):u?(n=X(u,f),l+=" "+r):a?(n=X(a,f),l+=" "+r):(n=f,l="paragraph "+r)):u&&!a?n=u:!u&&a&&(n=a),st(n,v),[n,l]}function st(e,t){for(var n in t)t.hasOwnProperty(n)&&(U(n,e)||e.push(n+":"+t[n]))}var e=this.context,t=(0,f["default"])(e).getInstance().log,n=undefined,r=undefined,i=undefined,s=undefined,o=undefined,a=undefined,h=undefined,p=undefined,d=undefined,v=undefined,m=undefined,g=undefined,y=undefined,b=undefined,w=undefined,E=undefined,S=undefined,x=undefined,T=undefined,N=0;return n={parse:P,setConfig:C},H(),n}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(4),u=r(o),a=e(8),f=r(a),l=3600,c=60;h.__dashjs_factory_name="TTMLParser",n["default"]=s["default"].getSingletonFactory(h),t.exports=n["default"]},{10:10,4:4,8:8}],159:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){function o(){try{var t=new window.URL("x","http://y");e=i}catch(n){}finally{e=e||s}}function u(e){var t=e.indexOf("/"),n=e.lastIndexOf("/");return t!==-1?n===t+1?e:(e.indexOf("?")!==-1&&(e=e.substring(0,e.indexOf("?"))),e.substring(0,n+1)):""}function a(e){var t=e.match(r);return t?t[1]:""}function f(e){var n=e.match(t);return n?n[0]:""}function l(e){return!t.test(e)}function c(e){return l(e)&&e.charAt(0)==="/"}function h(e){return e.indexOf("//")===0}function p(e){return n.test(e)}function d(t,n){return e(t,n)}var e=undefined,t=/^[a-z][a-z0-9+\-.]*:/i,n=/^https?:\/\//i,r=/^([a-z][a-z0-9+\-.]*:\/\/[^\/]+)\/?/i,i=function(t,n){try{return(new window.URL(t,n)).toString()}catch(r){return t}},s=function(t,n){var r=u;if(!n)return t;if(!l(t))return t;c(t)&&(r=a),h(t)&&(r=f);var i=r(n),s=i.charAt(i.length-1)!=="/"&&t.charAt(0)!=="/"?"/":"";return[i,t].join(s)};o();var v={parseBaseUrl:u,parseOrigin:a,parseScheme:f,isRelative:l,isPathAbsolute:c,isSchemeRelative:h,isHTTPURL:p,resolve:d};return v}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="URLUtils",n["default"]=s["default"].getSingletonFactory(o),t.exports=n["default"]},{10:10}],160:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){function a(){r=/(?:\r\n|\r|\n)/gm,i=/-->/,s=/(^[\s]+|[\s]+$)/g,o=/\s\b/g}function f(e){var n=[],o,u;e=e.split(r),o=e.length,u=-1;for(var a=0;a<o;a++){var f=e[a];if(f.length>0&&f!=="WEBVTT"&&f.match(i)){var h=c(f),d=h.cuePoints,v=h.styles,m=p(e,a+1),g=l(d[0].replace(s,"")),y=l(d[1].replace(s,""));!isNaN(g)&&!isNaN(y)&&g>=u&&y>g?m!==""?(u=g,n.push({start:g,end:y,data:m,styles:v})):t("Skipping cue due to empty/malformed cue text"):t("Skipping cue due to incorrect cue timing")}}return n}function l(e){var t=e.split(":"),n=t.length-1;return e=parseInt(t[n-1],10)*60+parseFloat(t[n]),n===2&&(e+=parseInt(t[0],10)*3600),e}function c(e){var t=e.split(i),n=t[1].split(o);return n.shift(),t[1]=n[0],n.shift(),{cuePoints:t,styles:h(n)}}function h(e){var t={};return e.forEach(function(e){if(e.split(/:/).length>1){var n=e.split(/:/)[1];n&&n.search(/%/)!=-1&&(n=parseInt(n.replace(/%/,""),10));if(e.match(/align/)||e.match(/A/))t.align=n;if(e.match(/line/)||e.match(/L/))t.line=n;if(e.match(/position/)||e.match(/P/))t.position=n;if(e.match(/size/)||e.match(/S/))t.size=n}}),t}function p(e,t){var n=t,r="",s="",o;while(e[n]!==""&&n<e.length)n++;o=n-t;if(o>1)for(var u=0;u<o;u++){s=e[t+u];if(!!s.match(i)){r="";break}r+=s,u!==o-1&&(r+="\n")}else s=e[t],s.match(i)||(r=s);return r}var e=this.context,t=(0,u["default"])(e).getInstance().log,n=undefined,r=undefined,i=undefined,s=undefined,o=undefined;return n={parse:f},a(),n}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i),o=e(8),u=r(o);a.__dashjs_factory_name="VTTParser",n["default"]=s["default"].getSingletonFactory(a),t.exports=n["default"]},{10:10,8:8}],161:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){function r(e){var t=0,r;return e&&e.some(function(e,r){return t=r,!n.contains(e.serviceLocation)})&&(r=e[t]),r}var t=undefined,n=e.blacklistController;return t={select:r},t}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="BasicSelector",n["default"]=s["default"].getClassFactory(o),t.exports=n["default"]},{10:10}],162:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){function r(e){var t=[],r=function(n){return t.length&&n.dvb_priority&&t.indexOf(n.dvb_priority)!==-1?!1:!0},i=function(r){return n.contains(r.serviceLocation)?(r.dvb_priority&&t.push(r.dvb_priority),!1):!0};return e.filter(i).filter(r)}function i(e){var t=function(t,n){var r=t.dvb_priority-n.dvb_priority;return isNaN(r)?0:r},n=function(t,n,r){return!n||r[0].dvb_priority&&t.dvb_priority&&r[0].dvb_priority===t.dvb_priority},r=0,i=[],s=0,o,u;u=e.sort(t).filter(n);if(u.length)return u.length>1&&(u.forEach(function(e){r+=e.dvb_weight,i.push(r)}),o=Math.floor(Math.random()*(r-1)),i.every(function(e,t){return s=t,o<e?!1:!0})),u[s]}function s(e){return e&&i(r(e))}var t=undefined,n=e.blacklistController;return t={select:s},t}Object.defineProperty(n,"__esModule",{value:!0});var i=e(10),s=r(i);o.__dashjs_factory_name="DVBSelector",n["default"]=s["default"].getClassFactory(o),t.exports=n["default"]},{10:10}],163:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.qualityIndex=NaN};n["default"]=i,t.exports=n["default"]},{}],164:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null};n["default"]=i,t.exports=n["default"]},{}],165:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(e,t,n){r(this,s),this.code=e||null,this.message=t||null,this.data=n||null};n["default"]=i,t.exports=n["default"]},{}],166:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.action=s.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null};i.ACTION_DOWNLOAD="download",i.ACTION_COMPLETE="complete",n["default"]=i,t.exports=n["default"]},{}],167:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,n,r){var i=!0;e:while(i){var s=t,o=n,u=r;i=!1,s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,o);if(a===undefined){var f=Object.getPrototypeOf(s);if(f===null)return undefined;t=f,n=o,r=u,i=!0,a=f=undefined;continue e}if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(u)}},u=e(166),a=i(u),f=function(e){function t(e){s(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.url=e||null,this.checkForExistenceOnly=!0}return o(t,e),t}(a["default"]);n["default"]=f,t.exports=n["default"]},{166:166}],168:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.offset=NaN,this.type=null,this.size=NaN,this.isComplete=!0};n["default"]=i,t.exports=n["default"]},{}],169:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null};n["default"]=i,t.exports=n["default"]},{}],170:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null};n["default"]=i,t.exports=n["default"]},{}],171:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[],this.BolaState=[]};n["default"]=i,t.exports=n["default"]},{}],172:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0,this.isFirst=!0};n["default"]=i,t.exports=n["default"]},{}],173:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,n,r){var i=!0;e:while(i){var s=t,o=n,u=r;i=!1,s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,o);if(a===undefined){var f=Object.getPrototypeOf(s);if(f===null)return undefined;t=f,n=o,r=u,i=!0,a=f=undefined;continue e}if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(u)}},u=e(166),a=i(u),f=function(e){function t(e,n){s(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.url=e||null,this.type=n||null,this.mediaType="stream",this.responseType="text"}return o(t,e),t}(a["default"]);n["default"]=f,t.exports=n["default"]},{166:166}],174:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.video=null,this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1};n["default"]=i,t.exports=n["default"]},{}],175:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null};n["default"]=i,t.exports=n["default"]},{}],176:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null};n["default"]=i,t.exports=n["default"]},{}],177:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this._s=undefined};n["default"]=i,t.exports=n["default"]},{}],178:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.t=null,this.level=null};n["default"]=i,t.exports=n["default"]},{}],179:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=e(62),o=r(s),u=function a(){i(this,a),this.target=null,this.state=o["default"].BUFFER_EMPTY};n["default"]=u,t.exports=n["default"]},{62:62}],180:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.time=null,this.range=null,this.manifestInfo=null};n["default"]=i,t.exports=n["default"]},{}],181:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.time=null,this.droppedFrames=null};n["default"]=i,t.exports=n["default"]},{}],182:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null},s=function u(){r(this,u),this.s=null,this.d=null,this.b=[]};i.MPD_TYPE="MPD",i.XLINK_EXPANSION_TYPE="XLinkExpansion",i.INIT_SEGMENT_TYPE="InitializationSegment",i.INDEX_SEGMENT_TYPE="IndexSegment",i.MEDIA_SEGMENT_TYPE="MediaSegment",i.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",i.OTHER_TYPE="other",n.HTTPRequest=i,n.HTTPRequestTrace=s},{}],183:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function u(){r(this,u),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.trackInfo=[]},s=function a(){r(this,a),this.id=null,this.index=null,this.start=null,this.duration=null},o=function f(){r(this,f),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};n.ManifestUpdate=i,n.ManifestUpdateStreamInfo=s,n.ManifestUpdateTrackInfo=o},{}],184:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};i.INITIAL_PLAYOUT_START_REASON="initial_playout",i.SEEK_START_REASON="seek",i.RESUME_FROM_PAUSE_START_REASON="resume",i.METRICS_COLLECTION_START_REASON="metrics_collection_start";var s=function u(){r(this,u),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};s.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",s.REBUFFERING_REASON="rebuffering",s.USER_REQUEST_STOP_REASON="user_request",s.END_OF_PERIOD_STOP_REASON="end_of_period",s.END_OF_CONTENT_STOP_REASON="end_of_content",s.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",s.FAILURE_STOP_REASON="failure",n.PlayList=i,n.PlayListTrace=s},{}],185:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.t=null,this.mt=null,this.to=null,this.lto=null};n["default"]=i,t.exports=n["default"]},{}],186:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.loadingRequests=[],this.executedRequests=[]};n["default"]=i,t.exports=n["default"]},{}],187:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null};n["default"]=i,t.exports=n["default"]},{}],188:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.tcpid=null,this.dest=null,this.topen=null,this.tclose=null,this.tconnect=null};n["default"]=i,t.exports=n["default"]},{}]},{},[5]),function(e){e.videoLifecycleManager={onPageLoad:function(){$(window).on("beforeunload",function(e){this.onBeforePageUnload(event)}.bind(this)),e.hooks.get("expando-pre-init").register(function(){$(document.body).on("expando:create",function(e){e.expando.$el.on("expando:hide",function(e){var t=e.expando.$expando.find(RedditVideoPlayer.DOM_SELECTOR);if(t.size()==1){var n=$(t).data("video-player-object");this.onVideoExpandoHide(n)}}.bind(this))}.bind(this))}.bind(this))},onBeforePageUnload:function(e){var t=location.href,n=document.activeElement.href;$(RedditVideoPlayer.DOM_SELECTOR).each(function(e,r){var i=$(r).data("video-player-object");t!=n&&(this.fireChangePageTypeEvent(i),this.urlIsCommentsPageForVideo(n,i)||this.fireServedVideoEvent(i))}.bind(this))},onVideoExpandoHide:function(e){this.fireServedVideoEvent(e)},fireChangePageTypeEvent:function(e){this.fireVideoLifecycleEvent("change","pagetype",e)},fireServedVideoEvent:function(e){this.fireVideoLifecycleEvent("served","video",e)},fireVideoLifecycleEvent:function(t,n,i){var s="videoplayer",o=i.maxPlayed*1e3,u=i.duration*1e3,a=i.currentTime*1e3,f=$(i.root).closest(".pinnable-content"),l=$(i.root).closest(".thing.link"),c=l.data(),h={maxTimestampServed:parseInt(o),percentServed:o/u,duration:parseInt(u),time:parseInt(a),isNsfw:l.hasClass("over18"),isSpoiler:l.hasClass("spoiler"),isPinned:f.hasClass("pinned"),isVertical:i.orientation===RedditVideoPlayer.Orientations.PORTRAIT};e.analytics.videoPlayerEvent(s,t,n,c,h)},urlIsCommentsPageForVideo:function(e,t){var n=!1;if(e!=null&&t!=null){var r=e.split("/");if(t.options.id!=null)for(var i=0;i<r.length;i++)if(t.options.id==r[i]){n=!0;break}}return n}},e.videoLifecycleManager.onPageLoad()}(window.r||{});var RedditVideoPlayer=function(e,t,n){this.root=$(e),this.root.empty(),this.root.addClass(RedditVideoPlayer.CLASS_NAME),t=typeof t=="object"?t:{},this.options=_.defaults(t,RedditVideoPlayer.DEFAULT_OPTIONS),this.storageNamespace=n||RedditVideoPlayer.DEFAULT_STORAGE_NAMESPACE,this._paused=!this.options.autoplay;var r=_.pick(this.options,RedditVideoPlayer.VIDEO_ATTRIBUTES);this.video=$("<video>").attr(r),this.poster=this.options.poster!=null?$("<img>").attr("src",this.options.poster):null,this.controls=$("<div>"),this.options.controls&&this.controls.css("display","none"),this.root.append(this.video,this.poster,this.controls),this.root.on("videoAction",function(e,t){this.doAction(t.action,t.value,t.eventExtras)}.bind(this)),this.video.on("ended",function(e){this.notifyActionCompleted(RedditVideoPlayer.Actions.PAUSE)}.bind(this)),this.options.controls||this.root.on("click",function(e){switch(this.options.clickAction){case RedditVideoPlayer.ClickActions.PLAY_PAUSE:var t={verb:"click"};this.paused?(t.noun="play",this.play(t)):(t.noun="pause",this.pause(t));break;case RedditVideoPlayer.ClickActions.NONE:this.noAction();break;default:console.warn("Invalid click action:",this.options.clickAction)}e.stopPropagation()}.bind(this)),this.uiControllers=[],this.actionCompletedCallbacks=[],this.isFullscreen=!1,this.options.type===RedditVideoPlayer.Types.MPD?this._initializeDashPlayer():this._initializeNativePlayer(),this.options.controls||this._prepareLocalStorage(),this._prepareAnalytics(),this._prepareFullscreen(),this._defineProperties()};RedditVideoPlayer.CLASS_NAME="reddit-video-player-root",RedditVideoPlayer.DOM_SELECTOR="."+RedditVideoPlayer.CLASS_NAME,RedditVideoPlayer.DEFAULT_STORAGE_NAMESPACE="default_reddit_video_pool",RedditVideoPlayer.DEFAULT_VOLUME=1,RedditVideoPlayer.DEFAULT_MUTED=!0,RedditVideoPlayer.DEFAULT_CURSOR_TIMEOUT=3e3,RedditVideoPlayer.Orientations={LANDSCAPE:"landscape",PORTRAIT:"portrait"},RedditVideoPlayer.Types={MPD:"mpd",HLS:"hls",NATIVE:"native"},RedditVideoPlayer.ClickActions={PLAY_PAUSE:"play_pause",NONE:"none"},RedditVideoPlayer.DEFAULT_OPTIONS={id:null,linkUrl:null,src:null,poster:null,autoplay:!1,loop:!1,controls:!1,orientation:RedditVideoPlayer.Orientations.PORTRAIT,type:RedditVideoPlayer.Types.MPD,muted:RedditVideoPlayer.DEFAULT_MUTED,volume:RedditVideoPlayer.DEFAULT_VOLUME,clickAction:RedditVideoPlayer.ClickActions.PLAY_PAUSE},RedditVideoPlayer.VIDEO_ATTRIBUTES=["autoplay","loop","controls"],RedditVideoPlayer.Actions={PLAY:"play",PAUSE:"pause",REPLAY:"replay",MUTE:"mute",UNMUTE:"unmute",FULLSCREEN_REQUEST:"fullscreenRequest",FULLSCREEN_CANCEL:"fullscreenCancel",SET_VOLUME:"setVolume",SET_CURRENT_TIME:"setCurrentTime",SEEK_JUMP:"seekJump",SET_RESOLUTION:"setResolution",SET_ASPECT_RATIO:"setAspectRatio",NONE:"none"},RedditVideoPlayer.prototype._prepareLocalStorage=function(){if(typeof localStorage!="undefined"){var e=localStorage.getItem(this.storageNamespace+".volume")||this.options.volume,t=localStorage.getItem(this.storageNamespace+".muted")||this.options.muted;this.setVolume(parseFloat(e)),t.toString().toLowerCase()=="true"?this.mute():this.unmute()}},RedditVideoPlayer.prototype._prepareAnalytics=function(){this._maxTime=0,this.video.on("timeupdate",function(){this._maxTime=Math.max(this._maxTime,this.video[0].currentTime)}.bind(this))},RedditVideoPlayer.prototype._prepareFullscreen=function(){function e(){this.root.css("cursor","none")}function t(){this.root.css("cursor","auto")}function r(){n=setTimeout(e.bind(this),RedditVideoPlayer.DEFAULT_CURSOR_TIMEOUT)}function i(){this.root.css("cursor","auto"),n!==null&&clearTimeout(n),r.call(this)}function s(){var e=this.isFullScreen?RedditVideoPlayer.Actions.FULLSCREEN_CANCEL:RedditVideoPlayer.Actions.FULLSCREEN_REQUEST;this.isFullScreen=!this.isFullScreen,this.isFullScreen?(r.call(this),this.root.on("mousemove",i.bind(this))):(clearTimeout(n),t.call(this),this.root.off("mousemove",i.bind(this)));var s={};this.isFullScreen&&(s.verb="click",s.noun="fullscreen"),this.notifyActionCompleted(e,null,s)}var n=null;document.addEventListener("fullscreenchange",s.bind(this)),document.addEventListener("webkitfullscreenchange",s.bind(this)),document.addEventListener("mozfullscreenchange",s.bind(this)),document.addEventListener("MSFullscreenChange",s.bind(this))},RedditVideoPlayer.prototype._initializeDashPlayer=function(){"MediaSource"in window?(this.dashPlayer=dashjs.MediaPlayer().create(),this.dashPlayer.getDebug().setLogToBrowserConsole(!1),this.dashPlayer.initialize(this.video[0],this.options.src,this.options.autoplay),this.dashPlayer.setInitialBitrateFor("video",999999999),this.dashPlayer.setFastSwitchEnabled(!0),this.dashPlayer.on(dashjs.MediaPlayer.events.STREAM_INITIALIZED,function(){this.bitrateOptions=this.dashPlayer.getBitrateInfoListFor("video"),this._onDashStreamInitialized()}.bind(this))):console.warn("Unable to play video: Media Source Extensions are not supported in this browser.")},RedditVideoPlayer.prototype._initializeNativePlayer=function(){this.video.attr("src",this.options.src),this.video[0].load(),this._paused=!this.options.autoplay},RedditVideoPlayer.prototype._onDashStreamInitialized=function(){this.uiControllers.forEach(function(e){e.notifyBitrateOptions(this.bitrateOptions)}.bind(this))},RedditVideoPlayer.prototype._defineProperties=function(){Object.defineProperty(this,"duration",{get:function(){return this.video[0].duration}.bind(this)}),Object.defineProperty(this,"currentTime",{get:function(){return this.video[0].currentTime}.bind(this)}),Object.defineProperty(this,"videoWidth",{get:function(){return this.video[0].videoWidth}.bind(this)}),Object.defineProperty(this,"videoHeight",{get:function(){return this.video[0].videoHeight}.bind(this)}),Object.defineProperty(this,"muted",{get:function(){return this.video[0].muted}.bind(this)}),Object.defineProperty(this,"volume",{get:function(){return this.video[0].volume}.bind(this)}),Object.defineProperty(this,"paused",{get:function(){return this._paused}.bind(this)}),Object.defineProperty(this,"maxPlayed",{get:function(){return this._maxTime}.bind(this)}),Object.defineProperty(this,"orientation",{get:function(){return this.videoWidth<this.videoHeight?RedditVideoPlayer.Orientations.PORTRAIT:RedditVideoPlayer.Orientations.LANDSCAPE}.bind(this)}),Object.defineProperty(this,"videoQuality",{get:function(){return this.dashPlayer.getQualityFor("video")}.bind(this)})},RedditVideoPlayer.prototype.setSrc=function(e){return this.options.src=e,this.type===RedditVideoPlayer.Types.MPD?this.dashPlayer.attachSource(e):(this.video.attr("src",e),this.video[0].load()),this._paused=!this.options.autoplay,this},RedditVideoPlayer.prototype.getSrc=function(){return this.options.src},RedditVideoPlayer.prototype.addUiController=function(e){return e.attach(this),this.uiControllers.push(e),this},RedditVideoPlayer.prototype.removeUiController=function(e){var t=this.uiControllers.indexOf(e);return t!=-1?this.uiControllers.splice(t,1):console.warn("Warning: UI Controller not attached."),this},RedditVideoPlayer.prototype.play=function(e){this.poster!=null&&(this.poster.remove(),this.poster=null),this._paused=!1,this.video[0].play(),this.notifyActionCompleted(RedditVideoPlayer.Actions.PLAY,null,e)},RedditVideoPlayer.prototype.pause=function(e){this._paused=!0,this.video[0].pause(),this.notifyActionCompleted(RedditVideoPlayer.Actions.PAUSE,null,e)},RedditVideoPlayer.prototype.replay=function(e){this.setCurrentTime(0),this.play(),this.notifyActionCompleted(RedditVideoPlayer.Actions.REPLAY,null,e)},RedditVideoPlayer.prototype.setVolume=function(e,t){this.video[0].muted&&this.unmute(),this.video[0].volume=e,typeof localStorage!="undefined"&&localStorage.getItem(this.storageNamespace+".volume")!=e&&localStorage.setItem(this.storageNamespace+".volume",e),this.notifyActionCompleted(RedditVideoPlayer.Actions.SET_VOLUME,e,t)},RedditVideoPlayer.prototype.setCurrentTime=function(e,t){this.video[0].currentTime=e,this.notifyActionCompleted(RedditVideoPlayer.Actions.SET_CURRENT_TIME,e,t)},RedditVideoPlayer.prototype.seekJump=function(e,t){e=parseInt(e);var n=this.video[0].currentTime+e;n<0&&(n=0),n>this.video[0].duration&&(n=this.video[0].duration),this.video[0].currentTime=n,this.notifyActionCompleted(RedditVideoPlayer.Actions.SEEK_JUMP,e,t)},RedditVideoPlayer.prototype.mute=function(e){this.video[0].muted=!0,typeof localStorage!="undefined"&&localStorage.getItem(this.storageNamespace+".muted")!="true"&&localStorage.setItem(this.storageNamespace+".muted",!0),this.notifyActionCompleted(RedditVideoPlayer.Actions.MUTE,null,e)},RedditVideoPlayer.prototype.unmute=function(e){this.video[0].muted=!1,typeof localStorage!="undefined"&&localStorage.getItem(this.storageNamespace+".muted")!="false"&&localStorage.setItem(this.storageNamespace+".muted",!1),this.notifyActionCompleted(RedditVideoPlayer.Actions.UNMUTE,null,e)},RedditVideoPlayer.prototype.toggleFullScreen=function(e){var t=this.root.get(0),n=t.requestFullscreen||t.webkitRequestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen,r=document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen;this.isFullScreen?r.call(document):n.call(t)},RedditVideoPlayer.prototype.noAction=function(){this.notifyActionCompleted(RedditVideoPlayer.Actions.NONE)},RedditVideoPlayer.prototype.setClickAction=function(e){this.options.clickAction=e},RedditVideoPlayer.prototype.setResolution=function(e,t){if(this.bitrateOptions!=null){if(!isNaN(e)){e=parseInt(e),this.dashPlayer.setAutoSwitchQualityFor("video",!1),this.dashPlayer.setQualityFor("video",e),this.notifyActionCompleted(RedditVideoPlayer.Actions.SET_RESOLUTION,this.bitrateOptions[e].height,t);return}this.dashPlayer.setAutoSwitchQualityFor("video",!0),this.notifyActionCompleted(RedditVideoPlayer.Actions.SET_RESOLUTION,"auto",t)}},RedditVideoPlayer.prototype.setAspectRatio=function(e){var t=e*100;this.root.append("<style>"+this.root.selector+":after{ padding-top: "+t+"%; }</style>"),this.notifyActionCompleted(RedditVideoPlayer.Actions.SET_ASPECT_RATIO,e)},RedditVideoPlayer.prototype.notifyActionCompleted=function(e,t,n){this.uiControllers.forEach(function(n){n.onActionCompleted(e,t)}),this.actionCompletedCallbacks.forEach(function(r){r.call(this,e,t,n)}.bind(this))},RedditVideoPlayer.prototype.doAction=function(e,t,n){switch(e){case RedditVideoPlayer.Actions.PLAY:this.play(n);break;case RedditVideoPlayer.Actions.PAUSE:this.pause(n);break;case RedditVideoPlayer.Actions.REPLAY:this.replay(n);break;case RedditVideoPlayer.Actions.MUTE:this.mute(n);break;case RedditVideoPlayer.Actions.UNMUTE:this.unmute(n);break;case RedditVideoPlayer.Actions.SEEK_JUMP:this.seekJump(t,n);break;case RedditVideoPlayer.Actions.SET_CURRENT_TIME:this.setCurrentTime(t,n);break;case RedditVideoPlayer.Actions.SET_VOLUME:this.setVolume(t,n);break;case RedditVideoPlayer.Actions.FULLSCREEN_REQUEST:case RedditVideoPlayer.Actions.FULLSCREEN_CANCEL:this.toggleFullScreen(n);break;case RedditVideoPlayer.Actions.SET_RESOLUTION:this.setResolution(t,n);break;case RedditVideoPlayer.Actions.NONE:this.noAction();case RedditVideoPlayer.Actions.SET_ASPECT_RATIO:this.setAspectRatio(t);break;default:console.warn("Invalid Action:",e)}},RedditVideoPlayer.prototype.addActionCompletedCallback=function(e){this.actionCompletedCallbacks.push(e)},RedditVideoPlayer.prototype.removeActionCompletedCallback=function(e){var t=this.actionCompletedCallbacks.indexOf(e);t!=-1&&this.actionCompletedCallbacks.splice(t,1)};var RedditVideoController=function(e,t){this.root=typeof e=="string"?$($.parseHTML(e)[0]):$(e),this.root.addClass("reddit-video-controller-root"),t=typeof t=="object"?t:{},this.options=_.defaults(t,RedditVideoController.DEFAULT_OPTIONS)};RedditVideoController.Behaviors={INTERSTITIAL:"interstitial",MOUSE_MOVE:"mousemove",COMPLETED:"completed",BUFFERING:"buffering"},RedditVideoController.DEFAULT_OPTIONS={behavior:RedditVideoController.Behaviors.MOUSE_MOVE,fadeInDuration:0,fadeOutDuration:400,fadeOutDelay:3e3,alwaysVisible:!1,startVisible:!0,opacityMax:1,opacityMin:0},RedditVideoController.secondsToTimeFormat=function(e){e=Math.ceil(e);var t=parseInt(e/3600)%24,n=parseInt(e/60)%60,r=e%60;return t!=0?t+":"+(n<10?"0"+n:n)+":"+(r<10?"0"+r:r):n+":"+(r<10?"0"+r:r)},RedditVideoController.prototype._prepareActions=function(){this._connectClickElements(),this._connectTextElement(),this._connectSeekBarElements(),this._connectVolumeSliderElements(),this._connectSettingsMenuElements()},RedditVideoController.prototype._connectClickElements=function(){function e(e,t){var t=$(t);t.click(function(e){var n=t.attr("data-action");if(n){var r=t.attr("data-value"),i={verb:"click",noun:n};this.fireEvent(n,r,i)}e.stopPropagation()}.bind(this))}var t="[data-control-type=click]"
,n=this.root.find(t);n.each(e.bind(this));var r=this.redditVideoPlayer.muted?"[data-action=mute][data-toggle-action=unmute]":"[data-action=unmute][data-toggle-action=mute]";r+=this.redditVideoPlayer.paused?", [data-action=pause][data-toggle-action=play]":", [data-action=play][data-toggle-action=pause]",n.filter(r).each(function(e,t){t=$(t);var n=t.attr("data-action"),r=t.attr("data-toggle-action");t.attr("data-action",r),t.attr("data-toggle-action",n)})},RedditVideoController.prototype._connectTextElement=function(){function t(t,n){n=$(n);var r=n.attr("data-action");r==="totalTime"?(isNaN(e.duration)||(n[0].innerHTML=RedditVideoController.secondsToTimeFormat(e.duration)),$(e).on("durationchange",function(){isNaN(e.duration)||(n[0].innerHTML=RedditVideoController.secondsToTimeFormat(e.duration))})):r==="elapsedTime"&&(isNaN(e.currentTime)||(n[0].innerHTML=RedditVideoController.secondsToTimeFormat(e.currentTime)),$(e).on("timeupdate",function(){isNaN(e.currentTime)||(n[0].innerHTML=RedditVideoController.secondsToTimeFormat(e.currentTime))}))}var e=this.redditVideoPlayer.video[0],n="[data-control-type=text]";this.root.find(n).each(t.bind(this))},RedditVideoController.prototype._connectSeekBarElements=function(){function t(t,n){n=$(n);var r=new RedditVideoSeekBar(this,n,n.attr("data-preview-video-src"));n.data("seek-bar-object",r),n.on("progress",function(t){var n=r.getProgress()/100,i={verb:"click",noun:"seek"};this.fireEvent(RedditVideoPlayer.Actions.SET_CURRENT_TIME,e.duration*n,i)}.bind(this)),n.on("press",function(e){this._setClickAction(RedditVideoPlayer.ClickActions.NONE)}.bind(this));var i=this.redditVideoPlayer.options.clickAction;n.on("release",function(e){this._setClickAction(i)}.bind(this)),$(e).on("timeupdate",function(t){var n=e.currentTime/e.duration*100;r.setProgress(n)}),$(e).on("progress",function(t){var n=[];for(var i=0;i<e.buffered.length;i++){var s={start:e.buffered.start(i)/e.duration*100,end:e.buffered.end(i)/e.duration*100};n.push(s)}r.setBuffered(n)})}var e=this.redditVideoPlayer.video[0],n="[data-control-type=seekBar]";this.root.find(n).each(t.bind(this))},RedditVideoController.prototype._connectVolumeSliderElements=function(){function e(e,t){t=$(t);var n=new RedditVideoVolumeSlider(this,t);t.data("volume-slider-object",n),t.on("change",function(e){var t={verb:"click",noun:"volume"};this.fireEvent(RedditVideoPlayer.Actions.SET_VOLUME,n.value,t)}.bind(this)),t.on("press",function(e){this._setClickAction(RedditVideoPlayer.ClickActions.NONE)}.bind(this));var r=this.redditVideoPlayer.options.clickAction;t.on("release",function(e){this._setClickAction(r)}.bind(this))}var t="[data-control-type=volumeSlider]";this.root.find(t).each(e.bind(this))},RedditVideoController.prototype._connectSettingsMenuElements=function(){function e(e,t){t=$(t);var n=new RedditVideoSettings(this,t);t.data("settings-menu-object",n),t.on("resolution",function(e,t){var n={verb:"click",noun:t.resolution>0?t.resolution:"auto"};this.fireEvent(RedditVideoPlayer.Actions.SET_RESOLUTION,t.index,n)}.bind(this))}var t="[data-control-type=settingsMenu]";this.root.find(t).each(e.bind(this))},RedditVideoController.prototype._prepareBehavior=function(){var e=this.options.behavior.split(" ");e.indexOf(RedditVideoController.Behaviors.INTERSTITIAL)!=-1&&this._setupInterstitialBehavior(),e.indexOf(RedditVideoController.Behaviors.MOUSE_MOVE)!=-1&&this._setupMouseMoveBehavior(),e.indexOf(RedditVideoController.Behaviors.COMPLETED)!=-1&&this._setupCompletedBehavior(),e.indexOf(RedditVideoController.Behaviors.BUFFERING)!=-1&&this._setupBufferingBehavior()},RedditVideoController.prototype._setupInterstitialBehavior=function(){this.root[0].style.visibility="visible";var e=[];for(var t=0;t<this.redditVideoPlayer.uiControllers.length;t++)controller=this.redditVideoPlayer.uiControllers[t],e.push(controller.root[0].style.visibility),controller!=this&&(controller.root[0].style.visibility="hidden");this.redditVideoPlayer.video[0].addEventListener("play",function(t){this.root[0].style.visibility="hidden";for(var n=0;n<this.redditVideoPlayer.uiControllers.length;n++)controller=this.redditVideoPlayer.uiControllers[n],controller==this?controller.root[0].style.visibility="hidden":controller.root[0].style.visibility=e[n];for(var n=0;n<this.redditVideoPlayer.uiControllers.length;n++){controller=this.redditVideoPlayer.uiControllers[n];if(controller==this){this.redditVideoPlayer.uiControllers.splice(n,1);break}}}.bind(this))},RedditVideoController.prototype._setupMouseMoveBehavior=function(){var e;this.isFadedIn=!0,this.root[0].style.opacity=this.options.startVisible?this.options.opacityMax:this.options.opacityMin,this.options.startVisible&&this.fadeOut();if(!this.options.alwaysVisible){function t(){this.fadeOut()}function n(t){clearTimeout(e),this.fadeOut()}function r(n){this.fadeIn(),clearTimeout(e),e=setTimeout(t.bind(this),this.options.fadeOutDelay)}this.redditVideoPlayer.root.on("mouseleave",n.bind(this)),this.redditVideoPlayer.root.on("mouseenter",r.bind(this)),this.redditVideoPlayer.root.on("mousedown",r.bind(this)),this.redditVideoPlayer.root.on("mousemove",r.bind(this))}},RedditVideoController.prototype._setupCompletedBehavior=function(){function e(){this.root[0].style.visibility="hidden"}this.root[0].style.opacity=this.options.startVisible?this.options.opacityMax:this.options.opacityMin,this.options.startVisible?this.fadeOut(e):e.call(this),this.redditVideoPlayer.video[0].addEventListener("ended",function(e){this.root[0].style.visibility="visible",this.fadeIn()}.bind(this)),this.redditVideoPlayer.video[0].addEventListener("play",function(t){this.fadeOut(e)}.bind(this))},RedditVideoController.prototype._setupBufferingBehavior=function(){function e(){this.root[0].style.visibility="hidden"}var t=this.redditVideoPlayer.video;t[0].readyState<3?(this.root[0].style.visibility="visible",this.fadeIn()):this.fadeOut(e),t.on("waiting",function(e){t[0].currentTime!==0&&(this.root[0].style.visibility="visible",this.fadeIn())}.bind(this)),t.on("playing canplay seeked",function(t){this.fadeOut(e)}.bind(this))},RedditVideoController.prototype._setClickAction=function(e){setTimeout(function(){this.redditVideoPlayer.setClickAction(e)}.bind(this),0)},RedditVideoController.prototype.attach=function(e){this.redditVideoPlayer=e,this._prepareActions(),this._prepareBehavior(),this.redditVideoPlayer.controls.append(this.root)},RedditVideoController.prototype.notifyBitrateOptions=function(e){var t="[data-control-type=settingsMenu]";this.root.find(t).each(function(t,n){var r=$(n).data("settings-menu-object");r&&r.updateBitrateOptions(e)})},RedditVideoController.prototype.fadeOut=function(e){this.isFadedIn&&(this.fadeTo(this.options.opacityMin,this.options.fadeOutDuration,e),this.isFadedIn=!1)},RedditVideoController.prototype.fadeIn=function(e){this.isFadedIn||(this.fadeTo(this.options.opacityMax,this.options.fadeInDuration,e),this.isFadedIn=!0)},RedditVideoController.prototype.fadeTo=function(e,t,n){function r(e,t){var n=new Date;clearInterval(this.fadeInterval),this.fadeInterval=setInterval(function(){var r=new Date-n,i=r/e.duration;i>1&&(i=1);var s=e.delta.call(this,i);e.step.call(this,s),i==1&&(clearInterval(this.fadeInterval),t&&t.call(this))}.bind(this),1e3/60)}function i(e,t,n,r,i){return(i-r)*(e-t)/(n-t)+r}var s=this.root[0].style.opacity,o=!1;s>e&&(o=!0),r.call(this,{duration:t,delta:function(e){return e},step:function(e){var t;o&&(e=1-e),this.root[0].style.opacity=i(e,RedditVideoController.DEFAULT_OPTIONS.opacityMin,RedditVideoController.DEFAULT_OPTIONS.opacityMax,this.options.opacityMin,this.options.opacityMax)}},n)},RedditVideoController.prototype.fireEvent=function(e,t,n){var r={action:e,value:t,eventExtras:n};this.redditVideoPlayer.root.trigger("videoAction",r)},RedditVideoController.prototype.onActionCompleted=function(e,t){function n(t,n){n=$(n);var r=n.attr("data-toggle-action");r&&(n.attr("data-action",r),n.attr("data-toggle-action",e))}function i(t){e==RedditVideoPlayer.Actions.MUTE?t.value=0:t.value=this.redditVideoPlayer.video[0].volume}var r="[data-action='"+e+"']";this.root.find(r).each(n.bind(this));if(e===RedditVideoPlayer.Actions.MUTE||e===RedditVideoPlayer.Actions.UNMUTE){var s=".reddit-video-volume-slider";this.root.find(s).each(i.bind(this))}};var RedditVideoSeekBar=function(e,t,n){this.parentController=e,this.root=$(t).addClass("reddit-video-seek-bar-root"),this.previewVideoUrl=n,this.backgroundBar=$("<div>").addClass("seek-bar-bar seek-bar-background"),this.lookaheadBar=$("<div>").addClass("seek-bar-bar seek-bar-lookahead"),this.progressBar=$("<div>").addClass("seek-bar-bar seek-bar-progress"),this.progressThumb=$("<div>").addClass("seek-bar-thumb seek-bar-progress"),this.previewContainer=$("<div>").addClass("seek-bar-floating"),this.previewVideo=$("<video muted preload>").attr("src",n),this.previewTime=$("<span>").addClass("seek-bar-time"),this.previewContainer.append(this.previewVideo,this.previewTime),this.root.append(this.backgroundBar,this.lookaheadBar,this.progressBar,this.progressThumb,this.previewContainer),this.isMouseDown=!1,this.progressPercent=0,this.previewVideo[0].load(),this._prepareMouseEvents()};RedditVideoSeekBar.prototype._prepareMouseEvents=function(){this.root.on("mousemove",function(e){var t=this.root[0].getBoundingClientRect(),n=e.clientX-t.left,r=n/t.width*100;this.setLookahead(r)}.bind(this)),this.root.on("mouseleave",function(e){this.previewContainer[0].style.visibility="hidden",this.setLookahead(0)}.bind(this)),this.root.on("mouseenter",function(e){this.previewContainer[0].style.visibility="visible"}.bind(this)),this.root.on("mousedown",function(e){if(!this.isMouseDown&&e.which==1){this.root.trigger("press"),this.isMouseDown=!0;var t=this.root[0].getBoundingClientRect(),n=e.clientX-t.left,r=n/t.width*100;this.setProgress(r,!0)}}.bind(this)),$(document).on("mousemove",function(e){if(this.isMouseDown){var t=this.root[0].getBoundingClientRect(),n=(e.pageX-t.left)/t.width*100;n=Math.min(Math.max(n,0),100),this.setProgress(n,!0)}}.bind(this)),$(document).on("mouseup",function(e){this.isMouseDown&&(this.isMouseDown=!1,this.root.trigger("release"),this.root.trigger("progress"))}.bind(this)),this.root.on("click",function(e){e.stopPropagation()})},RedditVideoSeekBar.prototype.setProgress=function(e,t){t=t||!1,e=Math.min(Math.max(e,0),100);if(!this.isMouseDown||t){this.progressPercent=e,this.progressBar[0].style.width=e+"%";var n=this.progressThumb[0].getBoundingClientRect().width/2;this.progressThumb[0].style.marginLeft="calc("+e+"% - "+n+"px)"}},RedditVideoSeekBar.prototype.getProgress=function(){return this.progressPercent},RedditVideoSeekBar.prototype.setLookahead=function(e){this.lookaheadBar[0].style.width=e+"%";var t=this.previewVideo[0].duration*(e/100);isNaN(t)||(this.previewVideo[0].currentTime=Math.min(Math.max(t,0),this.previewVideo[0].duration),this.previewTime.html(RedditVideoController.secondsToTimeFormat(t)));var n=this.parentController.root[0].getBoundingClientRect(),r=this.root[0].getBoundingClientRect(),i=this.previewContainer[0].getBoundingClientRect(),s=n.left-r.left,o=n.right-r.left-i.width,u=e/100*r.width-i.width/2;this.previewContainer[0].style.left=Math.max(s,Math.min(u,o))+"px"},RedditVideoSeekBar.prototype.setBuffered=function(e){var t=this.root.find(".seek-bar-bar.seek-bar-buffered"),n=t.length,r=e.length;for(var i=n;i<r;i++){var s=$("<div>").addClass("seek-bar-bar seek-bar-buffered");s.insertBefore(this.progressBar)}var t=this.root.find(".seek-bar-bar.seek-bar-buffered");for(var i=0;i<e.length;i++){var o=e[i].end-e[i].start;t[i].style.width=o+"%",t[i].style.left=e[i].start+"%"}for(var i=r;i<n;i++)$(t[i]).remove()};var RedditVideoVolumeSlider=function(e,t){this.parentController=e,this.root=$(t).addClass("reddit-video-volume-slider-root"),this.container=$("<div>").addClass("volume-slider-container"),this.trackBar=$("<div>").addClass("volume-slider-bar volume-slider-track"),this.progressBar=$("<div>").addClass("volume-slider-bar volume-slider-progress"),this.thumb=$("<div>").addClass("volume-slider-thumb"),this.root.append(this.container.append(this.trackBar.append(this.progressBar.append(this.thumb)))),Object.defineProperty(this,"value",{get:function(){return this._value}.bind(this),set:function(e){this._value=Math.max(Math.min(e,this.max),this.min);var t=(this._value-this.min)/(this.max-this.min)*100;this.progressBar[0].style.height=t+"%"}.bind(this)});var n=this.root.attr("step");n&&(this.step=n),this.isMouseDown=!1,this.value=this.parentController.redditVideoPlayer.volume,this._prepareMouseEvents()};Object.defineProperties(RedditVideoVolumeSlider.prototype,{min:{value:0,writable:!1},max:{value:1,writable:!1},step:{value:.1,writable:!0}}),RedditVideoVolumeSlider.prototype._prepareMouseEvents=function(){var e=this.redditVideoPlayer;this.container.on("mousedown",function(e){if(!this.isMouseDown&&e.which==1){this.root.trigger("press"),this.isMouseDown=!0;var t=this.container[0].getBoundingClientRect(),n=e.clientY-t.top,r=100-n/t.height*100;this.value=(this.max-this.min)*(r/100),this.root.trigger("change")}}.bind(this)),$(document).on("mousemove",function(e){if(this.isMouseDown){var t=this.container[0].getBoundingClientRect(),n=e.clientY-t.top,r=100-n/t.height*100;this.value=(this.max-this.min)*(r/100),this.root.trigger("change")}}.bind(this)),$(document).on("mouseup",function(e){this.isMouseDown&&(this.isMouseDown=!1,this.root.trigger("release"))}.bind(this)),this.root.on("click",function(e){e.stopPropagation()})},RedditVideoVolumeSlider.prototype.stepUp=function(){this.value+=this.step,this.root.trigger("change")},RedditVideoVolumeSlider.prototype.stepDown=function(){this.value-=this.step,this.root.trigger("change")};var RedditVideoSettings=function(e,t){this.parentController=e,this.root=$(t).addClass("reddit-video-settings-root");var n=$("<div>").addClass("video-settings-container");this.name="quality-"+RedditVideoSettings.count++;var r=$("<label>").append($("<input>").attr({type:"radio",value:"1080",name:this.name}),$("<img>").attr({src:"/static/checkmark.svg"}),$("<span>").html("1080p"),"&nbsp;",$("<span>").addClass("hd").html("HD")),i=$("<label>").append($("<input>").attr({type:"radio",value:"720",name:this.name}),$("<img>").attr({src:"/static/checkmark.svg"}),$("<span>").html("720p"),"&nbsp;",$("<span>").addClass("hd").html("HD")),s=$("<label>").append($("<input>").attr({type:"radio",value:"480",name:this.name}),$("<img>").attr({src:"/static/checkmark.svg"}),$("<span>").html("480p")),o=$("<label>").append($("<input>").attr({type:"radio",value:"360",name:this.name}),$("<img>").attr({src:"/static/checkmark.svg"}),$("<span>").html("360p")),u=$("<label>").append($("<input>").attr({type:"radio",value:"240",name:this.name}),$("<img>").attr({src:"/static/checkmark.svg"}),$("<span>").html("240p")),a=$("<label>").append($("<input>").attr({type:"radio",value:"0",checked:!0,name:this.name}),$("<img>").attr({src:"/static/checkmark.svg"}),$("<span>").html("Auto"));n.append(r,i,s,o,u,a),this.root.append(n),this.qualityRadioButtons=n.find("input[type=radio]"),this.qualityRadioButtons.on("change",function(e,t,n,r){var i={resolution:e.target.value,index:$(e.target).attr("data-index")};this.root.trigger("resolution",[i])}.bind(this)),this.root.on("click",function(e){e.stopPropagation()}),Object.defineProperty(this,"quality",{get:function(){return this._quality}.bind(this),set:function(e){this._quality=e}.bind(this)})};RedditVideoSettings.count=0,RedditVideoSettings.prototype.updateBitrateOptions=function(e){this.qualityRadioButtons.each(function(e,t){t.value==="0"?(t.disabled=!1,t.checked=!0):(t.disabled=!0,$(t).parent().css("display","none"))});var t=e.map(function(e){return e.height}),n=e.map(function(e){return e.qualityIndex});for(var r=0;r<t.length;r++){var i=t[r],s=RedditVideoSettings.Resolutions.reduce(function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e}),o=this.root.find('input[name="'+this.name+'"][value="'+s+'"]');o.attr({disabled:!1,"data-index":n[r]}),o.parent().css("display","inherit")}},RedditVideoSettings.Resolutions=[240,360,480,720,1080];